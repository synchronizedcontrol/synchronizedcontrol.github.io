(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("os0x"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return d});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class c extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new h(c),d=f},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.1.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("HDdC");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return L}),n.d(e,"b",function(){return xu}),n.d(e,"c",function(){return Ou}),n.d(e,"d",function(){return _u}),n.d(e,"e",function(){return wu}),n.d(e,"f",function(){return yc}),n.d(e,"g",function(){return ac}),n.d(e,"h",function(){return Oa}),n.d(e,"i",function(){return Vu}),n.d(e,"j",function(){return Qo}),n.d(e,"k",function(){return ku}),n.d(e,"l",function(){return Jo}),n.d(e,"m",function(){return Tr}),n.d(e,"n",function(){return Ya}),n.d(e,"o",function(){return hs}),n.d(e,"p",function(){return b}),n.d(e,"q",function(){return D}),n.d(e,"r",function(){return xs}),n.d(e,"s",function(){return ga}),n.d(e,"t",function(){return ya}),n.d(e,"u",function(){return Au}),n.d(e,"v",function(){return Ra}),n.d(e,"w",function(){return cc}),n.d(e,"x",function(){return Pa}),n.d(e,"y",function(){return nc}),n.d(e,"z",function(){return qu}),n.d(e,"A",function(){return v}),n.d(e,"B",function(){return Tu}),n.d(e,"C",function(){return Su}),n.d(e,"D",function(){return Za}),n.d(e,"E",function(){return ea}),n.d(e,"F",function(){return ta}),n.d(e,"G",function(){return kr}),n.d(e,"H",function(){return ra}),n.d(e,"I",function(){return An}),n.d(e,"J",function(){return w}),n.d(e,"K",function(){return fc}),n.d(e,"L",function(){return Ia}),n.d(e,"M",function(){return Qu}),n.d(e,"N",function(){return W}),n.d(e,"O",function(){return sa}),n.d(e,"P",function(){return ia}),n.d(e,"Q",function(){return Da}),n.d(e,"R",function(){return nt}),n.d(e,"S",function(){return rc}),n.d(e,"T",function(){return sn}),n.d(e,"U",function(){return H}),n.d(e,"V",function(){return Vt}),n.d(e,"W",function(){return rn}),n.d(e,"X",function(){return mc}),n.d(e,"Y",function(){return Zu}),n.d(e,"Z",function(){return Iu}),n.d(e,"ab",function(){return ds}),n.d(e,"bb",function(){return Do}),n.d(e,"cb",function(){return xn}),n.d(e,"db",function(){return ln}),n.d(e,"eb",function(){return $e}),n.d(e,"fb",function(){return Ye}),n.d(e,"gb",function(){return tn}),n.d(e,"hb",function(){return Ze}),n.d(e,"ib",function(){return Xe}),n.d(e,"jb",function(){return Je}),n.d(e,"kb",function(){return jo}),n.d(e,"lb",function(){return pc}),n.d(e,"mb",function(){return Po}),n.d(e,"nb",function(){return Ro}),n.d(e,"ob",function(){return Qe}),n.d(e,"pb",function(){return z}),n.d(e,"qb",function(){return Ls}),n.d(e,"rb",function(){return eo}),n.d(e,"sb",function(){return to}),n.d(e,"tb",function(){return ko}),n.d(e,"ub",function(){return qt}),n.d(e,"vb",function(){return O}),n.d(e,"wb",function(){return We}),n.d(e,"xb",function(){return As}),n.d(e,"yb",function(){return Dn}),n.d(e,"zb",function(){return Go}),n.d(e,"Ab",function(){return gi}),n.d(e,"Bb",function(){return Us}),n.d(e,"Cb",function(){return mo}),n.d(e,"Db",function(){return fu}),n.d(e,"Eb",function(){return dt}),n.d(e,"Fb",function(){return _t}),n.d(e,"Gb",function(){return T}),n.d(e,"Hb",function(){return x}),n.d(e,"Ib",function(){return yt}),n.d(e,"Jb",function(){return wt}),n.d(e,"Kb",function(){return Hs}),n.d(e,"Lb",function(){return Ys}),n.d(e,"Mb",function(){return Zs}),n.d(e,"Nb",function(){return Xs}),n.d(e,"Ob",function(){return Qs}),n.d(e,"Pb",function(){return $s}),n.d(e,"Qb",function(){return Js}),n.d(e,"Rb",function(){return Or}),n.d(e,"Sb",function(){return To}),n.d(e,"Tb",function(){return Ft}),n.d(e,"Ub",function(){return Ks}),n.d(e,"Vb",function(){return vu}),n.d(e,"Wb",function(){return no}),n.d(e,"Xb",function(){return mu}),n.d(e,"Yb",function(){return so}),n.d(e,"Zb",function(){return uo}),n.d(e,"ac",function(){return ao}),n.d(e,"bc",function(){return Gs}),n.d(e,"cc",function(){return co}),n.d(e,"dc",function(){return uu}),n.d(e,"ec",function(){return Bs}),n.d(e,"fc",function(){return de}),n.d(e,"gc",function(){return kn}),n.d(e,"hc",function(){return bt}),n.d(e,"ic",function(){return du}),n.d(e,"jc",function(){return cu}),n.d(e,"kc",function(){return po}),n.d(e,"lc",function(){return zs}),n.d(e,"mc",function(){return wo}),n.d(e,"nc",function(){return Oo}),n.d(e,"oc",function(){return Eo}),n.d(e,"pc",function(){return Co}),n.d(e,"qc",function(){return So}),n.d(e,"rc",function(){return lu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){return{toString:t}.toString()}const g="__parameters__";function y(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(g)?t[g]:Object.defineProperty(t,g,{value:[]})[g];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const b=y("Inject",t=>({token:t})),v=y("Optional"),_=y("Self"),w=y("SkipSelf");function O(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(O).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function E(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function C(t){for(let e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return A(t,j)||A(t,R)}function A(t,e){return t.hasOwnProperty(e)?t[e]:null}function k(t){return t&&(t.hasOwnProperty(P)||t.hasOwnProperty(N))?t[P]:null}const j=C({"\u0275prov":C}),P=C({"\u0275inj":C}),R=C({ngInjectableDef:C}),N=C({ngInjectorDef:C});class D{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const L=new D("AnalyzeForEntryComponents");var F=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const V="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,z=V||q||M||U,B=C({__forward_ref__:C});function H(t){return t.__forward_ref__=H,t.toString=function(){return O(this())},t}function K(t){return G(t)?t():t}function G(t){return"function"==typeof t&&t.hasOwnProperty(B)&&t.__forward_ref__===H}const W=Function;function $(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),$(r,e)):e!==t&&e.push(r)}return e}function Q(t,e){t.forEach(t=>Array.isArray(t)?Q(t,e):e(t))}function Y(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function X(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Z(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function J(t,e,n){let r=et(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tt(t,e){const n=et(t,e);if(n>=0)return t[1|n]}function et(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var nt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const rt={},it=[],st=C({"\u0275cmp":C}),ot=C({"\u0275dir":C}),at=C({"\u0275pipe":C}),ut=C({"\u0275mod":C}),ct=C({"\u0275loc":C}),lt=C({"\u0275fac":C}),ht=C({__NG_ELEMENT_ID__:C});let ft=0;function dt(t){return m(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||nt.Emulated,id:"c",styles:t.styles||it,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=ft++,n.inputs=vt(t.inputs,e),n.outputs=vt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(pt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(mt):null,n})}function pt(t){return Ot(t)||function(t){return t[ot]||null}(t)}function mt(t){return function(t){return t[at]||null}(t)}const gt={};function yt(t){const e={type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{gt[t.id]=t.type}),e}function bt(t,e){return m(()=>{const n=Et(t,!0);n.declarations=e.declarations||it,n.imports=e.imports||it,n.exports=e.exports||it})}function vt(t,e){if(null==t)return rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const _t=dt;function wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ot(t){return t[st]||null}function Et(t,e){const n=t[ut]||null;if(!n&&!0===e)throw new Error(`Type ${O(t)} does not have '\u0275mod' property.`);return n}function Ct(t){return"string"==typeof t?t:null==t?"":""+t}function St(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ct(t)}var Tt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let xt;function It(t){const e=xt;return xt=t,e}function At(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Tt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${O(t)}]`)}const kt={},jt=/\n/gm,Pt="__source",Rt=C({provide:String,useValue:C});let Nt=void 0;function Dt(t){const e=Nt;return Nt=t,e}function Lt(t,e=Tt.Default){if(void 0===Nt)throw new Error("inject() must be called from an injection context");return null===Nt?At(t,void 0,e):Nt.get(t,e&Tt.Optional?null:void 0,e)}function Ft(t,e=Tt.Default){return(xt||Lt)(K(t),e)}const Vt=Ft;function Mt(t){const e=[];for(let n=0;n<t.length;n++){const r=K(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=Tt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=Tt.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=Tt.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=Tt.Self:t=i instanceof b||i===b?i.token:i}e.push(Ft(t,n))}else e.push(Ft(r))}return e}let Ut=void 0;function qt(t){Ut=t}const zt=20,Bt=10;function Ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function Kt(t){return Array.isArray(t)&&!0===t[1]}function Gt(t){return 0!=(8&t.flags)}function Wt(t){return 2==(2&t.flags)}function $t(t){return 1==(1&t.flags)}function Qt(t){return null!==t.template}function Yt(t){return!!t.listen}const Xt={createRenderer:(t,e)=>void 0!==Ut?Ut:"undefined"!=typeof document?document:void 0};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Zt(e[t])}function te(t,e){return Zt(e[t.index])}function ee(t,e){return t.data[e]}function ne(t,e){const n=e[t];return Ht(n)?n:n[0]}function re(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ie(t){return 4==(4&t[2])}function se(t){return 128==(128&t[2])}function oe(t,e){return null==e?null:t[e]}function ae(t){t[18]=0}function ue(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ce={lFrame:Pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function le(){return ce.bindingsEnabled}function he(){return ce.lFrame.lView}function fe(){return ce.lFrame.tView}function de(t){ce.lFrame.contextLView=t}function pe(){let t=me();for(;null!==t&&64===t.type;)t=t.parent;return t}function me(){return ce.lFrame.currentTNode}function ge(t,e){const n=ce.lFrame;n.currentTNode=t,n.isParent=e}function ye(){return ce.lFrame.isParent}function be(){ce.lFrame.isParent=!1}function ve(){return ce.isInCheckNoChangesMode}function _e(t){ce.isInCheckNoChangesMode=t}function we(){return ce.lFrame.bindingIndex}function Oe(){return ce.lFrame.bindingIndex++}function Ee(t){const e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ce(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Se(e)}function Se(t){ce.lFrame.currentDirectiveIndex=t}function Te(){return ce.lFrame.currentQueryIndex}function xe(t){ce.lFrame.currentQueryIndex=t}function Ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ae(t,e,n){if(n&Tt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Tt.Host||(r=Ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=ce.lFrame=je();return r.currentTNode=e,r.lView=t,!0}function ke(t){const e=je(),n=t[1];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function je(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Re(){const t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ne=Re;function De(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Le(){return ce.lFrame.selectedIndex}function Fe(t){ce.lFrame.selectedIndex=t}function Ve(){const t=ce.lFrame;return ee(t.tView,t.selectedIndex)}let Me;function Ue(t){var e;return(null===(e=function(){if(void 0===Me&&(Me=null,z.trustedTypes))try{Me=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Me}())||void 0===e?void 0:e.createHTML(t))||t}class qe{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class ze extends qe{getTypeName(){return"HTML"}}class Be extends qe{getTypeName(){return"Style"}}class He extends qe{getTypeName(){return"Script"}}class Ke extends qe{getTypeName(){return"URL"}}class Ge extends qe{getTypeName(){return"ResourceURL"}}function We(t){return t instanceof qe?t.changingThisBreaksApplicationSecurity:t}function $e(t,e){const n=Qe(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Qe(t){return t instanceof qe&&t.getTypeName()||null}function Ye(t){return new ze(t)}function Xe(t){return new Be(t)}function Ze(t){return new He(t)}function Je(t){return new Ke(t)}function tn(t){return new Ge(t)}let en=!0,nn=!1;function rn(){return nn=!0,en}function sn(){if(nn)throw new Error("Cannot enable prod mode after platform setup.");en=!1}class on{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ue(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class an{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ue(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Ue(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const un=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ln(t){return(t=String(t)).match(un)||t.match(cn)?t:(rn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function hn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function fn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const dn=hn("area,br,col,hr,img,wbr"),pn=hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mn=hn("rp,rt"),gn=fn(mn,pn),yn=fn(dn,fn(pn,hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fn(mn,hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gn),bn=hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vn=hn("srcset"),_n=fn(bn,vn,hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wn=hn("script,style,template");class On{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!yn.hasOwnProperty(e))return this.sanitizedSomething=!0,!wn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!_n.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;bn[s]&&(o=ln(o)),vn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ln(t.trim())).join(", ")),this.buf.push(" ",e,'="',Sn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();yn.hasOwnProperty(e)&&!dn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Sn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const En=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cn=/([^\#-~ |!])/g;function Sn(t){return t.replace(/&/g,"&amp;").replace(En,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Cn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tn;function xn(t,e){let n=null;try{Tn=Tn||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Ue(""),"text/html")}catch(t){return!1}}()?new on:new an(t)}(t);let r=e?String(e):"";n=Tn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Tn.getInertBodyElement(r)}while(r!==s);const o=new On,a=o.sanitizeChildren(In(n)||n);return rn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=In(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function In(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var An=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function kn(t){const e=function(){const t=he();return t&&t[12]}();return e?e.sanitize(An.URL,t)||"":$e(t,"URL")?We(t):ln(Ct(t))}function jn(t,e){return t.hasOwnProperty(lt)?t[lt]:null}class Pn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function Rn(t,e){const n=e?" in "+e:"";throw new Pn("201",`No provider for ${St(t)} found${n}`)}class Nn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Dn(){return Ln}function Ln(t){return t.type.prototype.ngOnChanges&&(t.setInput=Vn),Fn}function Fn(){const t=Mn(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Vn(t,e,n,r){const i=Mn(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:rt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Nn(u&&u.currentValue,e,o===rt),t[r]=e}function Mn(t){return t.__ngSimpleChanges__||null}function Un(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function qn(t,e,n){Hn(t,e,3,n)}function zn(t,e,n,r){(3&t[2])===n&&Hn(t,e,n,r)}function Bn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Hn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Kn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Kn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}Dn.ngInherit=!0;const Gn=-1;class Wn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function $n(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Yn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Qn(t){return 3===t||4===t||6===t}function Yn(t){return 64===t.charCodeAt(0)}function Xn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Zn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Zn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Jn(t){return t!==Gn}function tr(t){return 32767&t}function er(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let nr=!0;function rr(t){const e=nr;return nr=t,e}let ir=0;function sr(t,e){const n=ar(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,or(r.data,t),or(e,null),or(r.blueprint,null));const i=ur(t,e),s=t.injectorIndex;if(Jn(i)){const t=tr(i),n=er(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function or(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ar(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ur(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Gn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Gn}function cr(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ht)&&(r=n[ht]),null==r&&(r=n[ht]=ir++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function lr(t,e,n){if(n&Tt.Optional)return t;Rn(e,"NodeInjector")}function hr(t,e,n,r){if(n&Tt.Optional&&void 0===r&&(r=null),0==(n&(Tt.Self|Tt.Host))){const i=t[9],s=It(void 0);try{return i?i.get(e,r,n&Tt.Optional):At(e,r,n&Tt.Optional)}finally{It(s)}}return lr(r,e,n)}function fr(t,e,n,r=Tt.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ht)?t[ht]:void 0;return"number"==typeof e?e>=0?255&e:pr:e}(n);if("function"==typeof s){if(!Ae(e,t,r))return r&Tt.Host?lr(i,n,r):hr(e,n,r,i);try{const t=s();if(null!=t||r&Tt.Optional)return t;Rn(n)}finally{Ne()}}else if("number"==typeof s){let i=null,o=ar(t,e),a=Gn,u=r&Tt.Host?e[16][6]:null;for((-1===o||r&Tt.SkipSelf)&&(a=-1===o?ur(t,e):e[o+8],a!==Gn&&vr(r,!1)?(i=e[1],o=tr(a),e=er(a,e)):o=-1);-1!==o;){const t=e[1];if(br(s,o,t.data)){const t=mr(o,e,n,i,r,u);if(t!==dr)return t}a=e[o+8],a!==Gn&&vr(r,e[1].data[o+8]===u)&&br(s,o,e)?(i=t,o=tr(a),e=er(a,e)):o=-1}}}return hr(e,n,r,i)}const dr={};function pr(){return new _r(pe(),he())}function mr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=gr(a,o,n,null==r?Wt(a)&&nr:r!=o&&0!=(3&a.type),i&Tt.Host&&s===a);return null!==u?yr(e,o,u,a):dr}function gr(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Qt(t)&&t.type===n)return u}return null}function yr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Wn){const o=i;o.resolving&&function(t,e){throw new Pn("200","Circular dependency in DI detected for "+t)}(St(s[n]));const a=rr(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?It(o.injectImpl):null;Ae(t,r,Tt.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ln(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&It(u),rr(a),o.resolving=!1,Ne()}}return i}function br(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function vr(t,e){return!(t&Tt.Self||t&Tt.Host&&e)}class _r{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return fr(this._tNode,this._lView,t,void 0,e)}}function wr(t){const e=t;if(G(t))return()=>{const t=wr(K(e));return t?t():null};let n=jn(e);if(null===n){const t=k(e);n=t&&t.factory}return n||null}function Or(t){return m(()=>{const e=t.prototype.constructor,n=e[lt]||wr(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[lt]||wr(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Er(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Er(t)?Er(t):this._findContext(Cr(t)):null}_findOriginalError(t){let e=Cr(t);for(;e&&Cr(e);)e=Cr(e);return e}}function xr(t,e){t.__ngContext__=e}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ar(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function jr(t,e){return(void 0)(t,e)}function Pr(t){const e=t[3];return Kt(e)?e[3]:e}function Rr(t){return Dr(t[13])}function Nr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!Kt(t);)t=t[4];return t}function Lr(t,e,n,r,i){if(null!=r){let s,o=!1;Kt(r)?s=r:Ht(r)&&(o=!0,r=r[0]);const a=Zt(r);0===t&&null!==n?null==i?Hr(e,n,a):Br(e,n,a,i||null,!0):1===t&&null!==n?Br(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Gr(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Zt(n)&&Lr(e,t,r,s,i);for(let o=Bt;o<n.length;o++){const i=n[o];Jr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Fr(t,e,n){return Yt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ue(i,-1)),n.splice(r,1)}function Mr(t,e){if(t.length<=Bt)return;const n=Bt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Vr(s,r),e>0&&(t[n-1][4]=r[4]);const o=X(t,Bt+e);Jr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&Jr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qr(t[1],t);for(;e;){let n=null;if(Ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ht(e)&&qr(e[1],e),e=e[3];null===e&&(e=t),Ht(e)&&qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Wn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Zt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Yt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Kt(e[3])){n!==e[3]&&Vr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function zr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===nt.None||e===nt.Emulated)return null}return te(r,n)}(t,e.parent,n)}function Br(t,e,n,r,i){Yt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Hr(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function Kr(t,e,n,r,i){null!==r?Br(t,e,n,r,i):Hr(t,e,n)}function Gr(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function Wr(t,e,n){return $r(t,e,n)}let $r=function(t,e,n){return 40&t.type?te(t,n):null};function Qr(t,e,n,r){const i=zr(t,r,e),s=e[11],o=Wr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Kr(s,i,n[a],o,!1);else Kr(s,i,n,o,!1)}function Yr(t,e){if(null!==e){const n=e.type;if(3&n)return te(e,t);if(4&n)return Xr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Yr(t,n);{const n=t[e.index];return Kt(n)?Xr(-1,n):Zt(n)}}if(32&n)return jr(e,t)()||Zt(t[e.index]);{const n=t[16],r=n[6],i=Pr(n),s=r.projection[e.projection];return null!=s?Yr(i,s):Yr(t,e.next)}}return null}function Xr(t,e){const n=Bt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Yr(t,r)}return e[7]}function Zr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&xr(Zt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Zr(t,e,n.child,r,i,s,!1),Lr(e,t,i,a,s);else if(32&u){const o=jr(n,r);let u;for(;u=o();)Lr(e,t,i,u,s);Lr(e,t,i,a,s)}else 16&u?ti(t,e,r,n,i,s):Lr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Jr(t,e,n,r,i,s){Zr(n,r,t.firstChild,e,i,s,!1)}function ti(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Lr(e,t,i,a[u],s);else Zr(t,e,a,o[3],i,s,!0)}function ei(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ni(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ri(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ii="ng-template";function si(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ri(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oi(t){return 4===t.type&&t.value!==ii}function ai(t,e,n){return e===(4!==t.type||n?t.value:ii)}function ui(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Qn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ai(t,u,n)||""===u&&1===e.length){if(ci(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!si(t.attrs,c,n)){if(ci(r))return!1;o=!0}continue}const l=li(8&r?"class":u,i,oi(t),n);if(-1===l){if(ci(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ri(e,c,0)||2&r&&c!==t){if(ci(r))return!1;o=!0}}}}else{if(!o&&!ci(r)&&!ci(u))return!1;if(o&&ci(u))continue;o=!1,r=u|1&r}}return ci(r)||o}function ci(t){return 0==(1&t)}function li(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ui(t,e[r],n))return!0;return!1}function fi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function di(t,e){return t?":not("+e.trim()+")":e}function pi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ci(o)||(e+=di(s,i),i=""),r=o,s=s||!ci(r);n++}return""!==i&&(e+=di(s,i)),e}const mi={};function gi(t){yi(fe(),he(),Le()+t,ve())}function yi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&qn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&zn(e,r,0,n)}Fe(n)}function bi(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function _i(t){return 2|t}function wi(t){return(131068&t)>>2}function Oi(t,e){return-131069&t|e<<2}function Ei(t){return 1|t}function Ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];xe(i),n.contentQueries(2,e[s],s)}}}function Si(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ae(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ti(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=me(),o=ye(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),ce.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return ge(s,!0),s}function xi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ii(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&is(1,r,n);const i=t.template;null!==i&&ji(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ci(t,e),t.staticViewQueries&&is(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,De()}}function Ai(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const s=ve();try{ae(e),ce.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ji(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&qn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&zn(e,n,0,null),Bn(e,0)}if(function(t){for(let e=Rr(t);null!==e;e=Nr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ue(r,1),n[2]|=1024}}}(e),function(t){for(let e=Rr(t);null!==e;e=Nr(e))for(let t=Bt;t<e.length;t++){const n=e[t],r=n[1];se(n)&&Ai(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ci(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&qn(e,n)}else{const n=t.contentHooks;null!==n&&zn(e,n,1),Bn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Fe(~r);else{const i=r,s=n[++t],o=n[++t];Ce(s,i),o(2,e[i])}}}finally{Fe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Xi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&is(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&qn(e,n)}else{const n=t.viewHooks;null!==n&&zn(e,n,2),Bn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ue(e[3],-1))}finally{De()}}function ki(t,e,n,r){const i=e[10],s=!ve(),o=ie(e);try{s&&!o&&i.begin&&i.begin(),o&&Ii(t,e,r),Ai(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ji(t,e,n,r,i){const s=Le();try{Fe(-1),2&r&&e.length>zt&&yi(t,e,zt,ve()),n(r,i)}finally{Fe(s)}}function Pi(t,e,n){if(Gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ri(t,e,n){le()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||sr(n,e),xr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Qt(r);s&&Wi(e,n,r);const u=yr(e,t,a,n);xr(u,e),null!==o&&$i(0,a-i,u,r,0,o),s&&(ne(n.index,e)[8]=u)}}(t,e,n,te(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ce.lFrame.currentDirectiveIndex;try{Fe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||zi(r,i)}}finally{Fe(-1),Se(o)}}(t,e,n))}function Ni(t,e,n=te){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Di(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Li(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Li(t,e,n,r,i,s,o,a,u,c){const l=zt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:mi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Fi(t,e,n,r){const i=os(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Vi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Mi(t,e,n,r,i,s,o,a){const u=te(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(us(t,n,c,r,i),Wt(e)&&function(t,e){const n=ne(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Yt(s)?s.setProperty(u,r,i):Yn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ui(t,e,n,r){let i=!1;if(le()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];hi(n,o.selectors,!1)&&(i||(i=[]),cr(sr(n,e),t,o.type),Qt(o)?(Bi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ki(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=xi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Xn(n.mergedAttrs,c.hostAttrs),Gi(t,n,e,u,c),Hi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||oi(e)?null:Qi(n,i);s.push(c),o=Vi(n,u,o),a=Vi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Pn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Xn(n.mergedAttrs,n.attrs),i}function qi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function zi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qt(e)&&(n[""]=t)}}function Ki(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=jn(i.type)),o=new Wn(s,Qt(i),null);t.blueprint[r]=o,n[r]=o,qi(t,e,0,r,xi(t,n,i.hostVars,mi),i)}function Wi(t,e,n){const r=te(e,t),i=Di(n),s=t[10],o=ts(t,Si(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function $i(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Qi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Yi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Xi(t,e){const n=ne(e,t);if(se(n)){const t=n[1];80&n[2]?Ai(t,n,t.template,n[8]):n[5]>0&&Zi(n)}}function Zi(t){for(let n=Rr(t);null!==n;n=Nr(n))for(let t=Bt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ai(t,e,t.template,e[8])}else e[5]>0&&Zi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ne(e[n],t);se(r)&&r[5]>0&&Zi(r)}}function Ji(t,e){const n=ne(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ii(r,n,n[8])}function ts(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function es(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ns(t,e,n){const r=e[10];r.begin&&r.begin();try{Ai(t,e,t.template,n)}catch(i){throw as(e,i),i}finally{r.end&&r.end()}}function rs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=re(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function is(t,e,n){xe(0),e(t,n)}const ss=(()=>Promise.resolve(null))();function os(t){return t[7]||(t[7]=[])}function as(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function us(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function cs(t,e,n){const r=Jt(e,t);!function(t,e,n){Yt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ls(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=E(i,t):2==s&&(r=E(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const hs=new D("INJECTOR",-1);class fs{get(t,e=kt){if(e===kt){const e=new Error(`NullInjectorError: No provider for ${O(t)}!`);throw e.name="NullInjectorError",e}return e}}const ds=new D("Set Injector scope."),ps={},ms={},gs=[];let ys=void 0;function bs(){return void 0===ys&&(ys=new fs),ys}function vs(t,e=null,n=null,r){return new _s(t,n,e||bs(),r)}class _s{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Q(e,n=>this.processProvider(n,t,e)),Q([t],t=>this.processInjectorType(t,[],i)),this.records.set(hs,Es(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:O(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=kt,n=Tt.Default){this.assertNotDestroyed();const r=Dt(this);try{if(!(n&Tt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof D)&&I(t);e=n&&this.injectableDefInScope(n)?Es(ws(t),ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Tt.Self?bs():this.parent).get(t,e=n&Tt.Optional&&e===kt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(O(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Pt]&&i.unshift(e[Pt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=O(e);if(Array.isArray(e))i=e.map(O).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):O(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Dt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(O(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=K(t)))return!1;let r=k(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Q(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Q(r,t=>this.processProvider(t,n,r||gs))}}this.injectorDefTypes.add(s),this.records.set(s,Es(r.factory,ps));const a=r.providers;if(null!=a&&!o){const e=t;Q(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ss(t=K(t))?t:K(t&&t.provide);const i=function(t,e,n){return Cs(t)?Es(void 0,t.useValue):Es(Os(t),ps)}(t);if(Ss(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Es(void 0,ps,!0),e.factory=()=>Mt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ps&&(e.value=ms,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ws(t){const e=I(t),n=null!==e?e.factory:jn(t);if(null!==n)return n;const r=k(t);if(null!==r)return r.factory;if(t instanceof D)throw new Error(`Token ${O(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Z(e,"?");throw new Error(`Can't resolve all parameters for ${O(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[R]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Os(t,e,n){let r=void 0;if(Ss(t)){const e=K(t);return jn(e)||ws(e)}if(Cs(t))r=()=>K(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Mt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Ft(K(t.useExisting));else{const e=K(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return jn(e)||ws(e);r=()=>new e(...Mt(t.deps))}var i;return r}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cs(t){return null!==t&&"object"==typeof t&&Rt in t}function Ss(t){return"function"==typeof t}const Ts=function(t,e,n){return function(t,e=null,n=null,r){const i=vs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let xs=(()=>{class t{static create(t,e){return Array.isArray(t)?Ts(t,e,""):Ts(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=kt,t.NULL=new fs,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>Ft(hs)}),t.__NG_ELEMENT_ID__=-1,t})();function Is(t,e){Un(re(t)[1],pe())}function As(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ks(t.inputs),e.declaredInputs=ks(t.declaredInputs),e.outputs=ks(t.outputs);const n=i.hostBindings;n&&Rs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&js(t,s),o&&Ps(t,o),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===As&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xn(i.hostAttrs,n=Xn(n,i.hostAttrs))}}(r)}function ks(t){return t===rt?{}:t===it?[]:t}function js(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ps(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Rs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ns=null;function Ds(){if(!Ns){const t=z.Symbol;if(t&&t.iterator)Ns=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ns=n)}}}return Ns}function Ls(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,r){const i=Vs(t,e,n);return Vs(t,e+1,r)||i}function Us(t,e,n,r){const i=he();return Vs(i,Oe(),e)&&(fe(),function(t,e,n,r,i,s){const o=te(t,e);!function(t,e,n,r,i,s,o){if(null==s)Yt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?Ct(s):o(s,r||"",i);Yt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Ve(),i,t,e,n,r)),Us}function qs(t,e,n,r){return Vs(t,Oe(),n)?e+Ct(n)+r:mi}function zs(t,e,n,r,i,s,o,a){const u=he(),c=fe(),l=t+zt,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ti(e,t,4,o||null,oe(c,a));Ui(e,n,l,oe(c,u)),Un(e,l);const h=l.tViews=Li(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];ge(h,!1);const f=u[11].createComment("");Qr(c,u,f,h),xr(f,u),ts(u,u[l]=Yi(f,u,f,h)),$t(h)&&Ri(c,u,h),null!=o&&Ni(u,h,a)}function Bs(t){return function(t,e){return t[e]}(ce.lFrame.contextLView,zt+t)}function Hs(t,e=Tt.Default){const n=he();return null===n?Ft(t,e):fr(pe(),n,K(t),e)}function Ks(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Qn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pe(),t)}function Gs(t,e,n){const r=he();return Vs(r,Oe(),e)&&Mi(fe(),Ve(),r,t,e,r[11],n,!1),Gs}function Ws(t,e,n,r,i){const s=i?"class":"style";us(t,n,e.inputs[s],s,r)}function $s(t,e,n,r){const i=he(),s=fe(),o=zt+t,a=i[11],u=i[o]=Fr(a,e,ce.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ti(e,t,2,i,oe(a,s));return Ui(e,n,u,oe(a,o)),null!==u.attrs&&ls(u,u.attrs,!1),null!==u.mergedAttrs&&ls(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];ge(c,!0);const l=c.mergedAttrs;null!==l&&$n(a,u,l);const h=c.classes;null!==h&&ni(a,u,h);const f=c.styles;null!==f&&ei(a,u,f),64!=(64&c.flags)&&Qr(s,i,u,c),0===ce.lFrame.elementDepthCount&&xr(u,i),ce.lFrame.elementDepthCount++,$t(c)&&(Ri(s,i,c),Pi(s,c,i)),null!==r&&Ni(i,c)}function Qs(){let t=pe();ye()?be():(t=t.parent,ge(t,!1));const e=t;ce.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(Un(n,t),Gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ws(n,e,he(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ws(n,e,he(),e.stylesWithoutHost,!1)}function Ys(t,e,n,r){$s(t,e,n,r),Qs()}function Xs(t,e,n){const r=he(),i=fe(),s=t+zt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=oe(s,r),a=Ti(e,t,8,"ng-container",o);return null!==o&&ls(a,o,!0),Ui(e,n,a,oe(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ge(o,!0);const a=r[s]=r[11].createComment("");Qr(i,r,a,o),xr(a,r),$t(o)&&(Ri(i,r,o),Pi(i,o,r)),null!=n&&Ni(r,o)}function Zs(){let t=pe();const e=fe();ye()?be():(t=t.parent,ge(t,!1)),e.firstCreatePass&&(Un(e,t),Gt(t)&&e.queries.elementEnd(t))}function Js(){return he()}function to(t){return!!t&&"function"==typeof t.then}function eo(t){return!!t&&"function"==typeof t.subscribe}function no(t,e,n=!1,r){const i=he(),s=fe(),o=pe();return function(t,e,n,r,i,s,o=!1,a){const u=$t(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=os(e);let h=!0;if(3&r.type){const f=te(r,e),d=a?a(f):rt,p=d.target||f,m=l.length,g=a?t=>a(Zt(t[r.index])).target:r.index;if(Yt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=io(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=io(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),no}function ro(t,e,n){try{return!1!==e(n)}catch(r){return as(t,r),!1}}function io(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ne(t.index,e):e;0==(32&e[2])&&es(o);let a=ro(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=ro(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(t=1){return function(t){return(ce.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ce.lFrame.contextLView))[8]}(t)}function oo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?hi(t,s,!0):fi(r,s))return i}else n=i}return n}function ao(t){const e=he()[16][6];if(!e.projection){const n=e.projection=Z(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?oo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function uo(t,e=0,n){const r=he(),i=fe(),s=Ti(i,zt+t,16,null,n||null);null===s.projection&&(s.projection=e),be(),64!=(64&s.flags)&&function(t,e,n){ti(e[11],0,e,n,zr(t,n,e),Wr(n.parent||e[6],n,e))}(i,r,s)}function co(t,e,n,r,i){const s=he(),o=qs(s,e,n,r);return o!==mi&&Mi(fe(),Ve(),s,t,o,s[11],i,!1),co}const lo=[];function ho(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?vi(s):wi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];fo(t[a],e)&&(u=!0,t[a+1]=r?Ei(n):_i(n)),a=r?vi(n):wi(n)}u&&(t[n+1]=r?_i(s):Ei(s))}function fo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&et(t,e)>=0}function po(t,e,n){return go(t,e,n,!1),po}function mo(t,e){return go(t,e,null,!0),mo}function go(t,e,n,r){const i=he(),s=fe(),o=Ee(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Le()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=bo(n=yo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=yo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==wi(r))return t[vi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=yo(null,t,e,n[1],r),n=bo(n,e.attrs,r),function(t,e,n,r){t[vi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bo(r,t[s].hostAttrs,n);return bo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vi(o),u=wi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||et(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=vi(t[a+1]);t[r+1]=bi(e,a),0!==e&&(t[e+1]=Oi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=bi(a,0),0!==a&&(t[a+1]=Oi(t[a+1],r)),a=r;else t[r+1]=bi(u,0),0===a?a=r:t[u+1]=Oi(t[u+1],r),u=r;l&&(t[r+1]=_i(t[r+1])),ho(t,c,r,!0),ho(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&et(s,e)>=0&&(n[r+1]=Ei(n[r+1]))}(e,c,t,r,s),o=bi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==mi&&Vs(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];_o(1==(1&c)?vo(u,e,n,i,wi(c),o):void 0)||(_o(s)||function(t){return 2==(2&t)}(c)&&(s=vo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Yt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=kr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Jt(Le(),n),i,s))}(s,s.data[Le()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=O(We(t)))),t}(e,n),r,o)}function yo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=bo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function bo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),J(t,o,!!n||e[++s]))}return void 0===t?null:t}function vo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===mi&&(l=c?lo:void 0);let h=c?tt(l,r):u===r?l:void 0;if(s&&!_o(h)&&(h=tt(e,r)),_o(h)&&(a=h,o))return a;const f=t[i+1];i=o?vi(f):wi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=tt(t,r))}return a}function _o(t){return void 0!==t}function wo(t,e=""){const n=he(),r=fe(),i=t+zt,s=r.firstCreatePass?Ti(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Yt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Qr(r,n,o,s),ge(s,!1)}function Oo(t){return Eo("",t,""),Oo}function Eo(t,e,n){const r=he(),i=qs(r,t,e,n);return i!==mi&&cs(r,Le(),i),Eo}function Co(t,e,n,r,i){const s=he(),o=function(t,e,n,r,i,s){const o=Ms(t,we(),n,i);return Ee(2),o?e+Ct(n)+r+Ct(i)+s:mi}(s,t,e,n,r,i);return o!==mi&&cs(s,Le(),o),Co}function So(t,e,n,r,i,s,o){const a=he(),u=function(t,e,n,r,i,s,o,a){const u=function(t,e,n,r,i){const s=Ms(t,e,n,r);return Vs(t,e+2,i)||s}(t,we(),n,i,o);return Ee(3),u?e+Ct(n)+r+Ct(i)+s+Ct(o)+a:mi}(a,t,e,n,r,i,s,o);return u!==mi&&cs(a,Le(),u),So}function To(t,e,n){const r=he();return Vs(r,Oe(),e)&&Mi(fe(),Ve(),r,t,e,r[11],n,!0),To}const xo=void 0;var Io=["en",[["a","p"],["AM","PM"],xo],[["AM","PM"],xo,xo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xo,"{1} 'at' {0}",xo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ao={};function ko(t,e,n){"string"!=typeof e&&(n=e,e=t[Do.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ao[e]=t,n&&(Ao[e][Do.ExtraData]=n)}function jo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=No(e);if(n)return n;const r=e.split("-")[0];if(n=No(r),n)return n;if("en"===r)return Io;throw new Error(`Missing locale data for the locale "${t}".`)}function Po(t){return jo(t)[Do.CurrencyCode]||null}function Ro(t){return jo(t)[Do.PluralCase]}function No(t){return t in Ao||(Ao[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Ao[t]}var Do=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Lo="en-US";let Fo=Lo;function Vo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Fo=t.toLowerCase().replace(/_/g,"-"))}function Mo(t,e,n,r,i){if(t=K(t),Array.isArray(t))for(let s=0;s<t.length;s++)Mo(t[s],e,n,r,i);else{const s=fe(),o=he();let a=Ss(t)?t:K(t.provide),u=Os(t);const c=pe(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ss(t)||!t.multi){const r=new Wn(u,i,Hs),d=zo(a,e,i?l:l+f,h);-1===d?(cr(sr(c,o),s,a),Uo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=zo(a,e,l+f,h),p=zo(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){cr(sr(c,o),s,a);const l=function(t,e,n,r,i){const s=new Wn(t,n,Hs);return s.multi=[],s.index=e,s.componentProviders=0,qo(s,i,r&&!n),s}(i?Ho:Bo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Uo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Uo(s,t,d>-1?d:p,qo(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Uo(t,e,n,r){const i=Ss(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function qo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Bo(t,e,n,r){return Ko(this.multi,[])}function Ho(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=yr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Ko(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Ko(i,s);return s}function Ko(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Go(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=Qt(t);Mo(n,r.data,r.blueprint,i,!0),Mo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Wo{}class $o{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${O(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Qo=(()=>{class t{}return t.NULL=new $o,t})();function Yo(...t){}function Xo(t,e){return new Jo(te(t,e))}const Zo=function(){return Xo(pe(),he())};let Jo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Zo,t})();class ta{}let ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>na(),t})();const na=function(){const t=he(),e=ne(pe().index,t);return function(t){return t[11]}(Ht(e)?e:t)};let ra=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class ia{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sa=new ia("11.0.2");class oa{constructor(){}supports(t){return Ls(t)}create(t){return new ua(t)}}const aa=(t,e)=>e;class ua{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<fa(n,r,i)?e:n,o=fa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ls(t))throw new Error(`Error trying to diff '${O(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ca(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ha),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ha),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ca{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class la{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ha{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new la,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class da{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new pa}}class pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${O(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ma(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ma{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ga=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new oa])}),t})(),ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new da])}),t})();function ba(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Zt(s)),Kt(s))for(let t=Bt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ba(e[1],e,n,r)}const o=n.type;if(8&o)ba(t,e,n.child,r);else if(32&o){const t=jr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Pr(t);ba(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class va{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return ba(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ur(this._lView[1],this._lView)}onDestroy(t){Fi(this._lView[1],this._lView,null,t)}markForCheck(){es(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ns(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){_e(!0);try{ns(t,e,n)}finally{_e(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Jr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class _a extends va{constructor(t){super(t),this._view=t}detectChanges(){rs(this._view)}checkNoChanges(){!function(t){_e(!0);try{rs(t)}finally{_e(!1)}}(this._view)}get context(){return null}}const wa=Ea;let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=wa,t.__ChangeDetectorRef__=!0,t})();function Ea(t=!1){return function(t,e,n){if(!n&&Wt(t)){const n=ne(t.index,e);return new va(n,n)}return 47&t.type?new va(e[16],e):null}(pe(),he(),t)}const Ca=[new da],Sa=new ga([new oa]),Ta=new ya(Ca),xa=function(){return ja(pe(),he())};let Ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=xa,t})();const Aa=Ia,ka=class extends Aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ii(e,n,t),new va(n)}};function ja(t,e){return 4&t.type?new ka(e,t,Xo(t,e)):null}class Pa{}class Ra{}const Na=function(){return Ua(pe(),he())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const La=Da,Fa=class extends La{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Xo(this._hostTNode,this._hostLView)}get injector(){return new _r(this._hostTNode,this._hostLView)}get parentInjector(){const t=ur(this._hostTNode,this._hostLView);if(Jn(t)){const e=er(t,this._hostLView),n=tr(t);return new _r(e[1].data[n+8],e)}return new _r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Va(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Pa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(Kt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Fa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=Bt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Bt?(e[4]=n[i],Y(n,Bt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Xr(i,s),a=n[11],u=Gr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Jr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),Y(Ma(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Va(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(X(Ma(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=X(Ma(this._lContainer),e)?new va(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Va(t){return t[8]}function Ma(t){return t[8]||(t[8]=[])}function Ua(t,e){let n;const r=e[t.index];if(Kt(r))n=r;else{let i;if(8&t.type)i=Zt(r);else{const n=e[11];i=n.createComment("");const r=te(t,e);Br(n,Gr(n,r),i,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Yi(r,e,i,t),ts(e,n)}return new Fa(n,t,e)}const qa={};class za extends Qo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ot(t);return new Ka(e,this.ngModule)}}function Ba(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new D("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class Ka extends Wo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ba(this.componentDef.inputs)}get outputs(){return Ba(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,qa,i);return s!==qa||r===qa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ta,Xt),o=i.get(ra,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===nt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Fr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:ss,playerHandler:null,flags:0},f=Li(0,null,null,1,0,null,null,null,null,null),d=Si(null,f,h,l,null,null,s,a,o,i);let p,m;ke(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ti(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ls(a,u,!0),null!==t&&($n(i,t,u),null!==a.classes&&ni(i,t,a.classes),null!==a.styles&&ei(i,t,a.styles)));const c=r.createRenderer(t,e),l=Si(n,Di(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(cr(sr(a,n),o,e.type),Bi(o,a),Ki(a,n.length,1)),ts(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)$n(a,c,["ng-version",sa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ci(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&$n(a,c,t),e&&e.length>0&&ni(a,c,e.join(" "))}if(m=ee(f,zt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gi(t,r,e,xi(t,e,1,null),n));const i=yr(e,t,r.directiveStart,r);xr(i,e);const s=te(r,e);return s&&xr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=pe();e.contentQueries(1,o,t.directiveStart)}const a=pe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Fe(a.index),qi(n[1],a,0,a.directiveStart,a.directiveEnd,e),zi(e,o)),o}(t,this.componentDef,d,h,[Is]),Ii(f,d,null)}finally{De()}return new Ga(this.componentType,p,Xo(m,d),d,m)}}class Ga extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new _a(r),this.componentType=t}get injector(){return new _r(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Wa=new Map;class $a extends Pa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new za(this);const n=Et(t),r=t[ct]||null;r&&Vo(r),this._bootstrapComponents=Ar(n.bootstrap),this._r3Injector=vs(t,e,[{provide:Pa,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],O(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xs.THROW_IF_NOT_FOUND,n=Tt.Default){return t===xs||t===Pa||t===hs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Qa extends Ra{constructor(t){super(),this.moduleType=t,null!==Et(t)&&function(t){const e=new Set;!function t(n){const r=Et(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${O(e)} vs ${O(e.name)}`)}(i,Wa.get(i),n),Wa.set(i,n));const s=Ar(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new $a(this.moduleType,t)}}const Ya=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Xa(){return this._results[Ds()]()}class Za{constructor(){this.dirty=!0,this._results=[],this.changes=new Ya,this.length=0;const t=Ds(),e=Za.prototype;e[t]||(e[t]=Xa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=$(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ja{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ja(this.queryList)}setDirty(){this.queryList.setDirty()}}class tu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new tu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bu(t,e).matches&&this.queries[e].setDirty()}}class eu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ru{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ru(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,iu(e,i)),this.matchTNodeWithReadOption(t,e,gr(e,t,i,!1,!1))}else n===Ia?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,gr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Jo||r===Da||r===Ia&&4&e.type)this.addMatch(e.index,-2);else{const n=gr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function iu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function su(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Xo(t,e):4&t.type?ja(t,e):null}(e,t):-2===n?function(t,e,n){return n===Jo?Xo(e,t):n===Ia?ja(e,t):n===Da?Ua(e,t):void 0}(t,e,r):yr(t,t[1],n,e)}function ou(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:su(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function au(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=ou(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=Bt;t<o.length;t++){const e=o[t];e[17]===e[3]&&au(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];au(n[1],n,i,r)}}}}}return r}function uu(t){const e=he(),n=fe(),r=Te();xe(r+1);const i=bu(n,r);if(t.dirty&&ie(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?au(n,e,r,[]):ou(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function cu(t,e,n){hu(fe(),he(),t,e,n,!0)}function lu(t,e,n){hu(fe(),he(),t,e,n,!1)}function hu(t,e,n,r,i,s){t.firstCreatePass&&(yu(t,new eu(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),gu(t,e)}function fu(t,e,n,r){pu(fe(),he(),e,n,r,!1,pe(),t)}function du(t,e,n,r){pu(fe(),he(),e,n,r,!0,pe(),t)}function pu(t,e,n,r,i,s,o,a){t.firstCreatePass&&(yu(t,new eu(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),gu(t,e)}function mu(){return t=he(),e=Te(),t[19].queries[e].queryList;var t,e}function gu(t,e){const n=new Za;Fi(t,e,n,n.destroy),null===e[19]&&(e[19]=new tu),e[19].queries.push(new Ja(n))}function yu(t,e,n){null===t.queries&&(t.queries=new nu),t.queries.track(new ru(e,n))}function bu(t,e){return t.queries.getByIndex(e)}function vu(t=Tt.Default){const e=Ea(!0);if(null!=e||t&Tt.Optional)return e;Rn("ChangeDetectorRef")}const _u=new D("Application Initializer");let wu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Yo,this.reject=Yo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();to(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Ft(_u,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Ou=new D("AppId"),Eu={provide:Ou,useFactory:function(){return`${Cu()}${Cu()}${Cu()}`},deps:[]};function Cu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Su=new D("Platform Initializer"),Tu=new D("Platform ID"),xu=new D("appBootstrapListener");let Iu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Au=new D("LocaleId"),ku=new D("DefaultCurrencyCode");class ju{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Pu=function(t){return new Qa(t)},Ru=Pu,Nu=function(t){return Promise.resolve(Pu(t))},Du=function(t){const e=Pu(t),n=Ar(Et(t).declarations).reduce((t,e)=>{const n=Ot(e);return n&&t.push(new Ka(n)),t},[]);return new ju(e,n)},Lu=Du,Fu=function(t){return Promise.resolve(Du(t))};let Vu=(()=>{class t{constructor(){this.compileModuleSync=Ru,this.compileModuleAsync=Nu,this.compileModuleAndAllComponentsSync=Lu,this.compileModuleAndAllComponentsAsync=Fu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Mu=(()=>Promise.resolve(0))();function Uu(t){"undefined"==typeof Zone?Mu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ya(!1),this.onMicrotaskEmpty=new Ya(!1),this.onStable=new Ya(!1),this.onError=new Ya(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ku(t),Hu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ku(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Gu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Wu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Gu(t),e.invoke(r,i,s,o,a)}finally{Wu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ku(t),Hu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Bu,zu,zu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function zu(){}const Bu={};function Hu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ku(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Gu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wu(t){t._nesting--,Hu(t)}class $u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ya,this.onMicrotaskEmpty=new Ya,this.onStable=new Ya,this.onError=new Ya}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Qu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qu.assertNotInAngularZone(),Uu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Ft(qu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,tc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return tc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class Xu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Zu(t){tc=t}let Ju,tc=new Xu;const ec=new D("AllowMultipleToken");class nc{constructor(t,e){this.name=t,this.token=e}}function rc(t,e,n=[]){const r="Platform: "+e,i=new D(r);return(e=[])=>{let s=ic();if(!s||s.injector.get(ec,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(Ju&&!Ju.destroyed&&!Ju.injector.get(ec,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ju=t.get(sc);const e=t.get(Su,null);e&&e.forEach(t=>t())}(xs.create({providers:t,name:r}))}return function(t){const e=ic();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ic(){return Ju&&!Ju.destroyed?Ju:null}let sc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $u:("zone.js"===t?void 0:t)||new qu({enableLongStackTrace:rn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:qu,useValue:n}];return n.run(()=>{const e=xs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>uc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return to(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(wu);return t.runInitializers(),t.donePromise.then(()=>(Vo(i.injector.get(Au,Lo)||Lo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=oc({},e);return function(t,e,n){const r=new Qa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${O(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Ft(xs))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function oc(t,e){return Array.isArray(e)?e.reduce(oc,t):Object.assign(Object.assign({},t),e)}let ac=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=rn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qu.assertNotInAngularZone(),Uu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Wo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Pa),i=n.create(xs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Qu,null);return s&&i.injector.get(Yu).registerApplication(i.location.nativeElement,s),this._loadComponent(i),rn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;uc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),uc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Ft(qu),Ft(Iu),Ft(xs),Ft(Tr),Ft(Qo),Ft(wu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function uc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cc{}class lc{}const hc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let fc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||hc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>dc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>dc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Ft(Vu),Ft(lc,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function dc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const pc=function(t){return null},mc=rc(null,"core",[{provide:Tu,useValue:"unknown"},{provide:sc,deps:[xs]},{provide:Yu,deps:[]},{provide:Iu,deps:[]}]),gc=[{provide:ac,useClass:ac,deps:[qu,Iu,xs,Tr,Qo,wu]},{provide:Ha,deps:[qu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:wu,useClass:wu,deps:[[new v,_u]]},{provide:Vu,useClass:Vu,deps:[]},Eu,{provide:ga,useFactory:function(){return Sa},deps:[]},{provide:ya,useFactory:function(){return Ta},deps:[]},{provide:Au,useFactory:function(t){return Vo(t=t||"undefined"!=typeof $localize&&$localize.locale||Lo),t},deps:[[new b(Au),new v,new w]]},{provide:ku,useValue:"USD"}];let yc=(()=>{class t{constructor(t){}}return t.\u0275mod=yt({type:t}),t.\u0275inj=x({factory:function(e){return new(e||t)(Ft(ac))},providers:gc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},os0x:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return m});var r=n("os0x");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.1");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));return JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`),s}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o)return s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`),o;{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,u.z,[new u.A,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)(u.Tb(u.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("os0x"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),m=d.next();!m.done;m=d.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCu_5WAZRz61xA29nLbhG4h052R0mz4aHg",authDomain:"moviedatabase-be298.firebaseapp.com",databaseURL:"https://moviedatabase-be298.firebaseio.com",projectId:"moviedatabase-be298",storageBucket:"moviedatabase-be298.appspot.com",messagingSenderId:"282507109673",appId:"1:282507109673:web:9e1bb595035ec380bbc338",measurementId:"G-D68N1BXY5M"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Tb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=Object(r.Gb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Tb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Tb)(a).location;return new _(Object(r.Tb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(u),r.Tb(v,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(u),r.Tb(v,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(y),r.Tb(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Gb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Tb)(y),Object(r.Tb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const T=r.nb;class x{}let I=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.E))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new R(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}class F{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let V=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),M=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new F(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.Q),r.Kb(r.L),r.Kb(V,1))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),U=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:x,useClass:I}]}),t})();function q(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new B(Object(r.Tb)(a),window,Object(r.Tb)(r.m))}),t})();class B{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=H(this.window.history)||H(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function H(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class K extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new K,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=W||(W=document.querySelector("base"),W)?W.getAttribute("href"):null;return null==e?null:(n=e,G||(G=document.createElement("a")),G.setAttribute("href",n),"/"===G.pathname.charAt(0)?G.pathname:"/"+G.pathname);var n}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return A(document.cookie,t)}}let G,W=null;const $=new r.q("TRANSITION_ID"),Q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$,a,r.r],multi:!0}];class Y{static init(){Object(r.Y)(new Y)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.q("EventManagerPlugins");let Z=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(X),r.Tb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class J{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t extends tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rt=/%COMP%/g;function it(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?it(t,i,n):(i=i.replace(rt,t),n.push(i))}return n}function st(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new at(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ut(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=it(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Z),r.Tb(et),r.Tb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class at{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,st(n)):this.eventManager.addEventListener(t,e,st(n))}}class ut extends at{constructor(t,e,n,r){super(t),this.component=n;const i=it(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends at{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=it(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lt=(()=>{class t extends J{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ht=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let mt=(()=>{class t extends J{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(ht.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ht.forEach(r=>{r!=n&&(0,pt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const gt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){K.makeCurrent(),Y.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],yt=Object(r.S)(r.X,"browser",gt),bt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:lt,multi:!0,deps:[a,r.z,r.B]},{provide:X,useClass:mt,multi:!0,deps:[a]},[],{provide:ot,useClass:ot,deps:[Z,et,r.c]},{provide:r.F,useExisting:ot},{provide:tt,useExisting:et},{provide:et,useClass:et,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:Z,useClass:Z,deps:[X,r.z]},[]];let vt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:$,useExisting:r.c},Q]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(t,12))},providers:bt,imports:[U,r.f]}),t})();"undefined"!=typeof window&&window;var _t=n("LRne"),wt=n("Cfvw"),Ot=n("XNiG"),Et=n("9ppp");class Ct extends Ot.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Et.a;return this._value}next(t){super.next(this._value=t)}}var St=n("z+Ro"),Tt=n("DH7j"),xt=n("7o/Q");class It extends xt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class At extends xt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var kt=n("SeVD"),jt=n("HDdC");function Pt(t,e,n,r,i=new At(t,n,r)){if(!i.closed)return e instanceof jt.a?e.subscribe(i):Object(kt.a)(e)(i)}var Rt=n("yCtX");const Nt={};class Dt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Lt(t,this.resultSelector))}}class Lt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Nt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Pt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Nt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ft=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Vt=n("EY2u");function Mt(t){return new jt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(wt.a)(n):Object(Vt.b)()).subscribe(e)})}var Ut=n("lJxs"),qt=n("bHdf");function zt(){return Object(qt.a)(1)}function Bt(t,e){return function(n){return n.lift(new Ht(t,e))}}class Ht{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg))}}class Kt extends xt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Gt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wt(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new $t(t))}}class $t{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new Qt(t,this.total))}}class Qt extends xt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Yt(t=Jt){return e=>e.lift(new Xt(t))}class Xt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Zt(t,this.errorFactory))}}class Zt extends xt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Jt(){return new Ft}function te(t=null){return e=>e.lift(new ee(t))}class ee{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ne(t,this.defaultValue))}}class ne extends xt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var re=n("SpAZ"),ie=n("zx2A");function se(t,e){return"function"==typeof e?n=>n.pipe(se((n,r)=>Object(wt.a)(t(n,r)).pipe(Object(Ut.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new oe(t))}class oe{constructor(t){this.project=t}call(t,e){return e.subscribe(new ae(t,this.project))}}class ae extends ie.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new ie.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(ie.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ue(t){return e=>0===t?Object(Vt.b)():e.lift(new ce(t))}class ce{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new le(t,this.total))}}class le extends xt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function he(...t){return zt()(Object(_t.a)(...t))}function fe(...t){const e=t[t.length-1];return Object(St.a)(e)?(t.pop(),n=>he(t,n,e)):e=>he(t,e)}function de(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new pe(t,e,n))}}class pe{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new me(t,this.accumulator,this.seed,this.hasSeed))}}class me extends xt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ge(t){return function(e){const n=new ye(t),r=e.lift(n);return n.caught=r}}class ye{constructor(t){this.selector=t}call(t,e){return e.subscribe(new be(t,this.selector,this.caught))}}class be extends ie.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new ie.a(this);this.add(r);const i=Object(ie.c)(n,r);i!==r&&this.add(i)}}}var ve=n("5+tZ");function _e(t,e){return Object(ve.a)(t,e,1)}function we(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Bt((e,n)=>t(e,n,r)):re.a,ue(1),n?te(e):Yt(()=>new Ft))}var Oe=n("vkgz"),Ee=n("quSY");class Ce{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Se(t,this.callback))}}class Se extends xt.a{constructor(t,e){super(t),this.add(new Ee.a(e))}}class Te{constructor(t,e){this.id=t,this.url=e}}class xe extends Te{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ie extends Te{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ae extends Te{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ke extends Te{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class je extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends Te{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ne extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Te{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class He{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ke(t){return new He(t)}function Ge(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function We(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $e(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Qe(t[i],e[i]))return!1;return!0}function Qe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ye(t){return Array.prototype.concat.apply([],t)}function Xe(t){return t.length>0?t[t.length-1]:null}function Ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Je(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(wt.a)(Promise.resolve(t)):Object(_t.a)(t)}function tn(t,e,n){return n?function(t,e){return $e(t,e)}(t.queryParams,e.queryParams)&&en(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Qe(t[n],e[n]))}(t.queryParams,e.queryParams)&&nn(t.root,e.root)}function en(t,e){if(!un(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!en(t.children[n],e.children[n]))return!1}return!0}function nn(t,e){return rn(t,e,e.segments)}function rn(t,e,n){if(t.segments.length>n.length)return!!un(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!un(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!nn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!un(t.segments,r)&&!!t.children.primary&&rn(t.children.primary,e,i)}}class sn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ke(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class on{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ze(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dn(this)}}class an{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ke(this.parameters)),this._parameterMap}toString(){return _n(this)}}function un(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function cn(t,e){let n=[];return Ze(t.children,(t,r)=>{r===Be&&(n=n.concat(e(t,r)))}),Ze(t.children,(t,r)=>{r!==Be&&(n=n.concat(e(t,r)))}),n}class ln{}class hn{parse(t){const e=new Sn(t);return new sn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+pn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${gn(e)}=${gn(t)}`).join("&"):`${gn(e)}=${gn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const fn=new hn;function dn(t){return t.segments.map(t=>_n(t)).join("/")}function pn(t,e){if(!t.hasChildren())return dn(t);if(e){const e=t.children.primary?pn(t.children.primary,!1):"",n=[];return Ze(t.children,(t,e)=>{e!==Be&&n.push(`${e}:${pn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=cn(t,(e,n)=>n===Be?[pn(t.children.primary,!1)]:[`${n}:${pn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${dn(t)}/${e[0]}`:`${dn(t)}/(${e.join("//")})`}}function mn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gn(t){return mn(t).replace(/%3B/gi,";")}function yn(t){return mn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bn(t){return decodeURIComponent(t)}function vn(t){return bn(t.replace(/\+/g,"%20"))}function _n(t){return`${yn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${yn(t)}=${yn(e[t])}`).join("")}`;var e}const wn=/^[^\/()?;=#]+/;function On(t){const e=t.match(wn);return e?e[0]:""}const En=/^[^=?&#]+/,Cn=/^[^?&#]+/;class Sn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new on(t,e)),n}parseSegment(){const t=On(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new an(bn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=On(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=On(this.remaining);t&&(n=t,this.capture(n))}t[bn(e)]=bn(n)}parseQueryParam(t){const e=function(t){const e=t.match(En);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Cn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=vn(e),i=vn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=On(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Be);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new on([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Tn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=xn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=In(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return In(t,this._root).map(t=>t.value)}}function xn(t,e){if(t===e.value)return e;for(const n of e.children){const e=xn(t,n);if(e)return e}return null}function In(t,e){if(t===e.value)return[e];for(const n of e.children){const r=In(t,n);if(r.length)return r.unshift(e),r}return[]}class An{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function kn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class jn extends Tn{constructor(t,e){super(t),this.snapshot=e,Fn(this,t)}toString(){return this.snapshot.toString()}}function Pn(t,e){const n=function(t,e){const n=new Dn([],{},{},"",{},Be,e,null,t.root,-1,{});return new Ln("",new An(n,[]))}(t,e),r=new Ct([new an("",{})]),i=new Ct({}),s=new Ct({}),o=new Ct({}),a=new Ct(""),u=new Rn(r,i,o,a,s,Be,e,n.root);return u.snapshot=n.root,new jn(new An(u,[]),n)}class Rn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ut.a)(t=>Ke(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ut.a)(t=>Ke(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ke(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ke(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends Tn{constructor(t,e){super(e),this.url=t,Fn(this,e)}toString(){return Vn(this._root)}}function Fn(t,e){e.value._routerState=t,e.children.forEach(e=>Fn(t,e))}function Vn(t){const e=t.children.length>0?` { ${t.children.map(Vn).join(", ")} } `:"";return`${t.value}${e}`}function Mn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$e(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$e(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$e(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$e(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Un(t,e){return $e(t.params,e.params)&&function(t,e){return un(t,e)&&t.every((t,n)=>$e(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Un(t.parent,e.parent))}function qn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return qn(t,e,r);return qn(t,e)})}(t,e,n);return new An(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return zn(e,t),t}{const n=new Rn(new Ct((r=e.value).url),new Ct(r.params),new Ct(r.queryParams),new Ct(r.fragment),new Ct(r.data),r.outlet,r.component,r),i=e.children.map(e=>qn(t,e));return new An(n,i)}}var r}function zn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)zn(t.children[n],e.children[n])}function Bn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hn(t){return"object"==typeof t&&null!=t&&t.outlets}function Kn(t,e,n,r,i){let s={};return r&&Ze(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new sn(n.root===t?e:Gn(n.root,t,e),s,i)}function Gn(t,e,n){const r={};return Ze(t.children,(t,i)=>{r[i]=t===e?n:Gn(t,e,n)}),new on(t.segments,r)}class Wn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Bn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Hn);if(r&&r!==Xe(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $n{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Qn(t,e,n){if(t||(t=new on([],{})),0===t.segments.length&&t.hasChildren())return Yn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Hn(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!tr(a,u,e))return s;r+=2}else{if(!tr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new on(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new on(t.segments.slice(r.pathIndex),t.children),Yn(e,0,i)}return r.match&&0===i.length?new on(t.segments,{}):r.match&&!t.hasChildren()?Xn(t,e,n):r.match?Yn(t,0,i):Xn(t,e,n)}function Yn(t,e,n){if(0===n.length)return new on(t.segments,{});{const r=function(t){return Hn(t[0])?t[0].outlets:{[Be]:t}}(n),i={};return Ze(r,(n,r)=>{null!==n&&(i[r]=Qn(t.children[r],e,n))}),Ze(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new on(t.segments,i)}}function Xn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Hn(s)){const t=Zn(s.outlets);return new on(r,t)}if(0===i&&Bn(n[0])){r.push(new an(t.segments[e].path,n[0])),i++;continue}const o=Hn(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&Bn(a)?(r.push(new an(o,Jn(a))),i+=2):(r.push(new an(o,{})),i++)}return new on(r,{})}function Zn(t){const e={};return Ze(t,(t,n)=>{null!==t&&(e[n]=Xn(new on([],{}),0,t))}),e}function Jn(t){const e={};return Ze(t,(t,n)=>e[n]=""+t),e}function tr(t,e,n){return t==n.path&&$e(e,n.parameters)}class er{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Mn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=kn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ze(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=kn(t),i=t.value.component?n.children:e;Ze(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=kn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new qe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Me(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Mn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),nr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function nr(t){Mn(t.value),t.children.forEach(nr)}class rr{constructor(t,e){this.routes=t,this.module=e}}function ir(t){return"function"==typeof t}function sr(t){return t instanceof sn}const or=Symbol("INITIAL_VALUE");function ar(){return se(t=>function(...t){let e=void 0,n=void 0;return Object(St.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Tt.a)(t[0])&&(t=t[0]),Object(Rt.a)(t,n).lift(new Dt(e))}(...t.map(t=>t.pipe(ue(1),fe(or)))).pipe(de((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==or)return t;if(r===or&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||sr(r))return r}return t},t)},or),Bt(t=>t!==or),Object(Ut.a)(t=>sr(t)?t:!0===t),ue(1)))}let ur=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ei]},encapsulation:2}),t})();function cr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];lr(r,hr(e,r))}}function lr(t,e){t.children&&cr(t.children,e)}function hr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function fr(t){const e=t.children&&t.children.map(fr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=ur),n}function dr(t){return t.outlet||Be}class pr{constructor(t){this.segmentGroup=t||null}}class mr{constructor(t){this.urlTree=t}}function gr(t){return new jt.a(e=>e.error(new pr(t)))}function yr(t){return new jt.a(e=>e.error(new mr(t)))}function br(t){return new jt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class vr{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Be).pipe(Object(Ut.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ge(t=>{if(t instanceof mr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Be).pipe(Object(Ut.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ge(t=>{if(t instanceof pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new on([],{[Be]:t}):t;return new sn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ut.a)(t=>new on([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(_t.a)({});const n=[],r=[],i={};return Ze(t,(t,s)=>{const o=e(s,t).pipe(Object(Ut.a)(t=>i[s]=t));s===Be?n.push(o):r.push(o)}),_t.a.apply(null,n.concat(r)).pipe(zt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Bt((e,n)=>t(e,n,r)):re.a,Wt(1),n?te(e):Yt(()=>new Ft))}(),Object(Ut.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=dr(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(wt.a)(n).pipe(_e(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ge(t=>{if(t instanceof pr)return Object(_t.a)(null);throw t}))),we(t=>null!==t),ge(t=>{if(t instanceof Ft||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(_t.a)(new on([],{}));throw new pr(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(Ut.a)(()=>null),ge(()=>Object(_t.a)(null)))});return Object(wt.a)(u).pipe(t=>t.lift(new Dt(void 0)),we(),Object(Ut.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return dr(r)!==s&&""!==r.path?gr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):gr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(i):this.lineralizeSegments(n,i).pipe(Object(ve.a)(n=>{const i=new on(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=_r(e,r,i);if(!o)return gr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?yr(l):this.lineralizeSegments(r,l).pipe(Object(ve.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ut.a)(t=>(n._loadedConfig=t,new on(r,{})))):Object(_t.a)(new on(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=_r(e,n,r);if(!i)return gr(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(ve.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Or(t,e,n)&&dr(n)!==Be)}(t,n,r)?{segmentGroup:wr(new on(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&dr(r)!==Be&&(n[dr(r)]=new on([],{}));return n}(r,new on(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Or(t,e,n))}(t,n,r)?{segmentGroup:wr(new on(t.segments,function(t,e,n,r){const i={};for(const s of n)Or(t,e,s)&&!r[dr(s)]&&(i[dr(s)]=new on([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ut.a)(t=>new on(s,t))):0===r.length&&0===o.length?Object(_t.a)(new on(s,{})):this.expandSegment(n,i,r,o,Be,!0).pipe(Object(Ut.a)(t=>new on(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(_t.a)(new rr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(_t.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ve.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ut.a)(t=>(e._loadedConfig=t,t))):function(t){return new jt.a(e=>e.error(Ge(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(_t.a)(new rr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(_t.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ir(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ir(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Je(s)});return Object(_t.a)(i).pipe(ar(),Object(Oe.a)(t=>{if(!sr(t))return;const e=Ge(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ut.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(_t.a)(n);if(r.numberOfChildren>1||!r.children.primary)return br(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new sn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ze(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Ze(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new on(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function _r(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||We)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wr(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new on(t.segments.concat(e.segments),e.children)}return t}function Or(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class Er{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cr{constructor(t,e){this.component=t,this.route=e}}function Sr(t,e,n){const r=t._root;return xr(r,e?e._root:null,n,[r.value])}function Tr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function xr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=kn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!un(t.url,e.url);case"pathParamsOrQueryParamsChange":return!un(t.url,e.url)||!$e(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Un(t,e)||!$e(t.queryParams,e.queryParams);case"paramsChange":default:return!Un(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Er(r)):(s.data=o.data,s._resolvedData=o._resolvedData),xr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cr(a.outlet.component,o))}else o&&Ir(e,a,i),i.canActivateChecks.push(new Er(r)),xr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Ze(s,(t,e)=>Ir(t,n.getContext(e),i)),i}function Ir(t,e,n){const r=kn(t),i=t.value;Ze(r,(t,r)=>{Ir(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Cr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ar(t,e){return null!==t&&e&&e(new Ue(t)),Object(_t.a)(!0)}function kr(t,e){return null!==t&&e&&e(new Ve(t)),Object(_t.a)(!0)}function jr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(_t.a)(!0);const i=r.map(r=>Mt(()=>{const i=Tr(r,e,n);let s;if(function(t){return t&&ir(t.canActivate)}(i))s=Je(i.canActivate(e,t));else{if(!ir(i))throw new Error("Invalid CanActivate guard");s=Je(i(e,t))}return s.pipe(we())}));return Object(_t.a)(i).pipe(ar())}function Pr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Mt(()=>{const i=e.guards.map(i=>{const s=Tr(i,e.node,n);let o;if(function(t){return t&&ir(t.canActivateChild)}(s))o=Je(s.canActivateChild(r,t));else{if(!ir(s))throw new Error("Invalid CanActivateChild guard");o=Je(s(r,t))}return o.pipe(we())});return Object(_t.a)(i).pipe(ar())}));return Object(_t.a)(i).pipe(ar())}class Rr{}class Nr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Fr(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Be),n=new Dn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new An(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),Object(_t.a)(i)}catch(t){return new jt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Nn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=cn(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===Be?-1:e.value.outlet===Be?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Rr))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Rr}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Rr;if((t.outlet||Be)!==r)throw new Rr;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?Xe(n).parameters:{};i=new Dn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),r,t.component,t,Dr(e),Lr(e)+n.length,qr(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Rr;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||We)(n,t,e);if(!r)throw new Rr;const i={};Ze(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Dn(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ur(t),r,t.component,t,Dr(e),Lr(e)+s.length,qr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Fr(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new An(i,t)]}if(0===a.length&&0===c.length)return[new An(i,[])];const l=this.processSegment(a,u,c,Be);return[new An(i,l)]}}function Dr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Fr(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Vr(t,e,n)&&Mr(n)!==Be)}(t,n,r)){const i=new on(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Mr(s)!==Be){const n=new on([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Mr(s)]=n}return i}(t,e,r,new on(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Vr(t,e,n))}(t,n,r)){const s=new on(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Vr(t,n,a)&&!i[Mr(a)]){const n=new on([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Mr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new on(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Mr(t){return t.outlet||Be}function Ur(t){return t.data||{}}function qr(t){return t.resolve||{}}function zr(t){return function(e){return e.pipe(se(e=>{const n=t(e);return n?Object(wt.a)(n).pipe(Object(Ut.a)(()=>e)):Object(wt.a)([e])}))}}class Br extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Hr=new r.q("ROUTES");class Kr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ut.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new rr(Ye(r.injector.get(Hr)).map(fr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(wt.a)(this.loader.load(t)):Je(t()).pipe(Object(ve.a)(t=>t instanceof r.v?Object(_t.a)(t):Object(wt.a)(this.compiler.compileModuleAsync(t))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Gr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class $r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Qr(t){throw t}function Yr(t,e,n){return e.parse("/")}function Xr(t,e){return Object(_t.a)(null)}let Zr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ot.a,this.errorHandler=Qr,this.malformedUriErrorHandler=Yr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xr,afterPreactivation:Xr},this.urlHandlingStrategy=new $r,this.routeReuseStrategy=new Br,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const c=s.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(u),this.currentUrlTree=new sn(new on([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Kr(o,a,t=>this.triggerEvent(new Le(t)),t=>this.triggerEvent(new Fe(t))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ct({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Bt(t=>0!==t.id),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),se(t=>{let n=!1,r=!1;return Object(_t.a)(t).pipe(Object(Oe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),se(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(_t.a)(t).pipe(se(t=>{const n=this.transitions.getValue();return e.next(new xe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vt.a:[t]}),se(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(se(t=>function(t,e,n,r,i){return new vr(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Ut.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Oe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(ve.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Nr(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Ut.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Oe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Oe.a)(t=>{const n=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new xe(n,this.serializeUrl(r),i,s);e.next(a);const u=Pn(r,this.rootComponentType).snapshot;return Object(_t.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vt.a}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Oe.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{guards:Sr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(ve.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(_t.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(wt.a)(t).pipe(Object(ve.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(_t.a)(!0);const o=s.map(s=>{const o=Tr(s,e,i);let a;if(function(t){return t&&ir(t.canDeactivate)}(o))a=Je(o.canDeactivate(t,e,n,r));else{if(!ir(o))throw new Error("Invalid CanDeactivate guard");a=Je(o(t,e,n,r))}return a.pipe(we())});return Object(_t.a)(o).pipe(ar())}(t.component,t.route,n,e,r)),we(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(ve.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(wt.a)(e).pipe(_e(e=>Object(wt.a)([kr(e.route.parent,r),Ar(e.route,r),Pr(t,e.path,n),jr(t,e.route,n)]).pipe(zt(),we(t=>!0!==t,!0))),we(t=>!0!==t,!0))}(r,s,t,e):Object(_t.a)(n)),Object(Ut.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Oe.a)(t=>{if(sr(t.guardsResult)){const e=Ge(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Oe.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Bt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zr(t=>{if(t.guards.canActivateChecks.length)return Object(_t.a)(t).pipe(Object(Oe.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),se(t=>{let n=!1;return Object(_t.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(ve.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(_t.a)(t);let s=0;return Object(wt.a)(n).pipe(_e(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(_t.a)({});const s={};return Object(wt.a)(i).pipe(Object(ve.a)(i=>function(t,e,n,r){const i=Tr(t,e,r);return Je(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Oe.a)(t=>{s[i]=t}))),Wt(1),Object(ve.a)(()=>Object.keys(s).length===i.length?Object(_t.a)(s):Vt.a))}(t._resolve,t,e,r).pipe(Object(Ut.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Nn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Oe.a)(()=>s++),Wt(1),Object(ve.a)(e=>s===n.length?Object(_t.a)(t):Vt.a))}))}),Object(Oe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Oe.a)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ut.a)(t=>{const e=function(t,e,n){const r=qn(t,e._root,n?n._root:void 0);return new jn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Oe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Ut.a)(t=>(new er(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Oe.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ce(i))),ge(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=sr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ae(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new ke(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(dl){t.reject(dl)}}var i;return Vt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){cr(t),this.config=t.map(fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Kn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ze(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Wn(n,e,r)}(n);if(s.toRoot())return Kn(e.root,new on([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new $n(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new $n(t,t===e.root,0)}const r=Bn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new $n(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Yn(o.segmentGroup,o.index,s.commands):Qn(o.segmentGroup,o.index,s.commands);return Kn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=sr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(sr(t))return tn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return tn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ie(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.N),r.Tb(ln),r.Tb(Wr),r.Tb(O),r.Tb(r.r),r.Tb(r.w),r.Tb(r.i),r.Tb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Jr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ot.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ti(this.skipLocationChange),replaceUrl:ti(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ti(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Zr),r.Kb(Rn),r.Ub("tabindex"),r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function ti(t){return""===t||!!t}let ei=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Be,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ni(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Wr),r.Kb(r.Q),r.Kb(r.j),r.Ub("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ni{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rn?this.route:t===Wr?this.childContexts:this.parent.get(t,e)}}class ri{}class ii{preload(t,e){return Object(_t.a)(null)}}let si=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Kr(e,n,e=>t.triggerEvent(new Le(e)),e=>t.triggerEvent(new Fe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bt(t=>t instanceof Ie),_e(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(wt.a)(n).pipe(Object(qt.a)(),Object(Ut.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ve.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Zr),r.Tb(r.w),r.Tb(r.i),r.Tb(r.r),r.Tb(ri))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ie&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ze&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ze(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Zr),r.Tb(z),r.Tb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const ai=new r.q("ROUTER_CONFIGURATION"),ui=new r.q("ROUTER_FORROOT_GUARD"),ci=[O,{provide:ln,useClass:hn},{provide:Zr,useFactory:function(t,e,n,r,i,s,a,u={},c,l){const h=new Zr(null,t,e,n,r,i,s,Ye(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[ln,Wr,O,r.r,r.w,r.i,Hr,ai,[class{},new r.A],[class{},new r.A]]},Wr,{provide:Rn,useFactory:function(t){return t.routerState.root},deps:[Zr]},{provide:r.w,useClass:r.K},si,ii,class{preload(t,e){return e().pipe(ge(()=>Object(_t.a)(null)))}},{provide:ai,useValue:{enableTracing:!1}}];function li(){return new r.y("Router",Zr)}let hi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ci,mi(e),{provide:ui,useFactory:pi,deps:[[Zr,new r.A,new r.J]]},{provide:ai,useValue:n||{}},{provide:y,useFactory:di,deps:[u,[new r.p(v),new r.A],ai]},{provide:oi,useFactory:fi,deps:[Zr,z,ai]},{provide:ri,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ii},{provide:r.y,multi:!0,useFactory:li},[gi,{provide:r.d,multi:!0,useFactory:yi,deps:[gi]},{provide:vi,useFactory:bi,deps:[gi]},{provide:r.b,multi:!0,useExisting:vi}]]}}static forChild(e){return{ngModule:t,providers:[mi(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(ui,8),r.Tb(Zr,8))}}),t})();function fi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new oi(t,e,n)}function di(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function pi(t){return"guarded"}function mi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Hr,multi:!0,useValue:t}]}let gi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ot.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Zr),r=this.injector.get(ai);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(_t.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ai),n=this.injector.get(si),i=this.injector.get(oi),s=this.injector.get(Zr),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function yi(t){return t.appInitializer.bind(t)}function bi(t){return t.bootstrapListener.bind(t)}const vi=new r.q("Router Initializer"),_i=["*"];let wi=(()=>{class t{constructor(){this.title=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-card-container"]],inputs:{title:"title"},ngContentSelectors:_i,decls:4,vars:1,consts:[[1,"border-bottom","border-danger","pb-1"],[1,"row","scroll"]],template:function(t,e){1&t&&(r.ac(),r.Pb(0,"h1",0),r.mc(1),r.Ob(),r.Pb(2,"div",1),r.Zb(3),r.Ob()),2&t&&(r.Ab(1),r.nc(e.title))},styles:[".scroll[_ngcontent-%COMP%]{overflow-y:auto}"]}),t})();function Oi(t){const e=t%60;return`${(t-e)/60}h ${e}min`}function Ei(t){return t.split(/\||\s/gm).filter(t=>t).join(", ")}function Ci(t){return new Intl.NumberFormat("nl-NL",{style:"currency",currency:"USD"}).format(t)}var Si=n("D0XW"),Ti=n("pxpQ"),xi=n("spgP"),Ii=n("os0x"),Ai=n("zIRd"),ki=n("q/0M"),ji=n("qOnz"),Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ri(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ni,Di="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Li=Li||{},Fi=Di||self;function Vi(){}function Mi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ui(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var qi="closure_uid_"+(1e9*Math.random()>>>0),zi=0;function Bi(t,e,n){return t.call.apply(t.bind,arguments)}function Hi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ki(t,e,n){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bi:Hi).apply(null,arguments)}function Gi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Wi(){return Date.now()}function $i(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Qi(){this.j=this.j,this.i=this.i}Qi.prototype.j=!1,Qi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,qi)&&t[qi]||(t[qi]=++zi)}(this)},Qi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Yi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Zi(t){return Array.prototype.concat.apply([],arguments)}function Ji(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ts(t){return/^[\s\xa0]*$/.test(t)}var es,ns=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rs(t,e){return-1!=t.indexOf(e)}function is(t,e){return t<e?-1:t>e?1:0}t:{var ss=Fi.navigator;if(ss){var os=ss.userAgent;if(os){es=os;break t}}es=""}function as(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function us(t){var e={};for(var n in t)e[n]=t[n];return e}var cs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ls(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<cs.length;s++)n=cs[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hs(t){return hs[" "](t),t}hs[" "]=Vi;var fs,ds,ps=rs(es,"Opera"),ms=rs(es,"Trident")||rs(es,"MSIE"),gs=rs(es,"Edge"),ys=gs||ms,bs=rs(es,"Gecko")&&!(rs(es.toLowerCase(),"webkit")&&!rs(es,"Edge"))&&!(rs(es,"Trident")||rs(es,"MSIE"))&&!rs(es,"Edge"),vs=rs(es.toLowerCase(),"webkit")&&!rs(es,"Edge");function _s(){var t=Fi.document;return t?t.documentMode:void 0}t:{var ws="",Os=(ds=es,bs?/rv:([^\);]+)(\)|;)/.exec(ds):gs?/Edge\/([\d\.]+)/.exec(ds):ms?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ds):vs?/WebKit\/(\S+)/.exec(ds):ps?/(?:Version)[ \/]?(\S+)/.exec(ds):void 0);if(Os&&(ws=Os?Os[1]:""),ms){var Es=_s();if(null!=Es&&Es>parseFloat(ws)){fs=String(Es);break t}}fs=ws}var Cs={};function Ss(t){return function(t,e){var n=Cs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ns(String(fs)).split("."),r=ns(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=is(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||is(0==o[2].length,0==a[2].length)||is(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Ts=Fi.document&&ms&&(_s()||parseInt(fs,10))||void 0,xs=!ms||9<=Number(Ts),Is=ms&&!Ss("9"),As=function(){if(!Fi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Fi.addEventListener("test",Vi,e),Fi.removeEventListener("test",Vi,e)}catch(n){}return t}();function ks(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function js(t,e){if(ks.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(bs){t:{try{hs(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ps[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ks.prototype.b=function(){this.defaultPrevented=!0},$i(js,ks);var Ps={2:"touch",3:"pen",4:"mouse"};js.prototype.b=function(){js.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Is)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Rs="closure_listenable_"+(1e6*Math.random()|0),Ns=0;function Ds(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ns,this.Y=this.Z=!1}function Ls(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Fs(t){this.src=t,this.a={},this.b=0}function Vs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Yi(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Ls(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Ms(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Fs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Ms(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Ds(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Us="closure_lm_"+(1e6*Math.random()|0),qs={};function zs(t,e,n,r,i){if(r&&r.once)return Hs(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)zs(t,e[s],n,r,i);return null}return n=Zs(n),t&&t[Rs]?t.va(e,n,Ui(r)?!!r.capture:!!r,i):Bs(t,e,n,!1,r,i)}function Bs(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ui(i)?!!i.capture:!!i;if(o&&!xs)return null;var a=Ys(t);if(a||(t[Us]=a=new Fs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Qs,e=xs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)As||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ws(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Hs(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Hs(t,e[s],n,r,i);return null}return n=Zs(n),t&&t[Rs]?t.wa(e,n,Ui(r)?!!r.capture:!!r,i):Bs(t,e,n,!0,r,i)}function Ks(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ks(t,e[s],n,r,i);else r=Ui(r)?!!r.capture:!!r,n=Zs(n),t&&t[Rs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Ms(s=t.a[e],n,r,i))&&(Ls(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Ys(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ms(e,n,r,i)),(n=-1<t?e[t]:null)&&Gs(n))}function Gs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Rs])Vs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ws(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ys(e))?(Vs(n,t),0==n.b&&(n.src=null,e[Us]=null)):Ls(t)}}}function Ws(t){return t in qs?qs[t]:qs[t]="on"+t}function $s(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Gs(t),n.call(r,e)}function Qs(t,e){if(t.Y)return!0;if(!xs){if(!e)t:{e=["window","event"];for(var n=Fi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return $s(t,e=new js(e,this))}return $s(t,new js(e,this))}function Ys(t){return(t=t[Us])instanceof Fs?t:null}var Xs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(t){return"function"==typeof t?t:(t[Xs]||(t[Xs]=function(e){return t.handleEvent(e)}),t[Xs])}function Js(){Qi.call(this),this.c=new Fs(this),this.J=this,this.C=null}function to(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ks(e,t);else if(e instanceof ks)e.target=e.target||t;else{var i=e;ls(e=new ks(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=eo(o,r,!0,e)&&i}if(i=eo(o=e.a=t,r,!0,e)&&i,i=eo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=eo(o=e.a=n[s],r,!1,e)&&i}function eo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Vs(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}$i(Js,Qi),Js.prototype[Rs]=!0,(Ni=Js.prototype).addEventListener=function(t,e,n,r){zs(this,t,e,n,r)},Ni.removeEventListener=function(t,e,n,r){Ks(this,t,e,n,r)},Ni.G=function(){if(Js.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ls(n[r]);delete e.a[t],e.b--}}this.C=null},Ni.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ni.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var no=Fi.JSON.stringify;function ro(){this.b=this.a=null}var io,so=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ao},function(t){t.reset()});function oo(){var t=ho,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ao(){this.next=this.b=this.a=null}function uo(t){Fi.setTimeout(function(){throw t},0)}function co(t,e){io||function(){var t=Fi.Promise.resolve(void 0);io=function(){t.then(fo)}}(),lo||(io(),lo=!0),ho.add(t,e)}ro.prototype.add=function(t,e){var n=so.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ao.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ao.prototype.reset=function(){this.next=this.b=this.a=null};var lo=!1,ho=new ro;function fo(){for(var t;t=oo();){try{t.a.call(t.b)}catch(n){uo(n)}var e=so;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}lo=!1}function po(t,e){Js.call(this),this.b=t||1,this.a=e||Fi,this.f=Ki(this.Za,this),this.g=Wi()}function mo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function go(t,e,n){if("function"==typeof t)n&&(t=Ki(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ki(t.handleEvent,t)}return 2147483647<Number(e)?-1:Fi.setTimeout(t,e||0)}function yo(t){t.a=go(function(){t.a=null,t.c&&(t.c=!1,yo(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}$i(po,Js),(Ni=po.prototype).aa=!1,Ni.M=null,Ni.Za=function(){if(this.aa){var t=Wi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),to(this,"tick"),this.aa&&(mo(this),this.start()))}},Ni.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Wi())},Ni.G=function(){po.X.G.call(this),mo(this),delete this.a};var bo=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Pi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:yo(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Fi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Qi);function vo(t){Qi.call(this),this.b=t,this.a={}}$i(vo,Qi);var _o=[];function wo(t,e,n,r){Array.isArray(n)||(n&&(_o[0]=n.toString()),n=_o);for(var i=0;i<n.length;i++){var s=zs(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Oo(t){as(t.a,function(t,e){this.a.hasOwnProperty(e)&&Gs(t)},t),t.a={}}function Eo(){this.a=!0}function Co(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return no(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}vo.prototype.G=function(){vo.X.G.call(this),Oo(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Eo.prototype.info=function(){};var So={},To=null;function xo(){return To=To||new Js}function Io(t){ks.call(this,So.Fa,t)}function Ao(t){var e=xo();to(e,new Io(e,t))}function ko(t,e){ks.call(this,So.STAT_EVENT,t),this.stat=e}function jo(t){var e=xo();to(e,new ko(e,t))}function Po(t){ks.call(this,So.Ga,t)}function Ro(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Fi.setTimeout(function(){t()},e)}So.Fa="serverreachability",$i(Io,ks),So.STAT_EVENT="statevent",$i(ko,ks),So.Ga="timingevent",$i(Po,ks);var No={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Do={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Lo(){}function Fo(){}Lo.prototype.a=null;var Vo,Mo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Uo(){ks.call(this,"d")}function qo(){ks.call(this,"c")}function zo(){}function Bo(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new vo(this),this.P=Ho,this.R=new po(t=ys?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}$i(Uo,ks),$i(qo,ks),$i(zo,Lo),Vo=new zo;var Ho=45e3,Ko={},Go={};function Wo(t,e,n){t.H=1,t.i=ma(ca(e)),t.j=n,t.I=!0,$o(t,null)}function $o(t,e){t.u=Wi(),Xo(t),t.l=ca(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ia(n.b,"t",r),t.D=0,t.a=Ou(t.g,t.g.C?e:null),0<t.O&&(t.F=new bo(Ki(t.Ca,t,t.a),t.O)),wo(t.J,t.a,"readystatechange",t.Xa),e=t.B?us(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ao(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Qo(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Yo(t,n);if(i==Go){4==e&&(t.h=4,jo(14),r=!1),Co(t.c,t.f,null,"[Incomplete Response]");break}if(i==Ko){t.h=4,jo(15),Co(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Co(t.c,t.f,i,null),na(t,i)}4==e&&0==n.length&&(t.h=1,jo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),pu(e),e.F=!0,jo(11))):(Co(t.c,t.f,n,"[Invalid Chunked Response]"),ea(t),ta(t))}function Yo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Go:(n=Number(e.substring(n,r)),isNaN(n)?Ko:(r+=1)+n>e.length?Go:(e=e.substr(r,n),t.D=r+n,e))}function Xo(t){t.T=Wi()+t.P,Zo(t,t.P)}function Zo(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ro(Ki(t.Va,t),e)}function Jo(t){t.o&&(Fi.clearTimeout(t.o),t.o=null)}function ta(t){0==t.g.v||t.A||yu(t.g,t)}function ea(t){Jo(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,mo(t.R),Oo(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function na(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Da(n.b,t)))if(n.I=t.N,!t.C&&Da(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(hb){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;gu(n),su(n)}du(n),jo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ro(Ki(n.Sa,n),6e3));if(1>=Na(n.b)&&n.ea){try{n.ea()}catch(hb){}n.ea=void 0}}else vu(n,11)}else if((t.C||n.a==t)&&gu(n),!ts(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(rs(l,"spdy")||rs(l,"quic")||rs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(La(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,pa(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Wi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=wu(u,u.C?u.ga:null,u.fa),d.C){Fa(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Jo(p),Xo(p)),u.a=d}else fu(u);0<n.g.length&&uu(n)}else"stop"!=i[0]&&"close"!=i[0]||vu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?vu(n,7):iu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ao(4)}catch(hb){}}function ra(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Mi(t)||"string"==typeof t)Xi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Mi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Mi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ia(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ia)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function sa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];oa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)oa(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function oa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ni=Bo.prototype).setTimeout=function(t){this.P=t},Ni.Xa=function(t){t=t.target;var e=this.F;e&&3==tu(t)?e.f():this.Ca(t)},Ni.Ca=function(t){try{if(t==this.a)t:{var e=tu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ys&&!this.a.$())){this.A||4!=e||7==n||Ao(8==n||0>=r?3:2),Jo(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ts(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,jo(12),ea(this),ta(this);break t}Co(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,na(this,u)}this.I?(Qo(this,e,s),ys&&this.b&&3==e&&(wo(this.J,this.R,"tick",this.Wa),this.R.start())):(Co(this.c,this.f,s,null),na(this,s)),4==e&&ea(this),this.b&&!this.A&&(4==e?yu(this.g,this):(this.b=!1,Xo(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,jo(12)):(this.h=0,jo(13)),ea(this),ta(this)}}}catch(c){}},Ni.Wa=function(){if(this.a){var t=tu(this.a),e=this.a.$();this.D<e.length&&(Jo(this),Qo(this,t,e),this.b&&4!=t&&Xo(this))}},Ni.cancel=function(){this.A=!0,ea(this)},Ni.Va=function(){this.o=null;var t=Wi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ao(3),jo(17)),ea(this),this.h=2,ta(this)):Zo(this,this.T-t)},(Ni=ia.prototype).K=function(){sa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ni.L=function(){return sa(this),this.a.concat()},Ni.get=function(t,e){return oa(this.b,t)?this.b[t]:e},Ni.set=function(t,e){oa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ni.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var aa=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ua(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ua){this.a=void 0!==e?e:t.a,la(this,t.f),this.j=t.j,ha(this,t.c),fa(this,t.h),this.g=t.g,e=t.b;var n=new Ca;n.c=e.c,e.a&&(n.a=new ia(e.a),n.b=e.b),da(this,n),this.i=t.i}else t&&(n=String(t).match(aa))?(this.a=!!e,la(this,n[1]||"",!0),this.j=ga(n[2]||""),ha(this,n[3]||"",!0),fa(this,n[4]),this.g=ga(n[5]||"",!0),da(this,n[6]||"",!0),this.i=ga(n[7]||"")):(this.a=!!e,this.b=new Ca(null,this.a))}function ca(t){return new ua(t)}function la(t,e,n){t.f=n?ga(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ha(t,e,n){t.c=n?ga(e,!0):e}function fa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function da(t,e,n){e instanceof Ca?(t.b=e,function(t,e){e&&!t.f&&(Sa(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ta(this,e),Ia(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ya(e,Oa)),t.b=new Ca(e,t.a))}function pa(t,e,n){t.b.set(e,n)}function ma(t){return pa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Wi()).toString(36)),t}function ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ya(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ba),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ba(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ua.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ya(e,va,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ya(e,va,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ya(n,"/"==n.charAt(0)?wa:_a,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ya(n,Ea)),t.join("")};var va=/[#\/\?@]/g,_a=/[#\?:]/g,wa=/[#\?]/g,Oa=/[#\?@]/g,Ea=/#/g;function Ca(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Sa(t){t.a||(t.a=new ia,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ta(t,e){Sa(t),e=Aa(t,e),oa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,oa((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&sa(t)))}function xa(t,e){return Sa(t),e=Aa(t,e),oa(t.a.b,e)}function Ia(t,e,n){Ta(t,e),0<n.length&&(t.c=null,t.a.set(Aa(t,e),Ji(n)),t.b+=n.length)}function Aa(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ni=Ca.prototype).add=function(t,e){Sa(this),this.c=null,t=Aa(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ni.forEach=function(t,e){Sa(this),this.a.forEach(function(n,r){Xi(n,function(n){t.call(e,n,r,this)},this)},this)},Ni.L=function(){Sa(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ni.K=function(t){Sa(this);var e=[];if("string"==typeof t)xa(this,t)&&(e=Zi(e,this.a.get(Aa(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Zi(e,t[n])}return e},Ni.set=function(t,e){return Sa(this),this.c=null,xa(this,t=Aa(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ni.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ni.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ka=function(){return function(t,e){this.b=t,this.a=e}}();function ja(t){this.g=t||Pa,t=Fi.PerformanceNavigationTiming?0<(t=Fi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Fi.ia&&Fi.ia.ya&&Fi.ia.ya()&&Fi.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Pa=10;function Ra(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Na(t){return t.b?1:t.a?t.a.size:0}function Da(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function La(t,e){t.a?t.a.add(e):t.b=e}function Fa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Va(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ri(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Ji(t.c)}function Ma(){}function Ua(){this.a=new Ma}function qa(t,e,n){var r=n||"";try{ra(t,function(t,n){var i=t;Ui(t)&&(i=no(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function za(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ja.prototype.cancel=function(){var t,e;if(this.c=Va(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ri(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ma.prototype.stringify=function(t){return Fi.JSON.stringify(t,void 0)},Ma.prototype.parse=function(t){return Fi.JSON.parse(t,void 0)};var Ba=Fi.JSON.parse;function Ha(t){Js.call(this),this.headers=new ia,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ka,this.D=this.F=!1}$i(Ha,Js);var Ka="",Ga=/^https?$/i,Wa=["POST","PUT"];function $a(t){return"content-type"==t.toLowerCase()}function Qa(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ya(t),Za(t)}function Ya(t){t.u||(t.u=!0,to(t,"complete"),to(t,"error"))}function Xa(t){if(t.b&&void 0!==Li&&(!t.s[1]||4!=tu(t)||2!=t.W()))if(t.l&&4==tu(t))go(t.za,0,t);else if(to(t,"readystatechange"),4==tu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(aa)[1]||null;if(!s&&Fi.self&&Fi.self.location){var o=Fi.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ga.test(s?s.toLowerCase():"")}e=i}if(e)to(t,"complete"),to(t,"success");else{t.h=6;try{var a=2<tu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ya(t)}}finally{Za(t)}}}function Za(t,e){if(t.a){Ja(t);var n=t.a,r=t.s[0]?Vi:null;t.a=null,t.s=null,e||to(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ja(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Fi.clearTimeout(t.m),t.m=null)}function tu(t){return t.a?t.a.readyState:0}function eu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return as(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):pa(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ru(t){this.pa=0,this.g=[],this.c=new Eo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=nu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=nu("baseRetryDelayMs",5e3,t),this.Ra=nu("retryDelaySeedMs",1e4,t),this.Ma=nu("forwardChannelMaxRetries",2,t),this.ma=nu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ja(t&&t.concurrentRequestLimit),this.ka=new Ua,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function iu(t){if(ou(t),3==t.v){var e=t.R++,n=ca(t.B);pa(n,"SID",t.J),pa(n,"RID",e),pa(n,"TYPE","terminate"),lu(t,n),(e=new Bo(t,t.c,e,void 0)).H=2,e.i=ma(ca(n)),n=!1,Fi.navigator&&Fi.navigator.sendBeacon&&(n=Fi.navigator.sendBeacon(e.i.toString(),"")),!n&&Fi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ou(e.g,null),e.a.ba(e.i)),e.u=Wi(),Xo(e)}_u(t)}function su(t){t.a&&(pu(t),t.a.cancel(),t.a=null)}function ou(t){su(t),t.j&&(Fi.clearTimeout(t.j),t.j=null),gu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Fi.clearTimeout(t.h),t.h=null)}function au(t,e){t.g.push(new ka(t.Oa++,e)),3==t.v&&uu(t)}function uu(t){Ra(t.b)||t.h||(t.h=!0,co(t.Ba,t),t.u=0)}function cu(t,e){var n;n=e?e.f:t.R++;var r=ca(t.B);pa(r,"SID",t.J),pa(r,"RID",n),pa(r,"AID",t.P),lu(t,r),t.i&&t.l&&eu(r,t.i,t.l),n=new Bo(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=hu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),La(t.b,n),Wo(n,r,e)}function lu(t,e){t.f&&ra({},function(t,n){pa(e,n,t)})}function hu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ki(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{qa(l,o,"req"+c+"_")}catch(ec){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function fu(t){t.a||t.j||(t.T=1,co(t.Aa,t),t.o=0)}function du(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ro(Ki(t.Aa,t),bu(t,t.o)),t.o++,0))}function pu(t){null!=t.s&&(Fi.clearTimeout(t.s),t.s=null)}function mu(t){t.a=new Bo(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ca(t.la);pa(e,"RID","rpc"),pa(e,"SID",t.J),pa(e,"CI",t.H?"0":"1"),pa(e,"AID",t.P),lu(t,e),pa(e,"TYPE","xmlhttp"),t.i&&t.l&&eu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ma(ca(e)),n.j=null,n.I=!0,$o(n,t)}function gu(t){null!=t.m&&(Fi.clearTimeout(t.m),t.m=null)}function yu(t,e){var n=null;if(t.a==e){gu(t),pu(t),t.a=null;var r=2}else{if(!Da(t.b,e))return;n=e.s,Fa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Wi()-e.u;var i=t.u;to(r=xo(),new Po(r,n,e,i)),uu(t)}else fu(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Na(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ro(Ki(t.Ba,t,e),bu(t,t.u)),t.u++,0)))}(t,e)||2==r&&du(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:vu(t,5);break;case 4:vu(t,10);break;case 3:vu(t,6);break;default:vu(t,2)}}function bu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function vu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ki(t.Ya,t);n||(n=new ua("//www.google.com/images/cleardot.gif"),Fi.location&&"http"==Fi.location.protocol||la(n,"https"),ma(n)),function(t,e){var n=new Eo;if(Fi.Image){var r=new Image;r.onload=Gi(za,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Gi(za,n,r,"TestLoadImage: error",!1,e),r.onabort=Gi(za,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Gi(za,n,r,"TestLoadImage: timeout",!1,e),Fi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else jo(2);t.v=0,t.f&&t.f.ra(e),_u(t),ou(t)}function _u(t){t.v=0,t.I=-1,t.f&&(0==Va(t.b).length&&0==t.g.length||(t.b.c.length=0,Ji(t.g),t.g.length=0),t.f.qa())}function wu(t,e,n){var r=function(t){return t instanceof ua?ca(t):new ua(t,void 0)}(n);if(""!=r.c)e&&ha(r,e+"."+r.c),fa(r,r.h);else{var i=Fi.location;r=function(t,e,n,r){var i=new ua(null,void 0);return t&&la(i,t),e&&ha(i,e),n&&fa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&as(t.V,function(t,e){pa(r,e,t)}),n=t.na,(e=t.A)&&n&&pa(r,e,n),pa(r,"VER",t.ha),lu(t,r),r}function Ou(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ha(t.Na)).F=t.C,e}function Eu(){}function Cu(){if(ms&&!(10<=Number(Ts)))throw Error("Environmental error: no available transport.")}function Su(t,e){Js.call(this),this.a=new ru(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ts(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ts(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Iu(this)}function Tu(t){Uo.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function xu(){qo.call(this),this.status=1}function Iu(t){this.a=t}(Ni=Ha.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Vo),this.a.onreadystatechange=Ki(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Qa(this,s)}t=n||"";var i=new ia(this.headers);r&&ra(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=$a,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Fi.FormData&&t instanceof Fi.FormData,!(0<=Yi(Wa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ja(this),0<this.o&&((this.D=function(t){return ms&&Ss(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ki(this.xa,this)):this.m=go(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Qa(this,s)}},Ni.xa=function(){void 0!==Li&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,to(this,"timeout"),this.abort(8))},Ni.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,to(this,"complete"),to(this,"abort"),Za(this))},Ni.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Za(this,!0)),Ha.X.G.call(this)},Ni.za=function(){this.j||(this.A||this.l||this.g?Xa(this):this.Ua())},Ni.Ua=function(){Xa(this)},Ni.W=function(){try{return 2<tu(this)?this.a.status:-1}catch(ds){return-1}},Ni.$=function(){try{return this.a?this.a.responseText:""}catch(ds){return""}},Ni.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ba(e)}},Ni.ua=function(){return this.h},Ni.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ni=ru.prototype).ha=8,Ni.v=1,Ni.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Bo(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ls(r=us(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=hu(this,n,e),pa(i=ca(this.B),"RID",t),pa(i,"CVER",22),this.A&&pa(i,"X-HTTP-Session-Id",this.A),lu(this,i),this.i&&r&&eu(i,this.i,r),La(this.b,n),this.Ia&&pa(i,"TYPE","init"),this.da?(pa(i,"$req",e),pa(i,"SID","null"),n.U=!0,Wo(n,i,null)):Wo(n,i,e),this.v=2}}else 3==this.v&&(t?cu(this,t):0==this.g.length||Ra(this.b)||cu(this))},Ni.Aa=function(){if(this.j=null,mu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ro(Ki(this.Ta,this),t)}},Ni.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,jo(10),su(this),mu(this))},Ni.Sa=function(){null!=this.m&&(this.m=null,su(this),du(this),jo(19))},Ni.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),jo(2)):(this.c.info("Failed to ping google.com"),jo(1))},(Ni=Eu.prototype).ta=function(){},Ni.sa=function(){},Ni.ra=function(){},Ni.qa=function(){},Ni.Ja=function(){},Cu.prototype.a=function(t,e){return new Su(t,e)},$i(Su,Js),Su.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;jo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=wu(t,null,t.fa),uu(t)},Su.prototype.close=function(){iu(this.a)},Su.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,au(this.a,e)}else this.l?((e={}).__data__=no(t),au(this.a,e)):au(this.a,t)},Su.prototype.G=function(){this.a.f=null,delete this.f,iu(this.a),delete this.a,Su.X.G.call(this)},$i(Tu,Uo),$i(xu,qo),$i(Iu,Eu),Iu.prototype.ta=function(){to(this.a,"a")},Iu.prototype.sa=function(t){to(this.a,new Tu(t))},Iu.prototype.ra=function(t){to(this.a,new xu(t))},Iu.prototype.qa=function(){to(this.a,"b")},Cu.prototype.createWebChannel=Cu.prototype.a,Su.prototype.send=Su.prototype.h,Su.prototype.open=Su.prototype.g,Su.prototype.close=Su.prototype.close,No.NO_ERROR=0,No.TIMEOUT=8,No.HTTP_ERROR=6,Do.COMPLETE="complete",Fo.EventType=Mo,Mo.OPEN="a",Mo.CLOSE="b",Mo.ERROR="c",Mo.MESSAGE="d",Js.prototype.listen=Js.prototype.va,Ha.prototype.listenOnce=Ha.prototype.wa,Ha.prototype.getLastError=Ha.prototype.Qa,Ha.prototype.getLastErrorCode=Ha.prototype.ua,Ha.prototype.getStatus=Ha.prototype.W,Ha.prototype.getResponseJson=Ha.prototype.Pa,Ha.prototype.getResponseText=Ha.prototype.$,Ha.prototype.send=Ha.prototype.ba;var Au=No,ku=Do,ju=So,Pu=Fo,Ru=Ha,Nu=n("/6Yf"),Du=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Lu=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Fu=function(){function t(t){this.uid=t}return t.prototype.u=function(){return null!=this.uid},t.prototype.h=function(){return this.u()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Fu.UNAUTHENTICATED=new Fu(null),Fu.l=new Fu("google-credentials-uid"),Fu._=new Fu("first-party-uid");var Vu=new ki.b("@firebase/firestore");function Mu(){return Vu.logLevel}function Uu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vu.logLevel<=ki.a.DEBUG){var r=e.map(Bu);Vu.debug.apply(Vu,Object(Ii.g)(["Firestore (8.1.1): "+t],r))}}function qu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vu.logLevel<=ki.a.ERROR){var r=e.map(Bu);Vu.error.apply(Vu,Object(Ii.g)(["Firestore (8.1.1): "+t],r))}}function zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Vu.logLevel<=ki.a.WARN){var r=e.map(Bu);Vu.warn.apply(Vu,Object(Ii.g)(["Firestore (8.1.1): "+t],r))}}function Bu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Hu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.1.1) INTERNAL ASSERTION FAILED: "+t;throw qu(e),new Error(e)}function Ku(t,e){t||Hu()}function Gu(t,e){return t}var Wu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$u=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ii.c)(e,t),e}(Error),Qu=function(t,e){this.user=e,this.type="OAuth",this.T={},this.T.Authorization="Bearer "+t},Yu=function(){function t(){this.I=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.m=function(){},t.prototype.A=function(t){this.I=t,t(Fu.UNAUTHENTICATED)},t.prototype.R=function(){this.I=null},t}(),Xu=function(){function t(t){var e=this;this.P=null,this.currentUser=Fu.UNAUTHENTICATED,this.g=!1,this.V=0,this.I=null,this.forceRefresh=!1,this.P=function(){e.V++,e.currentUser=e.p(),e.g=!0,e.I&&e.I(e.currentUser)},this.V=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.P):(this.P(null),t.get().then(function(t){e.auth=t,e.P&&e.auth.addAuthTokenListener(e.P)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.V,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.V!==e?(Uu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ku("string"==typeof n.accessToken),new Qu(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.m=function(){this.forceRefresh=!0},t.prototype.A=function(t){this.I=t,this.g&&t(this.currentUser)},t.prototype.R=function(){this.auth&&this.auth.removeAuthTokenListener(this.P),this.P=null,this.I=null},t.prototype.p=function(){var t=this.auth&&this.auth.getUid();return Ku(null===t||"string"==typeof t),new Fu(t)},t}(),Zu=function(){function t(t,e){this.v=t,this.S=e,this.type="FirstParty",this.user=Fu._}return Object.defineProperty(t.prototype,"T",{get:function(){var t={"X-Goog-AuthUser":this.S},e=this.v.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ju=function(){function t(t,e){this.v=t,this.S=e}return t.prototype.getToken=function(){return Promise.resolve(new Zu(this.v,this.S))},t.prototype.A=function(t){t(Fu._)},t.prototype.R=function(){},t.prototype.m=function(){},t}();function tc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ec=function(){function t(){}return t.D=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=tc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function nc(t,e){return t<e?-1:t>e?1:0}function rc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ic(t){return t+"\0"}var sc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $u(Wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $u(Wu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $u(Wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $u(Wu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.C=function(t){return this.seconds===t.seconds?nc(this.nanoseconds,t.nanoseconds):nc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),oc=function(){function t(t){this.timestamp=t}return t.N=function(e){return new t(e)},t.min=function(){return new t(new sc(0,0))},t.prototype.F=function(t){return this.timestamp.C(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.O=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.M=function(){return this.timestamp},t}(),ac=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Hu(),void 0===n?n=t.length-e:n>t.length-e&&Hu(),this.segments=t,this.offset=e,this.k=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.$(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.L(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.B=function(t){return this.L(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.q=function(){return this.L(this.segments,this.offset,this.length-1)},t.prototype.U=function(){return this.segments[this.offset]},t.prototype.K=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.W=function(){return 0===this.length},t.prototype.j=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.G=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.H=function(){return this.segments.slice(this.offset,this.limit())},t.$=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.prototype.J=function(){return this.H().join("/")},e.prototype.toString=function(){return this.J()},e.Y=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new $u(Wu.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.X=function(){return new e([])},e}(ac),cc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.L=function(t,n,r){return new e(t,n,r)},e.Z=function(t){return cc.test(t)},e.prototype.J=function(){return this.H().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Z(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.tt=function(){return 1===this.length&&"__name__"===this.get(0)},e.et=function(){return new e(["__name__"])},e.nt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new $u(Wu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new $u(Wu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new $u(Wu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $u(Wu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.X=function(){return new e([])},e}(ac),hc=function(){function t(t){this.path=t}return t.st=function(e){return new t(uc.Y(e))},t.it=function(e){return new t(uc.Y(e).B(5))},t.prototype.rt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===uc.$(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.$=function(t,e){return uc.$(t.path,e.path)},t.ot=function(t){return t.length%2==0},t.ct=function(e){return new t(new uc(e.slice()))},t}();function fc(t){return null==t}function dc(t){return 0===t&&1/t==-1/0}function pc(t){return"number"==typeof t&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mc=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ut=null};function gc(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new mc(t,e,n,r,i,s,o)}function yc(t){var e=Gu(t);if(null===e.ut){var n=e.path.J();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.J()+t.op.toString()+fl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.J()+t.dir}(t)}).join(","),fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=mf(e.startAt)),e.endAt&&(n+="|ub:",n+=mf(e.endAt)),e.ut=n}return e.ut}function bc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!_f(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!ul(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yf(t.startAt,e.startAt)&&yf(t.endAt,e.endAt)}function vc(t){return hc.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}var _c=function(){function t(t){this.at=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.at)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.at)},t.prototype.ht=function(){return 2*this.at.length},t.prototype.F=function(t){return nc(this.at,t.at)},t.prototype.isEqual=function(t){return this.at===t.at},t}();_c.lt=new _c("");var wc,Oc,Ec=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=oc.min()),void 0===s&&(s=oc.min()),void 0===o&&(o=_c.lt),this.target=t,this.targetId=e,this._t=n,this.sequenceNumber=r,this.ft=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.dt=function(e){return new t(this.target,this.targetId,this._t,e,this.ft,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.wt=function(e,n){return new t(this.target,this.targetId,this._t,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Et=function(e){return new t(this.target,this.targetId,this._t,this.sequenceNumber,this.ft,e,this.resumeToken)},t}(),Cc=function(t){this.count=t};function Sc(t){switch(t){case Wu.OK:return Hu();case Wu.CANCELLED:case Wu.UNKNOWN:case Wu.DEADLINE_EXCEEDED:case Wu.RESOURCE_EXHAUSTED:case Wu.INTERNAL:case Wu.UNAVAILABLE:case Wu.UNAUTHENTICATED:return!1;case Wu.INVALID_ARGUMENT:case Wu.NOT_FOUND:case Wu.ALREADY_EXISTS:case Wu.PERMISSION_DENIED:case Wu.FAILED_PRECONDITION:case Wu.ABORTED:case Wu.OUT_OF_RANGE:case Wu.UNIMPLEMENTED:case Wu.DATA_LOSS:return!0;default:return Hu()}}function Tc(t){if(void 0===t)return qu("GRPC error has no .code"),Wu.UNKNOWN;switch(t){case wc.OK:return Wu.OK;case wc.CANCELLED:return Wu.CANCELLED;case wc.UNKNOWN:return Wu.UNKNOWN;case wc.DEADLINE_EXCEEDED:return Wu.DEADLINE_EXCEEDED;case wc.RESOURCE_EXHAUSTED:return Wu.RESOURCE_EXHAUSTED;case wc.INTERNAL:return Wu.INTERNAL;case wc.UNAVAILABLE:return Wu.UNAVAILABLE;case wc.UNAUTHENTICATED:return Wu.UNAUTHENTICATED;case wc.INVALID_ARGUMENT:return Wu.INVALID_ARGUMENT;case wc.NOT_FOUND:return Wu.NOT_FOUND;case wc.ALREADY_EXISTS:return Wu.ALREADY_EXISTS;case wc.PERMISSION_DENIED:return Wu.PERMISSION_DENIED;case wc.FAILED_PRECONDITION:return Wu.FAILED_PRECONDITION;case wc.ABORTED:return Wu.ABORTED;case wc.OUT_OF_RANGE:return Wu.OUT_OF_RANGE;case wc.UNIMPLEMENTED:return Wu.UNIMPLEMENTED;case wc.DATA_LOSS:return Wu.DATA_LOSS;default:return Hu()}}(Oc=wc||(wc={}))[Oc.OK=0]="OK",Oc[Oc.CANCELLED=1]="CANCELLED",Oc[Oc.UNKNOWN=2]="UNKNOWN",Oc[Oc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oc[Oc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oc[Oc.NOT_FOUND=5]="NOT_FOUND",Oc[Oc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oc[Oc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oc[Oc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oc[Oc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oc[Oc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oc[Oc.ABORTED=10]="ABORTED",Oc[Oc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oc[Oc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oc[Oc.INTERNAL=13]="INTERNAL",Oc[Oc.UNAVAILABLE=14]="UNAVAILABLE",Oc[Oc.DATA_LOSS=15]="DATA_LOSS";var xc=function(){function t(t,e){this.$=t,this.root=e||Ac.EMPTY}return t.prototype.Tt=function(e,n){return new t(this.$,this.root.Tt(e,n,this.$).copy(null,null,Ac.It,null,null))},t.prototype.remove=function(e){return new t(this.$,this.root.remove(e,this.$).copy(null,null,Ac.It,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.W();){var n=this.$(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.W();){var r=this.$(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.W=function(){return this.root.W()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.At=function(){return this.root.At()},t.prototype.Rt=function(){return this.root.Rt()},t.prototype.Pt=function(t){return this.root.Pt(t)},t.prototype.forEach=function(t){this.Pt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Pt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.gt=function(t){return this.root.gt(t)},t.prototype.yt=function(){return new Ic(this.root,null,this.$,!1)},t.prototype.Vt=function(t){return new Ic(this.root,t,this.$,!1)},t.prototype.vt=function(){return new Ic(this.root,null,this.$,!0)},t.prototype.bt=function(t){return new Ic(this.root,t,this.$,!0)},t}(),Ic=function(){function t(t,e,n,r){this.St=r,this.Dt=[];for(var i=1;!t.W();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.St?t.left:t.right;else{if(0===i){this.Dt.push(t);break}this.Dt.push(t),t=this.St?t.right:t.left}}return t.prototype.Ct=function(){var t=this.Dt.pop(),e={key:t.key,value:t.value};if(this.St)for(t=t.left;!t.W();)this.Dt.push(t),t=t.right;else for(t=t.right;!t.W();)this.Dt.push(t),t=t.left;return e},t.prototype.Nt=function(){return this.Dt.length>0},t.prototype.xt=function(){if(0===this.Dt.length)return null;var t=this.Dt[this.Dt.length-1];return{key:t.key,value:t.value}},t}(),Ac=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.W=function(){return!1},t.prototype.Pt=function(t){return this.left.Pt(t)||t(this.key,this.value)||this.right.Pt(t)},t.prototype.gt=function(t){return this.right.gt(t)||t(this.key,this.value)||this.left.gt(t)},t.prototype.min=function(){return this.left.W()?this:this.left.min()},t.prototype.At=function(){return this.min().key},t.prototype.Rt=function(){return this.right.W()?this.key:this.right.Rt()},t.prototype.Tt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Tt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Tt(t,e,n))).Ft()},t.prototype.Ot=function(){if(this.left.W())return t.EMPTY;var e=this;return e.left.Mt()||e.left.left.Mt()||(e=e.kt()),(e=e.copy(null,null,null,e.left.Ot(),null)).Ft()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.W()||i.left.Mt()||i.left.left.Mt()||(i=i.kt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Mt()&&(i=i.$t()),i.right.W()||i.right.Mt()||i.right.left.Mt()||(i=i.Lt()),0===n(e,i.key)){if(i.right.W())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Ot())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Ft()},t.prototype.Mt=function(){return this.color},t.prototype.Ft=function(){var t=this;return t.right.Mt()&&!t.left.Mt()&&(t=t.Bt()),t.left.Mt()&&t.left.left.Mt()&&(t=t.$t()),t.left.Mt()&&t.right.Mt()&&(t=t.qt()),t},t.prototype.kt=function(){var t=this.qt();return t.right.left.Mt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.$t())).Bt()).qt()),t},t.prototype.Lt=function(){var t=this.qt();return t.left.left.Mt()&&(t=(t=t.$t()).qt()),t},t.prototype.Bt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.$t=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.qt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ut=function(){var t=this.Qt();return Math.pow(2,t)<=this.size+1},t.prototype.Qt=function(){if(this.Mt()&&this.left.Mt())throw Hu();if(this.right.Mt())throw Hu();var t=this.left.Qt();if(t!==this.right.Qt())throw Hu();return t+(this.Mt()?0:1)},t}();Ac.EMPTY=null,Ac.RED=!0,Ac.It=!1,Ac.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Hu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Hu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Hu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Hu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Hu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Tt=function(t,e,n){return new Ac(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.W=function(){return!0},t.prototype.Pt=function(t){return!1},t.prototype.gt=function(t){return!1},t.prototype.At=function(){return null},t.prototype.Rt=function(){return null},t.prototype.Mt=function(){return!1},t.prototype.Ut=function(){return!0},t.prototype.Qt=function(){return 0},t}());var kc=function(){function t(t){this.$=t,this.data=new xc(this.$)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.At()},t.prototype.last=function(){return this.data.Rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Pt(function(e,n){return t(e),!1})},t.prototype.Kt=function(t,e){for(var n=this.data.Vt(t[0]);n.Nt();){var r=n.Ct();if(this.$(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Wt=function(t,e){var n;for(n=void 0!==e?this.data.Vt(e):this.data.yt();n.Nt();)if(!t(n.Ct().key))return},t.prototype.jt=function(t){var e=this.data.Vt(t);return e.Nt()?e.Ct().key:null},t.prototype.yt=function(){return new jc(this.data.yt())},t.prototype.Vt=function(t){return new jc(this.data.Vt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Tt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.W=function(){return this.data.W()},t.prototype.Gt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.yt(),r=e.data.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(0!==this.$(i,s))return!1}return!0},t.prototype.H=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.$);return n.data=e,n},t}(),jc=function(){function t(t){this.zt=t}return t.prototype.Ct=function(){return this.zt.Ct().key},t.prototype.Nt=function(){return this.zt.Nt()},t}(),Pc=new xc(hc.$);function Rc(){return Pc}function Nc(){return Rc()}var Dc=new xc(hc.$);function Lc(){return Dc}var Fc=new xc(hc.$),Vc=new kc(hc.$);function Mc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vc,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Uc=new kc(nc);function qc(){return Uc}var zc=function(){function t(t){this.$=t?function(e,n){return t(e,n)||hc.$(e.key,n.key)}:function(t,e){return hc.$(t.key,e.key)},this.Ht=Lc(),this.Jt=new xc(this.$)}return t.Yt=function(e){return new t(e.$)},t.prototype.has=function(t){return null!=this.Ht.get(t)},t.prototype.get=function(t){return this.Ht.get(t)},t.prototype.first=function(){return this.Jt.At()},t.prototype.last=function(){return this.Jt.Rt()},t.prototype.W=function(){return this.Jt.W()},t.prototype.indexOf=function(t){var e=this.Ht.get(t);return e?this.Jt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Jt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Jt.Pt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ht.Tt(t.key,t),e.Jt.Tt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ht.remove(t),this.Jt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Jt.yt(),r=e.Jt.yt();n.Nt();){var i=n.Ct().key,s=r.Ct().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.$=this.$,r.Ht=e,r.Jt=n,r},t}(),Bc=function(){function t(){this.Xt=new xc(hc.$)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Xt.get(e);n?0!==t.type&&3===n.type?this.Xt=this.Xt.Tt(e,t):3===t.type&&1!==n.type?this.Xt=this.Xt.Tt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Xt=this.Xt.Tt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Xt=this.Xt.remove(e):1===t.type&&2===n.type?this.Xt=this.Xt.Tt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Xt=this.Xt.Tt(e,{type:2,doc:t.doc}):Hu():this.Xt=this.Xt.Tt(e,t)},t.prototype.Zt=function(){var t=[];return this.Xt.Pt(function(e,n){t.push(n)}),t},t}(),Hc=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.te=n,this.docChanges=r,this.ee=i,this.fromCache=s,this.ne=o,this.se=a}return t.ie=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,zc.Yt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.ee.W()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ne===t.ne&&this.ee.isEqual(t.ee)&&Jh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.te.isEqual(t.te)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Kc=function(){function t(t,e,n,r,i){this.ft=t,this.re=e,this.oe=n,this.ce=r,this.ue=i}return t.ae=function(e,n){var r=new Map;return r.set(e,Gc.he(e,n)),new t(oc.min(),r,qc(),Rc(),Mc())},t}(),Gc=function(){function t(t,e,n,r,i){this.resumeToken=t,this.le=e,this._e=n,this.fe=r,this.de=i}return t.he=function(e,n){return new t(_c.lt,n,Mc(),Mc(),Mc())},t}(),Wc=function(t,e,n,r){this.we=t,this.removedTargetIds=e,this.key=n,this.Ee=r},$c=function(t,e){this.targetId=t,this.Te=e},Qc=function(t,e,n,r){void 0===n&&(n=_c.lt),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Yc=function(){function t(){this.Ie=0,this.me=Jc(),this.Ae=_c.lt,this.Re=!1,this.Pe=!0}return Object.defineProperty(t.prototype,"le",{get:function(){return this.Re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ge",{get:function(){return 0!==this.Ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ye",{get:function(){return this.Pe},enumerable:!1,configurable:!0}),t.prototype.Ve=function(t){t.ht()>0&&(this.Pe=!0,this.Ae=t)},t.prototype.pe=function(){var t=Mc(),e=Mc(),n=Mc();return this.me.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Hu()}}),new Gc(this.Ae,this.Re,t,e,n)},t.prototype.ve=function(){this.Pe=!1,this.me=Jc()},t.prototype.be=function(t,e){this.Pe=!0,this.me=this.me.Tt(t,e)},t.prototype.Se=function(t){this.Pe=!0,this.me=this.me.remove(t)},t.prototype.De=function(){this.Ie+=1},t.prototype.Ce=function(){this.Ie-=1},t.prototype.Ne=function(){this.Pe=!0,this.Re=!0},t}(),Xc=function(){function t(t){this.xe=t,this.Fe=new Map,this.Oe=Rc(),this.Me=Zc(),this.ke=new kc(nc)}return t.prototype.$e=function(t){for(var e=0,n=t.we;e<n.length;e++){var r=n[e];t.Ee instanceof Mh?this.Le(r,t.Ee):t.Ee instanceof Uh&&this.Be(r,t.key,t.Ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Be(s[i],t.key,t.Ee)},t.prototype.qe=function(t){var e=this;this.Ue(t,function(n){var r=e.Qe(n);switch(t.state){case 0:e.Ke(n)&&r.Ve(t.resumeToken);break;case 1:r.Ce(),r.ge||r.ve(),r.Ve(t.resumeToken);break;case 2:r.Ce(),r.ge||e.removeTarget(n);break;case 3:e.Ke(n)&&(r.Ne(),r.Ve(t.resumeToken));break;case 4:e.Ke(n)&&(e.We(n),r.Ve(t.resumeToken));break;default:Hu()}})},t.prototype.Ue=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Fe.forEach(function(t,r){n.Ke(r)&&e(r)})},t.prototype.je=function(t){var e=t.targetId,n=t.Te.count,r=this.Ge(e);if(r){var i=r.target;if(vc(i))if(0===n){var s=new hc(i.path);this.Be(e,s,new Uh(s,oc.min()))}else Ku(1===n);else this.ze(e)!==n&&(this.We(e),this.ke=this.ke.add(e))}},t.prototype.He=function(t){var e=this,n=new Map;this.Fe.forEach(function(r,i){var s=e.Ge(i);if(s){if(r.le&&vc(s.target)){var o=new hc(s.target.path);null!==e.Oe.get(o)||e.Je(i,o)||e.Be(i,o,new Uh(o,t))}r.ye&&(n.set(i,r.pe()),r.ve())}});var r=Mc();this.Me.forEach(function(t,n){var i=!0;n.Wt(function(t){var n=e.Ge(t);return!n||2===n._t||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Kc(t,n,this.ke,this.Oe,r);return this.Oe=Rc(),this.Me=Zc(),this.ke=new kc(nc),i},t.prototype.Le=function(t,e){if(this.Ke(t)){var n=this.Je(t,e.key)?2:0;this.Qe(t).be(e.key,n),this.Oe=this.Oe.Tt(e.key,e),this.Me=this.Me.Tt(e.key,this.Ye(e.key).add(t))}},t.prototype.Be=function(t,e,n){if(this.Ke(t)){var r=this.Qe(t);this.Je(t,e)?r.be(e,1):r.Se(e),this.Me=this.Me.Tt(e,this.Ye(e).delete(t)),n&&(this.Oe=this.Oe.Tt(e,n))}},t.prototype.removeTarget=function(t){this.Fe.delete(t)},t.prototype.ze=function(t){var e=this.Qe(t).pe();return this.xe.Xe(t).size+e._e.size-e.de.size},t.prototype.De=function(t){this.Qe(t).De()},t.prototype.Qe=function(t){var e=this.Fe.get(t);return e||(e=new Yc,this.Fe.set(t,e)),e},t.prototype.Ye=function(t){var e=this.Me.get(t);return e||(e=new kc(nc),this.Me=this.Me.Tt(t,e)),e},t.prototype.Ke=function(t){var e=null!==this.Ge(t);return e||Uu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ge=function(t){var e=this.Fe.get(t);return e&&e.ge?null:this.xe.Ze(t)},t.prototype.We=function(t){var e=this;this.Fe.set(t,new Yc),this.xe.Xe(t).forEach(function(n){e.Be(t,n,null)})},t.prototype.Je=function(t,e){return this.xe.Xe(t).has(e)},t}();function Zc(){return new xc(hc.$)}function Jc(){return new xc(hc.$)}function tl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function el(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function il(t){var e=t.mapValue.fields.__previous_value__;return rl(e)?il(e):e}function sl(t){var e=pl(t.mapValue.fields.__local_write_time__.timestampValue);return new sc(e.seconds,e.nanos)}var ol=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rl(t)?4:10:Hu()}function ul(t,e){var n=al(t);if(n!==al(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sl(t).isEqual(sl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=pl(t.timestampValue),r=pl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return gl(t.bytesValue).isEqual(gl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ml(t.geoPointValue.latitude)===ml(e.geoPointValue.latitude)&&ml(t.geoPointValue.longitude)===ml(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ml(t.integerValue)===ml(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=ml(t.doubleValue),r=ml(e.doubleValue);return n===r?dc(n)===dc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],ul);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(tl(n)!==tl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ul(n[i],r[i])))return!1;return!0}(t,e);default:return Hu()}}function cl(t,e){return void 0!==(t.values||[]).find(function(t){return ul(t,e)})}function ll(t,e){var n=al(t),r=al(e);if(n!==r)return nc(n,r);switch(n){case 0:return 0;case 1:return nc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=ml(t.integerValue||t.doubleValue),r=ml(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hl(t.timestampValue,e.timestampValue);case 4:return hl(sl(t),sl(e));case 5:return nc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=gl(t),r=gl(e);return n.F(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=nc(n[i],r[i]);if(0!==s)return s}return nc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=nc(ml(t.latitude),ml(e.latitude));return 0!==n?n:nc(ml(t.longitude),ml(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ll(n[i],r[i]);if(s)return s}return nc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=nc(r[o],s[o]);if(0!==a)return a;var u=ll(n[r[o]],i[s[o]]);if(0!==u)return u}return nc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Hu()}}function hl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return nc(t,e);var n=pl(t),r=pl(e),i=nc(n.seconds,r.seconds);return 0!==i?i:nc(n.nanos,r.nanos)}function fl(t){return dl(t)}function dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=pl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?gl(t.bytesValue).toBase64():"referenceValue"in t?hc.it(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=dl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+dl(t.fields[s])}return e+"}"}(t.mapValue):Hu();var e}function pl(t){if(Ku(!!t),"string"==typeof t){var e=0,n=ol.exec(t);if(Ku(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ml(t.seconds),nanos:ml(t.nanos)}}function ml(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function gl(t){return"string"==typeof t?_c.fromBase64String(t):_c.fromUint8Array(t)}function yl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function bl(t){return!!t&&"integerValue"in t}function vl(t){return!!t&&"arrayValue"in t}function _l(t){return!!t&&"nullValue"in t}function wl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ol(t){return!!t&&"mapValue"in t}var El={asc:"ASCENDING",desc:"DESCENDING"},Cl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sl=function(t,e){this.t=t,this.tn=e};function Tl(t){return{integerValue:""+t}}function xl(t,e){if(t.tn){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function Il(t,e){return pc(e)?Tl(e):xl(t,e)}function Al(t,e){return t.tn?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function kl(t,e){return t.tn?e.toBase64():e.toUint8Array()}function jl(t,e){return Al(t,e.M())}function Pl(t){return Ku(!!t),oc.N(function(t){var e=pl(t);return new sc(e.seconds,e.nanos)}(t))}function Rl(t,e){return function(t){return new uc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).J()}function Nl(t){var e=uc.Y(t);return Ku(rh(e)),e}function Dl(t,e){return Rl(t.t,e.path)}function Ll(t,e){var n=Nl(e);if(n.get(1)!==t.t.projectId)throw new $u(Wu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new $u(Wu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new hc(Ul(n))}function Fl(t,e){return Rl(t.t,e)}function Vl(t){var e=Nl(t);return 4===e.length?uc.X():Ul(e)}function Ml(t){return new uc(["projects",t.t.projectId,"databases",t.t.database]).J()}function Ul(t){return Ku(t.length>4&&"documents"===t.get(4)),t.B(5)}function ql(t,e,n){return{name:Dl(t,e),fields:n.proto.mapValue.fields}}function zl(t,e){var n;if(e instanceof xh)n={update:ql(t,e.key,e.value)};else if(e instanceof Rh)n={delete:Dl(t,e.key)};else if(e instanceof Ih)n={update:ql(t,e.key,e.data),updateMask:nh(e.en)};else if(e instanceof kh)n={transform:{document:Dl(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof uh)return{fieldPath:e.field.J(),setToServerValue:"REQUEST_TIME"};if(n instanceof ch)return{fieldPath:e.field.J(),appendMissingElements:{values:n.elements}};if(n instanceof hh)return{fieldPath:e.field.J(),removeAllFromArray:{values:n.elements}};if(n instanceof dh)return{fieldPath:e.field.J(),increment:n.nn};throw Hu()}(0,t)})}};else{if(!(e instanceof Nh))return Hu();n={verify:Dl(t,e.key)}}return e.rn.sn||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:jl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Hu()}(t,e.rn)),n}function Bl(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vh.updateTime(Pl(t.updateTime)):void 0!==t.exists?vh.exists(t.exists):vh.on()}(e.currentDocument):vh.on();if(e.update){var r=Ll(t,e.update.name),i=new Dh({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new gh((t.fieldPaths||[]).map(function(t){return lc.nt(t)}))}(e.updateMask);return new Ih(r,i,s,n)}return new xh(r,i,n)}if(e.delete){var o=Ll(t,e.delete);return new Rh(o,n)}if(e.transform){var a=Ll(t,e.transform.document),u=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ku("REQUEST_TIME"===e.setToServerValue),n=new uh):"appendMissingElements"in e?n=new ch(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new hh(e.removeAllFromArray.values||[]):"increment"in e?n=new dh(t,e.increment):Hu();var r=lc.nt(e.fieldPath);return new yh(r,n)}(t,e)});return Ku(!0===n.exists),new kh(a,u)}if(e.verify){var c=Ll(t,e.verify);return new Nh(c,n)}return Hu()}function Hl(t,e){return{documents:[Fl(t,e.path)]}}function Kl(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fl(t,r.q()),n.structuredQuery.from=[{collectionId:r.K()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(wl(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NAN"}};if(_l(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(wl(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NOT_NAN"}};if(_l(t.value))return{unaryFilter:{field:Zl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zl(t.field),op:Xl(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Zl(t.field),direction:Yl(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.tn||fc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=$l(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$l(e.endAt)),n}function Gl(t){var e=Vl(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ku(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Wl(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new bf(Jl(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return fc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ql(n.startAt));var l=null;return n.endAt&&(l=Ql(n.endAt)),Bh(e,i,a,o,u,"F",c,l)}function Wl(t){return t?void 0!==t.unaryFilter?[eh(t)]:void 0!==t.fieldFilter?[th(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Wl(t)}).reduce(function(t,e){return t.concat(e)}):Hu():[]}function $l(t){return{before:t.before,values:t.position}}function Ql(t){return new pf(t.values||[],!!t.before)}function Yl(t){return El[t]}function Xl(t){return Cl[t]}function Zl(t){return{fieldPath:t.J()}}function Jl(t){return lc.nt(t.fieldPath)}function th(t){return sf.create(Jl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Hu()}}(t.fieldFilter.op),t.fieldFilter.value)}function eh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Jl(t.unaryFilter.field);return sf.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Jl(t.unaryFilter.field);return sf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jl(t.unaryFilter.field);return sf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jl(t.unaryFilter.field);return sf.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Hu()}}function nh(t){var e=[];return t.fields.forEach(function(t){return e.push(t.J())}),{fieldPaths:e}}function rh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ih=function(){this.cn=void 0};function sh(t,e,n){return t instanceof uh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ch?lh(t,e):t instanceof hh?fh(t,e):function(t,e){var n=ah(t,e),r=ph(n)+ph(t.nn);return bl(n)&&bl(t.nn)?Tl(r):xl(t.serializer,r)}(t,e)}function oh(t,e,n){return t instanceof ch?lh(t,e):t instanceof hh?fh(t,e):n}function ah(t,e){return t instanceof dh?bl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var uh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e}(ih),ch=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ii.c)(e,t),e}(ih);function lh(t,e){for(var n=mh(e),r=function(t){n.some(function(e){return ul(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var hh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ii.c)(e,t),e}(ih);function fh(t,e){for(var n=mh(e),r=function(t){n=n.filter(function(e){return!ul(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.nn=n,r}return Object(Ii.c)(e,t),e}(ih);function ph(t){return ml(t.integerValue||t.doubleValue)}function mh(t){return vl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var gh=function(){function t(t){this.fields=t,t.sort(lc.$)}return t.prototype.un=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].j(t))return!0;return!1},t.prototype.isEqual=function(t){return rc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),yh=function(t,e){this.field=t,this.transform=e},bh=function(t,e){this.version=t,this.transformResults=e},vh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.on=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"sn",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function _h(t,e){return void 0!==t.updateTime?e instanceof Mh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Mh}var wh=function(){};function Oh(t,e,n){return t instanceof xh?function(t,e,n){return new Mh(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Ih?function(t,e,n){if(!_h(t.rn,e))return new qh(t.key,n.version);var r=Ah(t,e);return new Mh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof kh?function(t,e,n){if(Ku(null!=n.transformResults),!_h(t.rn,e))return new qh(t.key,n.version);var r=jh(0,e),i=function(t,e,n){var r=[];Ku(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Mh&&(a=e.field(s.field)),r.push(oh(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Ph(t,r.data(),i);return new Mh(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Uh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Eh(t,e,n,r){return t instanceof xh?function(t,e){if(!_h(t.rn,e))return e;var n=Th(e);return new Mh(t.key,n,t.value,{an:!0})}(t,e):t instanceof Ih?function(t,e){if(!_h(t.rn,e))return e;var n=Th(e),r=Ah(t,e);return new Mh(t.key,n,r,{an:!0})}(t,e):t instanceof kh?function(t,e,n,r){if(!_h(t.rn,e))return e;var i=jh(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof Mh&&(c=n.field(a.field)),null===c&&r instanceof Mh&&(c=r.field(a.field)),i.push(sh(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=Ph(t,i.data(),s);return new Mh(t.key,i.version,o,{an:!0})}(t,e,r,n):function(t,e){return _h(t.rn,e)?new Uh(t.key,oc.min()):e}(t,e)}function Ch(t,e){return t instanceof kh?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof Mh?e.field(s.field):void 0,a=ah(s.transform,o||null);null!=a&&(n=null==n?(new Lh).set(s.field,a):n.set(s.field,a))}return n?n.hn():null}(t,e):null}function Sh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.rn.isEqual(e.rn)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.en.isEqual(e.en):2!==t.type||rc(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ch&&e instanceof ch||t instanceof hh&&e instanceof hh?rc(t.elements,e.elements,ul):t instanceof dh&&e instanceof dh?ul(t.nn,e.nn):t instanceof uh&&e instanceof uh}(t.transform,e.transform)}(t,e)}))}function Th(t){return t instanceof Mh?t.version:oc.min()}var xh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.rn=r,i.type=0,i}return Object(Ii.c)(e,t),e}(wh),Ih=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.en=r,s.rn=i,s.type=1,s}return Object(Ii.c)(e,t),e}(wh);function Ah(t,e){return function(t,e){var n=new Lh(e);return t.en.fields.forEach(function(e){if(!e.W()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.hn()}(t,e instanceof Mh?e.data():Dh.empty())}var kh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.rn=vh.exists(!0),r}return Object(Ii.c)(e,t),e}(wh);function jh(t,e){return e}function Ph(t,e,n){for(var r=new Lh(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.hn()}var Rh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=3,r}return Object(Ii.c)(e,t),e}(wh),Nh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.rn=n,r.type=4,r}return Object(Ii.c)(e,t),e}(wh),Dh=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.W())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Ol(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.K()])||null},t.prototype.isEqual=function(t){return ul(this.proto,t.proto)},t}(),Lh=function(){function t(t){void 0===t&&(t=Dh.empty()),this.ln=t,this._n=new Map}return t.prototype.set=function(t,e){return this.fn(t,e),this},t.prototype.delete=function(t){return this.fn(t,null),this},t.prototype.fn=function(t,e){for(var n=this._n,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===al(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.K(),e)},t.prototype.hn=function(){var t=this.dn(lc.X(),this._n);return null!=t?new Dh(t):this.ln},t.prototype.dn=function(t,e){var n=this,r=!1,i=this.ln.field(t),s=Ol(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.dn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Fh(t){var e=[];return el(t.fields||{},function(t,n){var r=new lc([t]);if(Ol(n)){var i=Fh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new gh(e)}var Vh=function(t,e){this.key=t,this.version=e},Mh=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).wn=r,s.an=!!i.an,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(Ii.c)(e,t),e.prototype.field=function(t){return this.wn.field(t)},e.prototype.data=function(){return this.wn},e.prototype.En=function(){return this.wn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.an===t.an&&this.hasCommittedMutations===t.hasCommittedMutations&&this.wn.isEqual(t.wn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.wn.toString()+", {hasLocalMutations: "+this.an+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.an||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Vh),Uh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ii.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Vh),qh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Vh),zh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Tn=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.In=null,this.mn=null};function Bh(t,e,n,r,i,s,o,a){return new zh(t,e,n,r,i,s,o,a)}function Hh(t){return new zh(t)}function Kh(t){return!fc(t.limit)&&"F"===t.limitType}function Gh(t){return!fc(t.limit)&&"L"===t.limitType}function Wh(t){return t.Tn.length>0?t.Tn[0].field:null}function $h(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.An())return r.field}return null}function Qh(t){return null!==t.collectionGroup}function Yh(t){var e=Gu(t);if(null===e.In){e.In=[];var n=$h(e),r=Wh(e);if(null!==n&&null===r)n.tt()||e.In.push(new bf(n)),e.In.push(new bf(lc.et(),"asc"));else{for(var i=!1,s=0,o=e.Tn;s<o.length;s++){var a=o[s];e.In.push(a),a.field.tt()&&(i=!0)}if(!i){var u=e.Tn.length>0?e.Tn[e.Tn.length-1].dir:"asc";e.In.push(new bf(lc.et(),u))}}}return e.In}function Xh(t){var e=Gu(t);if(!e.mn)if("F"===e.limitType)e.mn=gc(e.path,e.collectionGroup,Yh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yh(e);r<i.length;r++){var s=i[r];n.push(new bf(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new pf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new pf(e.startAt.position,!e.startAt.before):null;e.mn=gc(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.mn}function Zh(t,e,n){return new zh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jh(t,e){return bc(Xh(t),Xh(e))&&t.limitType===e.limitType}function tf(t){return yc(Xh(t))+"|lt:"+t.limitType}function ef(t){return"Query(target="+function(t){var e=t.path.J();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.J()+" "+e.op+" "+fl(e.value);var e}).join(", ")+"]"),fc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.J()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+mf(t.startAt)),t.endAt&&(e+=", endAt: "+mf(t.endAt)),"Target("+e+")"}(Xh(t))+"; limitType="+t.limitType+")"}function nf(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.rt(t.collectionGroup)&&t.path.j(n):hc.ot(t.path)?t.path.isEqual(n):t.path.G(n)}(t,e)&&function(t,e){for(var n=0,r=t.Tn;n<r.length;n++){var i=r[n];if(!i.field.tt()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!gf(t.startAt,Yh(t),e)||t.endAt&&gf(t.endAt,Yh(t),e))}(t,e)}function rf(t){return function(e,n){for(var r=!1,i=0,s=Yh(t);i<s.length;i++){var o=s[i],a=vf(o,e,n);if(0!==a)return a;r=r||o.field.tt()}return 0}}var sf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ii.c)(e,t),e.create=function(t,n,r){return t.tt()?"in"===n||"not-in"===n?this.Rn(t,n,r):new of(t,n,r):"array-contains"===n?new lf(t,r):"in"===n?new hf(t,r):"not-in"===n?new ff(t,r):"array-contains-any"===n?new df(t,r):new e(t,n,r)},e.Rn=function(t,e,n){return"in"===e?new af(t,n):new uf(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Pn(ll(e,this.value)):null!==e&&al(this.value)===al(e)&&this.Pn(ll(e,this.value))},e.prototype.Pn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Hu()}},e.prototype.An=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),of=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=hc.it(r.referenceValue),i}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=hc.$(t.key,this.key);return this.Pn(e)},e}(sf),af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=cf(0,n),r}return Object(Ii.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(sf),uf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=cf(0,n),r}return Object(Ii.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(sf);function cf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return hc.it(t.referenceValue)})}var lf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return vl(e)&&cl(e.arrayValue,this.value)},e}(sf),hf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&cl(this.value.arrayValue,e)},e}(sf),ff=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!cl(this.value.arrayValue,e)},e}(sf),df=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!vl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return cl(e.value.arrayValue,t)})},e}(sf),pf=function(t,e){this.position=t,this.before=e};function mf(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return fl(t)}).join(",")}function gf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.tt()?hc.$(hc.it(o.referenceValue),n.key):ll(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function yf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ul(t.position[n],e.position[n]))return!1;return!0}var bf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function vf(t,e,n){var r=t.field.tt()?hc.$(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ll(r,i):Hu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Hu()}}function _f(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var wf=function(){function t(t,e,n,r){this.batchId=t,this.gn=e,this.baseMutations=n,this.mutations=r}return t.prototype.yn=function(t,e,n){for(var r=n.Vn,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Oh(s,e,r[i]))}return e},t.prototype.pn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Eh(i,e,e,this.gn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Eh(u,e,s,this.gn))}return e},t.prototype.vn=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.pn(r.key,t.get(r.key));i&&(n=n.Tt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Mc())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&rc(this.mutations,t.mutations,function(t,e){return Sh(t,e)})&&rc(this.baseMutations,t.baseMutations,function(t,e){return Sh(t,e)})},t}(),Of=function(){function t(t,e,n,r){this.batch=t,this.bn=e,this.Vn=n,this.Sn=r}return t.from=function(e,n,r){Ku(e.mutations.length===r.length);for(var i=Fc,s=e.mutations,o=0;o<s.length;o++)i=i.Tt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Ef=function(){function t(t,e){this.Dn=t,this.Cn=e,this.Nn={}}return t.prototype.get=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.Cn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Dn(t),r=this.Nn[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.Cn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.Nn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Dn(t),n=this.Nn[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.Cn(n[r][0],t))return 1===n.length?delete this.Nn[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){el(this.Nn,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.W=function(){return nl(this.Nn)},t}(),Cf=function(){function t(t){var e=this;this.xn=null,this.Fn=null,this.result=void 0,this.error=void 0,this.On=!1,this.Mn=!1,t(function(t){e.On=!0,e.result=t,e.xn&&e.xn(t)},function(t){e.On=!0,e.error=t,e.Fn&&e.Fn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Mn&&Hu(),this.Mn=!0,this.On?this.error?this.kn(n,this.error):this.$n(e,this.result):new t(function(t,i){r.xn=function(n){r.$n(e,n).next(t,i)},r.Fn=function(e){r.kn(n,e).next(t,i)}})},t.prototype.Ln=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Bn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.$n=function(e,n){return e?this.Bn(function(){return e(n)}):t.resolve(n)},t.prototype.kn=function(e,n){return e?this.Bn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.qn=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Un=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.qn(r)},t}(),Sf=function(){function t(){this.Qn=new Ef(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Kn=!1}return t.prototype.Wn=function(t){var e=this.Qn.get(t);return e?e.readTime:oc.min()},t.prototype.jn=function(t,e){this.Gn(),this.Qn.set(t.key,{zn:t,readTime:e})},t.prototype.Hn=function(t,e){void 0===e&&(e=null),this.Gn(),this.Qn.set(t,{zn:null,readTime:e})},t.prototype.Jn=function(t,e){this.Gn();var n=this.Qn.get(e);return void 0!==n?Cf.resolve(n.zn):this.Yn(t,e)},t.prototype.getEntries=function(t,e){return this.Xn(t,e)},t.prototype.apply=function(t){return this.Gn(),this.Kn=!0,this.Zn(t)},t.prototype.Gn=function(){},t}(),Tf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})};function xf(t){return new Sl(t,!0)}function If(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Af="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kf=function(){function t(){this.ts=[]}return t.prototype.es=function(t){this.ts.push(t)},t.prototype.ns=function(){this.ts.forEach(function(t){return t()})},t}(),jf=function(){function t(t,e,n){this.ss=t,this.rs=e,this.os=n}return t.prototype.cs=function(t,e){var n=this;return this.rs.us(t,e).next(function(r){return n.hs(t,e,r)})},t.prototype.hs=function(t,e,n){return this.ss.Jn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].pn(e,t);return t})},t.prototype.ls=function(t,e,n){var r=Nc();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].pn(t,e);r=r.Tt(t,e)}),r},t.prototype._s=function(t,e){var n=this;return this.ss.getEntries(t,e).next(function(e){return n.fs(t,e)})},t.prototype.fs=function(t,e){var n=this;return this.rs.ds(t,e).next(function(r){var i=n.ls(t,e,r),s=Rc();return i.forEach(function(t,e){e||(e=new Uh(t,oc.min())),s=s.Tt(t,e)}),s})},t.prototype.ws=function(t,e,n){return function(t){return hc.ot(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Es(t,e.path):Qh(e)?this.Ts(t,e,n):this.Is(t,e,n)},t.prototype.Es=function(t,e){return this.cs(t,new hc(e)).next(function(t){var e=Lc();return t instanceof Mh&&(e=e.Tt(t.key,t)),e})},t.prototype.Ts=function(t,e,n){var r=this,i=e.collectionGroup,s=Lc();return this.os.As(t,i).next(function(o){return Cf.forEach(o,function(o){var a=function(t,e){return new zh(e,null,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Is(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Tt(t,e)})})}).next(function(){return s})})},t.prototype.Is=function(t,e,n){var r,i,s=this;return this.ss.ws(t,e,n).next(function(n){return r=n,s.rs.Rs(t,e)}).next(function(e){return s.Ps(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Eh(u,l,l,s.gn);r=h instanceof Mh?r.Tt(c,h):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){nf(e,n)||(r=r.remove(t))}),r})},t.prototype.Ps=function(t,e,n){for(var r=Mc(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Ih&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ss.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Mh&&(c=c.Tt(t,e))}),c})},t}(),Pf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.gs=n,this.ys=r}return t.Vs=function(e,n){for(var r=Mc(),i=Mc(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Rf=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ps=function(t){return n.vs(t)},this.bs=function(t){return e.Ss(t)})}return t.prototype.vs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.bs&&this.bs(t),t},t}();Rf.Ds=-1;var Nf=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Cs=t,this.Ns=e,this.xs=n,this.Fs=r,this.Os=i,this.Ms=0,this.ks=null,this.$s=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ms=0},t.prototype.Ls=function(){this.Ms=this.Os},t.prototype.Bs=function(t){var e=this;this.cancel();var n=Math.floor(this.Ms+this.qs()),r=Math.max(0,Date.now()-this.$s),i=Math.max(0,n-r);i>0&&Uu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ms+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ks=this.Cs.Us(this.Ns,i,function(){return e.$s=Date.now(),t()}),this.Ms*=this.Fs,this.Ms<this.xs&&(this.Ms=this.xs),this.Ms>this.Os&&(this.Ms=this.Os)},t.prototype.Qs=function(){null!==this.ks&&(this.ks.Ks(),this.ks=null)},t.prototype.cancel=function(){null!==this.ks&&(this.ks.cancel(),this.ks=null)},t.prototype.qs=function(){return(Math.random()-.5)*this.Ms},t}(),Df=function(){function t(e,n,r){this.name=e,this.version=n,this.Ws=r,12.2===t.js(Object(ji.g)())&&qu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Uu("SimpleDb","Removing database:",t),qf(window.indexedDB.deleteDatabase(t)).Ln()},t.Gs=function(){if("undefined"==typeof indexedDB)return!1;if(t.zs())return!0;var e=Object(ji.g)(),n=t.js(e),r=0<n&&n<10,i=t.Hs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.zs=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Js)},t.Ys=function(t,e){return t.store(e)},t.js=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Hs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Xs=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Uu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ff(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new $u(Wu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ff(t,n))},i.onupgradeneeded=function(t){Uu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Ws.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Uu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Zs&&(this.db.onversionchange=function(t){return n.Zs(t)}),this.db)]}})})},t.prototype.ti=function(t){this.Zs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(Ii.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Xs(t)];case 2:return a.db=h.sent(),e=Mf.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Cf.reject(t)}).Ln(),u={},o.catch(function(){}),[4,e.ei];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Uu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Lf=function(){function t(t){this.ni=t,this.si=!1,this.ii=null}return Object.defineProperty(t.prototype,"On",{get:function(){return this.si},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ri",{get:function(){return this.ii},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ni=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.si=!0},t.prototype.oi=function(t){this.ii=t},t.prototype.delete=function(){return qf(this.ni.delete())},t}(),Ff=function(t){function e(e,n){var r=this;return(r=t.call(this,Wu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ii.c)(e,t),e}($u);function Vf(t){return"IndexedDbTransactionError"===t.name}var Mf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ci=new Tf,this.transaction.oncomplete=function(){n.ci.resolve()},this.transaction.onabort=function(){e.error?n.ci.reject(new Ff(t,e.error)):n.ci.resolve()},this.transaction.onerror=function(e){var r=Bf(e.target.error);n.ci.reject(new Ff(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ff(n,e)}},Object.defineProperty(t.prototype,"ei",{get:function(){return this.ci.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ci.reject(t),this.aborted||(Uu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Uf(e)},t}(),Uf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Uu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Uu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),qf(n)},t.prototype.add=function(t){return Uu("SimpleDb","ADD",this.store.name,t,t),qf(this.store.add(t))},t.prototype.get=function(t){var e=this;return qf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Uu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Uu("SimpleDb","DELETE",this.store.name,t),qf(this.store.delete(t))},t.prototype.count=function(){return Uu("SimpleDb","COUNT",this.store.name),qf(this.store.count())},t.prototype.ui=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.ai(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.hi=function(t,e){Uu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.li=!1;var r=this.cursor(n);return this.ai(r,function(t,e,n){return n.delete()})},t.prototype._i=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.ai(r,e)},t.prototype.fi=function(t){var e=this.cursor({});return new Cf(function(n,r){e.onerror=function(t){var e=Bf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.ai=function(t,e){var n=[];return new Cf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Lf(i),o=e(i.primaryKey,i.value,s);if(o instanceof Cf){var a=o.catch(function(t){return s.done(),Cf.reject(t)});n.push(a)}s.On?r():null===s.ri?i.continue():i.continue(s.ri)}else r()}}).next(function(){return Cf.qn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.li?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function qf(t){return new Cf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Bf(t.target.error);n(e)}})}var zf=!1;function Bf(t){var e=Df.js(Object(ji.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $u("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return zf||(zf=!0,setTimeout(function(){throw r},0)),r}}return t}function Hf(){return"undefined"!=typeof window?window:null}function Kf(){return"undefined"!=typeof document?document:null}var Gf=function(){function t(t,e,n,r,i){this.di=t,this.Ns=e,this.wi=n,this.op=r,this.Ei=i,this.Ti=new Tf,this.then=this.Ti.promise.then.bind(this.Ti.promise),this.Ti.promise.catch(function(t){})}return t.Ii=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.mi=setTimeout(function(){return e.Ai()},t)},t.prototype.Ks=function(){return this.Ai()},t.prototype.cancel=function(t){null!==this.mi&&(this.clearTimeout(),this.Ti.reject(new $u(Wu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Ai=function(){var t=this;this.di.Ri(function(){return null!==t.mi?(t.clearTimeout(),t.op().then(function(e){return t.Ti.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.mi&&(this.Ei(this),clearTimeout(this.mi),this.mi=null)},t}(),Wf=function(){function t(){var t=this;this.Pi=Promise.resolve(),this.gi=[],this.yi=!1,this.Vi=[],this.pi=null,this.vi=!1,this.bi=[],this.Si=new Nf(this,"async_queue_retry"),this.Di=function(){var e=Kf();e&&Uu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Si.Qs()};var e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Di)}return Object.defineProperty(t.prototype,"Ci",{get:function(){return this.yi},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t){this.enqueue(t)},t.prototype.Ni=function(t){this.xi(),this.Fi(t)},t.prototype.Oi=function(){if(!this.yi){this.yi=!0;var t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Di)}},t.prototype.enqueue=function(t){return this.xi(),this.yi?new Promise(function(t){}):this.Fi(t)},t.prototype.Mi=function(t){var e=this;this.Ri(function(){return e.gi.push(t),e.ki()})},t.prototype.ki=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ii.d)(this,function(n){switch(n.label){case 0:if(0===this.gi.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gi[0]()];case 2:return n.sent(),this.gi.shift(),this.Si.reset(),[3,4];case 3:if(!Vf(t=n.sent()))throw t;return Uu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gi.length>0&&this.Si.Bs(function(){return e.ki()}),n.label=5;case 5:return[2]}})})},t.prototype.Fi=function(t){var e=this,n=this.Pi.then(function(){return e.vi=!0,t().catch(function(t){throw e.pi=t,e.vi=!1,qu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.vi=!1,t})});return this.Pi=n,n},t.prototype.Us=function(t,e,n){var r=this;this.xi(),this.bi.indexOf(t)>-1&&(e=0);var i=Gf.Ii(this,t,e,n,function(t){return r.$i(t)});return this.Vi.push(i),i},t.prototype.xi=function(){this.pi&&Hu()},t.prototype.Li=function(){},t.prototype.Bi=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Pi];case 1:e.sent(),e.label=2;case 2:if(t!==this.Pi)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.qi=function(t){for(var e=0,n=this.Vi;e<n.length;e++)if(n[e].Ns===t)return!0;return!1},t.prototype.Ui=function(t){var e=this;return this.Bi().then(function(){e.Vi.sort(function(t,e){return t.wi-e.wi});for(var n=0,r=e.Vi;n<r.length;n++){var i=r[n];if(i.Ks(),"all"!==t&&i.Ns===t)break}return e.Bi()})},t.prototype.Qi=function(t){this.bi.push(t)},t.prototype.$i=function(t){var e=this.Vi.indexOf(t);this.Vi.splice(e,1)},t}();function $f(t,e){if(qu("AsyncQueue",e+": "+t),Vf(t))return new $u(Wu.UNAVAILABLE,e+": "+t);throw t}function Qf(t,e){var n=t[1],r=e[1],i=nc(t[0],e[0]);return 0===i?nc(n,r):i}var Yf=function(){function t(t){this.Ki=t,this.buffer=new kc(Qf),this.Wi=0}return t.prototype.ji=function(){return++this.Wi},t.prototype.Gi=function(t){var e=[t,this.ji()];if(this.buffer.size<this.Ki)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Xf={zi:!1,Hi:0,Ji:0,Yi:0},Zf=function(){function t(t,e,n){this.Xi=t,this.Zi=e,this.tr=n}return t.er=function(e){return new t(e,t.nr,t.sr)},t}();Zf.nr=10,Zf.sr=1e3,Zf.ir=new Zf(41943040,Zf.nr,Zf.sr),Zf.rr=new Zf(-1,0,0);var Jf=function(){function t(t,e){this.cr=t,this.di=e,this.ur=!1,this.ar=null}return t.prototype.start=function(t){-1!==this.cr.params.Xi&&this.hr(t)},t.prototype.stop=function(){this.ar&&(this.ar.cancel(),this.ar=null)},Object.defineProperty(t.prototype,"lr",{get:function(){return null!==this.ar},enumerable:!1,configurable:!0}),t.prototype.hr=function(t){var e=this,n=this.ur?3e5:6e4;Uu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ar=this.di.Us("lru_garbage_collection",n,function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:this.ar=null,this.ur=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t._r(this.cr)];case 2:return n.sent(),[3,7];case 3:return Vf(e=n.sent())?(Uu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Tp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.hr(t)];case 8:return n.sent(),[2]}})})})},t}(),td=function(){function t(t,e){this.dr=t,this.params=e}return t.prototype.wr=function(t,e){return this.dr.Er(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Tr=function(t,e){var n=this;if(0===e)return Cf.resolve(Rf.Ds);var r=new Yf(e);return this.dr.Ue(t,function(t){return r.Gi(t.sequenceNumber)}).next(function(){return n.dr.Ir(t,function(t){return r.Gi(t)})}).next(function(){return r.maxValue})},t.prototype.mr=function(t,e,n){return this.dr.mr(t,e,n)},t.prototype.Ar=function(t,e){return this.dr.Ar(t,e)},t.prototype.Rr=function(t,e){var n=this;return-1===this.params.Xi?(Uu("LruGarbageCollector","Garbage collection skipped; disabled"),Cf.resolve(Xf)):this.Pr(t).next(function(r){return r<n.params.Xi?(Uu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Xi),Xf):n.gr(t,e)})},t.prototype.Pr=function(t){return this.dr.Pr(t)},t.prototype.gr=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.wr(t,this.params.Zi).next(function(e){return e>c.params.tr?(Uu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.tr+" from "+e),r=c.params.tr):r=e,s=Date.now(),c.Tr(t,r)}).next(function(r){return n=r,o=Date.now(),c.mr(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.Ar(t,n)}).next(function(t){return u=Date.now(),Mu()<=ki.a.DEBUG&&Uu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Cf.resolve({zi:!0,Hi:r,Ji:i,Yi:t})})},t}();function ed(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=rd(e)),e=nd(t.get(n),e);return rd(e)}function nd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function rd(t){return t+"\x01\x01"}function id(t){var e=t.length;if(Ku(e>=2),2===e)return Ku("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),uc.X();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Hu(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Hu()}s=o+2}return new uc(r)}var sd=function(t){this.yr=t};function od(t,e){if(e.document)return function(t,e,n){var r=Ll(t,e.name),i=Pl(e.updateTime),s=new Dh({mapValue:{fields:e.fields}});return new Mh(r,i,s,{hasCommittedMutations:!!n})}(t.yr,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=hc.ct(e.noDocument.path),r=hd(e.noDocument.readTime);return new Uh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=hc.ct(e.unknownDocument.path),s=hd(e.unknownDocument.version);return new qh(i,s)}return Hu()}function ad(t,e,n){var r=ud(n),i=e.key.path.q().H();if(e instanceof Mh){var s=function(t,e){return{name:Dl(t,e.key),fields:e.En().mapValue.fields,updateTime:Al(t,e.version.M())}}(t.yr,e);return new Vd(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof Uh){var o=e.key.path.H(),a=ld(e.version),u=e.hasCommittedMutations;return new Vd(null,new Ld(o,a),null,u,r,i)}if(e instanceof qh){var c=e.key.path.H(),l=ld(e.version);return new Vd(new Fd(c,l),null,null,!0,r,i)}return Hu()}function ud(t){var e=t.M();return[e.seconds,e.nanoseconds]}function cd(t){var e=new sc(t[0],t[1]);return oc.N(e)}function ld(t){var e=t.M();return new jd(e.seconds,e.nanoseconds)}function hd(t){var e=new sc(t.seconds,t.nanoseconds);return oc.N(e)}function fd(t,e){var n=(e.baseMutations||[]).map(function(e){return Bl(t.yr,e)}),r=e.mutations.map(function(e){return Bl(t.yr,e)}),i=sc.fromMillis(e.localWriteTimeMs);return new wf(e.batchId,i,n,r)}function dd(t){var e,n,r=hd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hd(t.lastLimboFreeSnapshotVersion):oc.min();return void 0!==t.query.documents?(Ku(1===(n=t.query).documents.length),e=Xh(Hh(Vl(n.documents[0])))):e=function(t){return Xh(Gl(t))}(t.query),new Ec(e,t.targetId,0,t.lastListenSequenceNumber,r,i,_c.fromBase64String(t.resumeToken))}function pd(t,e){var n,r=ld(e.ft),i=ld(e.lastLimboFreeSnapshotVersion);n=vc(e.target)?Hl(t.yr,e.target):Kl(t.yr,e.target);var s=e.resumeToken.toBase64();return new Ud(e.targetId,yc(e.target),r,s,e.sequenceNumber,i,n)}function md(t){var e=Gl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zh(e,e.limit,"L"):e}var gd=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.os=n,this.Vr=r,this.pr={}}return t.vr=function(e,n,r,i){return Ku(""!==e.uid),new t(e.u()?e.uid:"",n,r,i)},t.prototype.br=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vd(t)._i({index:Nd.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Sr=function(t,e,n,r){var i=this,s=_d(t),o=vd(t);return o.add({}).next(function(a){Ku("number"==typeof a);for(var u=new wf(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return zl(t.yr,e)}),i=n.mutations.map(function(e){return zl(t.yr,e)});return new Nd(e,n.batchId,n.gn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new kc(function(t,e){return nc(t.J(),e.J())}),f=0,d=r;f<d.length;f++){var p=d[f],m=Dd.key(i.userId,p.key.path,a);h=h.add(p.key.path.q()),l.push(o.put(c)),l.push(s.put(m,Dd.PLACEHOLDER))}return h.forEach(function(e){l.push(i.os.Dr(t,e))}),t.es(function(){i.pr[a]=u.keys()}),Cf.qn(l).next(function(){return u})})},t.prototype.Cr=function(t,e){var n=this;return vd(t).get(e).next(function(t){return t?(Ku(t.userId===n.userId),fd(n.serializer,t)):null})},t.prototype.Nr=function(t,e){var n=this;return this.pr[e]?Cf.resolve(this.pr[e]):this.Cr(t,e).next(function(t){if(t){var r=t.keys();return n.pr[e]=r,r}return null})},t.prototype.Fr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return vd(t)._i({index:Nd.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ku(e.batchId>=r),s=fd(n.serializer,e)),i.done()}).next(function(){return s})},t.prototype.Or=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return vd(t)._i({index:Nd.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Mr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vd(t).ui(Nd.userMutationsIndex,n).next(function(t){return t.map(function(t){return fd(e.serializer,t)})})},t.prototype.us=function(t,e){var n=this,r=Dd.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return _d(t)._i({range:i},function(r,i,o){var a=r[0],u=r[2],c=id(r[1]);if(a===n.userId&&e.path.isEqual(c))return vd(t).get(u).next(function(t){if(!t)throw Hu();Ku(t.userId===n.userId),s.push(fd(n.serializer,t))});o.done()}).next(function(){return s})},t.prototype.ds=function(t,e){var n=this,r=new kc(nc),i=[];return e.forEach(function(e){var s=Dd.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=_d(t)._i({range:o},function(t,i,s){var o=t[0],a=t[2],u=id(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Cf.qn(i).next(function(){return n.kr(t,r)})},t.prototype.Rs=function(t,e){var n=this,r=e.path,i=r.length+1,s=Dd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new kc(nc);return _d(t)._i({range:o},function(t,e,s){var o=t[0],u=t[2],c=id(t[1]);o===n.userId&&r.j(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.kr(t,a)})},t.prototype.kr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(vd(t).get(e).next(function(t){if(null===t)throw Hu();Ku(t.userId===n.userId),r.push(fd(n.serializer,t))}))}),Cf.qn(i).next(function(){return r})},t.prototype.$r=function(t,e){var n=this;return bd(t.Lr,this.userId,e).next(function(r){return t.es(function(){n.Br(e.batchId)}),Cf.forEach(r,function(e){return n.Vr.qr(t,e)})})},t.prototype.Br=function(t){delete this.pr[t]},t.prototype.Ur=function(t){var e=this;return this.br(t).next(function(n){if(!n)return Cf.resolve();var r=IDBKeyRange.lowerBound(Dd.prefixForUser(e.userId)),i=[];return _d(t)._i({range:r},function(t,n,r){if(t[0]===e.userId){var s=id(t[1]);i.push(s)}else r.done()}).next(function(){Ku(0===i.length)})})},t.prototype.Qr=function(t,e){return yd(t,this.userId,e)},t.prototype.Kr=function(t){var e=this;return wd(t).get(this.userId).next(function(t){return t||new Rd(e.userId,-1,"")})},t}();function yd(t,e,n){var r=Dd.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return _d(t)._i({range:s,li:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function bd(t,e,n){var r=t.store(Nd.store),i=t.store(Dd.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r._i({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Ku(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Dd.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Cf.qn(s).next(function(){return c})}function vd(t){return ap.Ys(t,Nd.store)}function _d(t){return ap.Ys(t,Dd.store)}function wd(t){return ap.Ys(t,Rd.store)}var Od=function(){function t(t,e){this.serializer=t,this.os=e}return t.prototype.jn=function(t,e,n){return Sd(t).put(Td(e),n)},t.prototype.Hn=function(t,e){var n=Sd(t),r=Td(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Wr(t,r)})},t.prototype.Jn=function(t,e){var n=this;return Sd(t).get(Td(e)).next(function(t){return n.jr(t)})},t.prototype.Gr=function(t,e){var n=this;return Sd(t).get(Td(e)).next(function(t){var e=n.jr(t);return e?{zn:e,size:xd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nc();return this.zr(t,e,function(t,e){var i=n.jr(e);r=r.Tt(t,i)}).next(function(){return r})},t.prototype.Hr=function(t,e){var n=this,r=Nc(),i=new xc(hc.$);return this.zr(t,e,function(t,e){var s=n.jr(e);s?(r=r.Tt(t,s),i=i.Tt(t,xd(e))):(r=r.Tt(t,null),i=i.Tt(t,0))}).next(function(){return{Jr:r,Yr:i}})},t.prototype.zr=function(t,e,n){if(e.W())return Cf.resolve();var r=IDBKeyRange.bound(e.first().path.H(),e.last().path.H()),i=e.yt(),s=i.Ct();return Sd(t)._i({range:r},function(t,e,r){for(var o=hc.ct(t);s&&hc.$(s,o)<0;)n(s,null),s=i.Ct();s&&s.isEqual(o)&&(n(s,e),s=i.Nt()?i.Ct():null),s?r.oi(s.path.H()):r.done()}).next(function(){for(;s;)n(s,null),s=i.Nt()?i.Ct():null})},t.prototype.ws=function(t,e,n){var r=this,i=Lc(),s=e.path.length+1,o={};if(n.isEqual(oc.min())){var a=e.path.H();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.H(),c=ud(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Vd.collectionReadTimeIndex}return Sd(t)._i(o,function(t,n,o){if(t.length===s){var a=od(r.serializer,n);e.path.j(a.key.path)?a instanceof Mh&&nf(e,a)&&(i=i.Tt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Xr=function(t){return new Ed(this,!!t&&t.Zr)},t.prototype.eo=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Cd(t).get(Md.key).next(function(t){return Ku(!!t),t})},t.prototype.Wr=function(t,e){return Cd(t).put(Md.key,e)},t.prototype.jr=function(t){if(t){var e=od(this.serializer,t);return e instanceof Uh&&e.version.isEqual(oc.min())?null:e}return null},t}(),Ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).no=e,r.Zr=n,r.so=new Ef(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ii.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[],r=0,i=new kc(function(t,e){return nc(t.J(),e.J())});return this.Qn.forEach(function(s,o){var a=e.so.get(s);if(o.zn){var u=ad(e.no.serializer,o.zn,e.Wn(s));i=i.add(s.path.q());var c=xd(u);r+=c-a,n.push(e.no.jn(t,s,u))}else if(r-=a,e.Zr){var l=ad(e.no.serializer,new Uh(s,oc.min()),e.Wn(s));n.push(e.no.jn(t,s,l))}else n.push(e.no.Hn(t,s))}),i.forEach(function(r){n.push(e.no.os.Dr(t,r))}),n.push(this.no.updateMetadata(t,r)),Cf.qn(n)},e.prototype.Yn=function(t,e){var n=this;return this.no.Gr(t,e).next(function(t){return null===t?(n.so.set(e,0),null):(n.so.set(e,t.size),t.zn)})},e.prototype.Xn=function(t,e){var n=this;return this.no.Hr(t,e).next(function(t){var e=t.Jr;return t.Yr.forEach(function(t,e){n.so.set(t,e)}),e})},e}(Sf);function Cd(t){return ap.Ys(t,Md.store)}function Sd(t){return ap.Ys(t,Vd.store)}function Td(t){return t.path.H()}function xd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Hu();e=t.noDocument}return JSON.stringify(e).length}var Id=function(){function t(){this.io=new Ad}return t.prototype.Dr=function(t,e){return this.io.add(e),Cf.resolve()},t.prototype.As=function(t,e){return Cf.resolve(this.io.getEntries(e))},t}(),Ad=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.K(),n=t.q(),r=this.index[e]||new kc(uc.$),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.K(),n=t.q(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new kc(uc.$)).H()},t}(),kd=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Ku(n<r&&n>=0&&r<=11);var s=new Mf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Pd.store)}(t),function(t){t.createObjectStore(Rd.store,{keyPath:Rd.keyPath}),t.createObjectStore(Nd.store,{keyPath:Nd.keyPath,autoIncrement:!0}).createIndex(Nd.userMutationsIndex,Nd.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Dd.store)}(t),Hd(t),function(t){t.createObjectStore(Vd.store)}(t));var o=Cf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qd.store),t.deleteObjectStore(Ud.store),t.deleteObjectStore(zd.store)}(t),Hd(t)),o=o.next(function(){return function(t){var e=t.store(zd.store),n=new zd(0,0,oc.min().M(),0);return e.put(zd.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Nd.store).ui().next(function(n){t.deleteObjectStore(Nd.store),t.createObjectStore(Nd.store,{keyPath:Nd.keyPath,autoIncrement:!0}).createIndex(Nd.userMutationsIndex,Nd.userMutationsKeyPath,{unique:!0});var r=e.store(Nd.store),i=n.map(function(t){return r.put(t)});return Cf.qn(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Kd.store,{keyPath:Kd.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Md.store)}(t),i.addDocumentGlobal(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(s)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Vd.store);e.createIndex(Vd.readTimeIndex,Vd.readTimeIndexPath,{unique:!1}),e.createIndex(Vd.collectionReadTimeIndex,Vd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.rewriteCanonicalIds(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Gd.store,{keyPath:Gd.keyPath})}(t),function(t){t.createObjectStore(Wd.store,{keyPath:Wd.keyPath})}(t)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Vd.store)._i(function(t,n){e+=xd(n)}).next(function(){var n=new Md(e);return t.store(Md.store).put(Md.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Rd.store),r=t.store(Nd.store);return n.ui().next(function(n){return Cf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ui(Nd.userMutationsIndex,i).next(function(r){return Cf.forEach(r,function(r){Ku(r.userId===n.userId);var i=fd(e.serializer,r);return bd(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(qd.store),n=t.store(Vd.store);return t.store(zd.store).get(zd.key).next(function(t){var r=[];return n._i(function(n,i){var s=new uc(n),o=function(t){return[0,ed(t)]}(s);r.push(e.get(o).next(function(n){return n?Cf.resolve():function(n){return e.put(new qd(0,ed(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Cf.qn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Bd.store,{keyPath:Bd.keyPath});var n=e.store(Bd.store),r=new Ad,i=function(t){if(r.add(t)){var e=t.K(),i=t.q();return n.put({collectionId:e,parent:ed(i)})}};return e.store(Vd.store)._i({li:!0},function(t,e){var n=new uc(t);return i(n.q())}).next(function(){return e.store(Dd.store)._i({li:!0},function(t,e){var n=id(t[1]);return i(n.q())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Ud.store);return n._i(function(t,r){var i=dd(r),s=pd(e.serializer,i);return n.put(s)})},t}(),jd=function(t,e){this.seconds=t,this.nanoseconds=e},Pd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Pd.store="owner",Pd.key="owner";var Rd=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Rd.store="mutationQueues",Rd.keyPath="userId";var Nd=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Nd.store="mutations",Nd.keyPath="batchId",Nd.userMutationsIndex="userMutationsIndex",Nd.userMutationsKeyPath=["userId","batchId"];var Dd=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ed(e)]},t.key=function(t,e,n){return[t,ed(e),n]},t}();Dd.store="documentMutations",Dd.PLACEHOLDER=new Dd;var Ld=function(t,e){this.path=t,this.readTime=e},Fd=function(t,e){this.path=t,this.version=e},Vd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Vd.store="remoteDocuments",Vd.readTimeIndex="readTimeIndex",Vd.readTimeIndexPath="readTime",Vd.collectionReadTimeIndex="collectionReadTimeIndex",Vd.collectionReadTimeIndexPath=["parentPath","readTime"];var Md=function(t){this.byteSize=t};Md.store="remoteDocumentGlobal",Md.key="remoteDocumentGlobalKey";var Ud=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Ud.store="targets",Ud.keyPath="targetId",Ud.queryTargetsIndexName="queryTargetsIndex",Ud.queryTargetsKeyPath=["canonicalId","targetId"];var qd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qd.store="targetDocuments",qd.keyPath=["targetId","path"],qd.documentTargetsIndex="documentTargetsIndex",qd.documentTargetsKeyPath=["path","targetId"];var zd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};zd.key="targetGlobalKey",zd.store="targetGlobal";var Bd=function(t,e){this.collectionId=t,this.parent=e};function Hd(t){t.createObjectStore(qd.store,{keyPath:qd.keyPath}).createIndex(qd.documentTargetsIndex,qd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ud.store,{keyPath:Ud.keyPath}).createIndex(Ud.queryTargetsIndexName,Ud.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(zd.store)}Bd.store="collectionParents",Bd.keyPath=["collectionId","parent"];var Kd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Kd.store="clientMetadata",Kd.keyPath="clientId";var Gd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Gd.store="bundles",Gd.keyPath="bundleId";var Wd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Wd.store="namedQueries",Wd.keyPath="name";var $d=Object(Ii.g)(Object(Ii.g)(Object(Ii.g)(Object(Ii.g)([Rd.store,Nd.store,Dd.store,Vd.store,Ud.store,Pd.store,zd.store,qd.store],[Kd.store]),[Md.store]),[Bd.store]),[Gd.store,Wd.store]),Qd=function(){function t(t){this.serializer=t}return t.prototype.ro=function(t,e){return Yd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hd(e.createTime),version:e.version};var e})},t.prototype.oo=function(t,e){return Yd(t).put({bundleId:(n=e).id,createTime:ld(Pl(n.createTime)),version:n.version});var n},t.prototype.co=function(t,e){return Xd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:md(e.bundledQuery),readTime:hd(e.readTime)};var e})},t.prototype.uo=function(t,e){return Xd(t).put(function(t){return{name:t.name,readTime:ld(Pl(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Yd(t){return ap.Ys(t,Gd.store)}function Xd(t){return ap.Ys(t,Wd.store)}var Zd=function(){function t(){this.ao=new Ad}return t.prototype.Dr=function(t,e){var n=this;if(!this.ao.has(e)){var r=e.K(),i=e.q();t.es(function(){n.ao.add(e)});var s={collectionId:r,parent:ed(i)};return Jd(t).put(s)}return Cf.resolve()},t.prototype.As=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ic(e),""],!1,!0);return Jd(t).ui(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(id(s.parent))}return n})},t}();function Jd(t){return ap.Ys(t,Bd.store)}var tp=function(){function t(t){this.ho=t}return t.prototype.next=function(){return this.ho+=2,this.ho},t.lo=function(){return new t(0)},t._o=function(){return new t(-1)},t}(),ep=function(){function t(t,e){this.Vr=t,this.serializer=e}return t.prototype.fo=function(t){var e=this;return this.wo(t).next(function(n){var r=new tp(n.highestTargetId);return n.highestTargetId=r.next(),e.Eo(t,n).next(function(){return n.highestTargetId})})},t.prototype.To=function(t){return this.wo(t).next(function(t){return oc.N(new sc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Io=function(t){return this.wo(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.mo=function(t,e,n){var r=this;return this.wo(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.M()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Eo(t,i)})},t.prototype.Ao=function(t,e){var n=this;return this.Ro(t,e).next(function(){return n.wo(t).next(function(r){return r.targetCount+=1,n.Po(e,r),n.Eo(t,r)})})},t.prototype.yo=function(t,e){return this.Ro(t,e)},t.prototype.Vo=function(t,e){var n=this;return this.po(t,e.targetId).next(function(){return np(t).delete(e.targetId)}).next(function(){return n.wo(t)}).next(function(e){return Ku(e.targetCount>0),e.targetCount-=1,n.Eo(t,e)})},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return np(t)._i(function(o,a){var u=dd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Vo(t,u)))}).next(function(){return Cf.qn(s)}).next(function(){return i})},t.prototype.Ue=function(t,e){return np(t)._i(function(t,n){var r=dd(n);e(r)})},t.prototype.wo=function(t){return rp(t).get(zd.key).next(function(t){return Ku(null!==t),t})},t.prototype.Eo=function(t,e){return rp(t).put(zd.key,e)},t.prototype.Ro=function(t,e){return np(t).put(pd(this.serializer,e))},t.prototype.Po=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.vo=function(t){return this.wo(t).next(function(t){return t.targetCount})},t.prototype.bo=function(t,e){var n=yc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return np(t)._i({range:r,index:Ud.queryTargetsIndexName},function(t,n,r){var s=dd(n);bc(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.So=function(t,e,n){var r=this,i=[],s=ip(t);return e.forEach(function(e){var o=ed(e.path);i.push(s.put(new qd(n,o))),i.push(r.Vr.Do(t,n,e))}),Cf.qn(i)},t.prototype.Co=function(t,e,n){var r=this,i=ip(t);return Cf.forEach(e,function(e){var s=ed(e.path);return Cf.qn([i.delete([n,s]),r.Vr.No(t,n,e)])})},t.prototype.po=function(t,e){var n=ip(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.xo=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ip(t),i=Mc();return r._i({range:n,li:!0},function(t,e,n){var r=id(t[1]),s=new hc(r);i=i.add(s)}).next(function(){return i})},t.prototype.Qr=function(t,e){var n=ed(e.path),r=IDBKeyRange.bound([n],[ic(n)],!1,!0),i=0;return ip(t)._i({index:qd.documentTargetsIndex,li:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Ze=function(t,e){return np(t).get(e).next(function(t){return t?dd(t):null})},t}();function np(t){return ap.Ys(t,Ud.store)}function rp(t){return ap.Ys(t,zd.store)}function ip(t){return ap.Ys(t,qd.store)}var sp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",op=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Lr=e,r.Fo=n,r}return Object(Ii.c)(e,t),e}(kf),ap=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Cs=s,this.window=o,this.document=a,this.Oo=c,this.Mo=l,this.ko=null,this.$o=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Lo=null,this.inForeground=!1,this.Bo=null,this.qo=null,this.Uo=Number.NEGATIVE_INFINITY,this.Qo=function(t){return Promise.resolve()},!t.Gs())throw new $u(Wu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Vr=new lp(this,i),this.Ko=n+"main",this.serializer=new sd(u),this.Wo=new Df(this.Ko,11,new kd(this.serializer)),this.jo=new ep(this.Vr,this.serializer),this.os=new Zd,this.ss=function(t,e){return new Od(t,e)}(this.serializer,this.os),this.Go=new Qd(this.serializer),this.window&&this.window.localStorage?this.zo=this.window.localStorage:(this.zo=null,!1===l&&qu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ys=function(t,e){if(t instanceof op)return Df.Ys(t.Lr,e);throw Hu()},t.prototype.start=function(){var t=this;return this.Ho().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $u(Wu.FAILED_PRECONDITION,sp);return t.Jo(),t.Yo(),t.Xo(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.jo.Io(e)})}).then(function(e){t.ko=new Rf(e,t.Oo)}).then(function(){t.$o=!0}).catch(function(e){return t.Wo&&t.Wo.close(),Promise.reject(e)})},t.prototype.Zo=function(t){var e=this;return this.Qo=function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return this.lr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.tc=function(t){var e=this;this.Wo.ti(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.ec=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Cs.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.lr?[4,this.Ho()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ho=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return cp(e).put(new Kd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nc(e).next(function(e){e||(t.isPrimary=!1,t.Cs.Mi(function(){return t.Qo(!1)}))})}).next(function(){return t.sc(e)}).next(function(n){return t.isPrimary&&!n?t.ic(e).next(function(){return!1}):!!n&&t.rc(e).next(function(){return!0})})}).catch(function(e){if(Vf(e))return Uu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Uu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Cs.Mi(function(){return t.Qo(e)}),t.isPrimary=e})},t.prototype.nc=function(t){var e=this;return up(t).get(Pd.key).next(function(t){return Cf.resolve(e.oc(t))})},t.prototype.cc=function(t){return cp(t).delete(this.clientId)},t.prototype.uc=function(){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r,i=this;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.ac(this.Uo,18e5)?[3,2]:(this.Uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ys(e,Kd.store);return n.ui().next(function(t){var e=i.hc(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return Cf.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.zo)for(n=0,r=e;n<r.length;n++)this.zo.removeItem(this.lc(r[n].clientId));s.label=2;case 2:return[2]}})})},t.prototype.Xo=function(){var t=this;this.qo=this.Cs.Us("client_metadata_refresh",4e3,function(){return t.Ho().then(function(){return t.uc()}).then(function(){return t.Xo()})})},t.prototype.oc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sc=function(t){var e=this;return this.Mo?Cf.resolve(!0):up(t).get(Pd.key).next(function(n){if(null!==n&&e.ac(n.leaseTimestampMs,5e3)&&!e._c(n.ownerId)){if(e.oc(n)&&e.networkEnabled)return!0;if(!e.oc(n)){if(!n.allowTabSynchronization)throw new $u(Wu.FAILED_PRECONDITION,sp);return!1}}return!(!e.networkEnabled||!e.inForeground)||cp(t).ui().next(function(t){return void 0===e.hc(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Uu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.fc=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t=this;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return this.$o=!1,this.dc(),this.qo&&(this.qo.cancel(),this.qo=null),this.wc(),this.Ec(),[4,this.Wo.runTransaction("shutdown","readwrite",[Pd.store,Kd.store],function(e){var n=new op(e,Rf.Ds);return t.ic(n).next(function(){return t.cc(n)})})];case 1:return e.sent(),this.Wo.close(),this.Tc(),[2]}})})},t.prototype.hc=function(t,e){var n=this;return t.filter(function(t){return n.ac(t.updateTimeMs,e)&&!n._c(t.clientId)})},t.prototype.Ic=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return cp(e).ui().next(function(e){return t.hc(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return gd.vr(t,this.serializer,this.os,this.Vr)},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.Pc=function(){return this.os},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Uu("IndexedDbPersistence","Starting transaction:",t),this.Wo.runTransaction(t,"readonly"===e?"readonly":"readwrite",$d,function(s){return r=new op(s,i.ko?i.ko.next():Rf.Ds),"readwrite-primary"===e?i.nc(r).next(function(t){return!!t||i.sc(r)}).next(function(e){if(!e)throw qu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Cs.Mi(function(){return i.Qo(!1)}),new $u(Wu.FAILED_PRECONDITION,Af);return n(r)}).next(function(t){return i.rc(r).next(function(){return t})}):i.yc(r).next(function(){return n(r)})}).then(function(t){return r.ns(),t})},t.prototype.yc=function(t){var e=this;return up(t).get(Pd.key).next(function(t){if(null!==t&&e.ac(t.leaseTimestampMs,5e3)&&!e._c(t.ownerId)&&!e.oc(t)&&!(e.Mo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $u(Wu.FAILED_PRECONDITION,sp)})},t.prototype.rc=function(t){var e=new Pd(this.clientId,this.allowTabSynchronization,Date.now());return up(t).put(Pd.key,e)},t.Gs=function(){return Df.Gs()},t.prototype.ic=function(t){var e=this,n=up(t);return n.get(Pd.key).next(function(t){return e.oc(t)?(Uu("IndexedDbPersistence","Releasing primary lease."),n.delete(Pd.key)):Cf.resolve()})},t.prototype.ac=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(qu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Jo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Bo=function(){t.Cs.Ri(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ho()})},this.document.addEventListener("visibilitychange",this.Bo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wc=function(){this.Bo&&(this.document.removeEventListener("visibilitychange",this.Bo),this.Bo=null)},t.prototype.Yo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Lo=function(){e.dc(),e.Cs.Ri(function(){return e.fc()})},this.window.addEventListener("unload",this.Lo))},t.prototype.Ec=function(){this.Lo&&(this.window.removeEventListener("unload",this.Lo),this.Lo=null)},t.prototype._c=function(t){var e;try{var n=null!==(null===(e=this.zo)||void 0===e?void 0:e.getItem(this.lc(t)));return Uu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return qu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dc=function(){if(this.zo)try{this.zo.setItem(this.lc(this.clientId),String(Date.now()))}catch(t){qu("Failed to set zombie client id.",t)}},t.prototype.Tc=function(){if(this.zo)try{this.zo.removeItem(this.lc(this.clientId))}catch(t){}},t.prototype.lc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function up(t){return ap.Ys(t,Pd.store)}function cp(t){return ap.Ys(t,Kd.store)}var lp=function(){function t(t,e){this.db=t,this.cr=new td(this,e)}return t.prototype.Er=function(t){var e=this.Vc(t);return this.db.Ac().vo(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Vc=function(t){var e=0;return this.Ir(t,function(t){e++}).next(function(){return e})},t.prototype.Ue=function(t,e){return this.db.Ac().Ue(t,e)},t.prototype.Ir=function(t,e){return this.vc(t,function(t,n){return e(n)})},t.prototype.Do=function(t,e,n){return hp(t,n)},t.prototype.No=function(t,e,n){return hp(t,n)},t.prototype.mr=function(t,e,n){return this.db.Ac().mr(t,e,n)},t.prototype.qr=function(t,e){return hp(t,e)},t.prototype.bc=function(t,e){return function(t,e){var n=!1;return wd(t).fi(function(r){return yd(t,r,e).next(function(t){return t&&(n=!0),Cf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Ar=function(t,e){var n=this,r=this.db.Rc().Xr(),i=[],s=0;return this.vc(t,function(o,a){if(a<=e){var u=n.bc(t,o).next(function(e){if(!e)return s++,r.Jn(t,o).next(function(){return r.Hn(o),ip(t).delete([0,ed(o.path)])})});i.push(u)}}).next(function(){return Cf.qn(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.dt(t.Fo);return this.db.Ac().yo(t,n)},t.prototype.Sc=function(t,e){return hp(t,e)},t.prototype.vc=function(t,e){var n,r=ip(t),i=Rf.Ds;return r._i({index:qd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Rf.Ds&&e(new hc(id(n)),i),i=o,n=s):i=Rf.Ds}).next(function(){i!==Rf.Ds&&e(new hc(id(n)),i)})},t.prototype.Pr=function(t){return this.db.Rc().eo(t)},t}();function hp(t,e){return ip(t).put(function(t,e){return new qd(0,ed(t.path),e)}(e,t.Fo))}function fp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var dp=function(){function t(t,e,n,r){this.persistence=t,this.Dc=e,this.serializer=r,this.Cc=new xc(nc),this.Nc=new Ef(function(t){return yc(t)},bc),this.xc=oc.min(),this.rs=t.mc(n),this.Fc=t.Rc(),this.jo=t.Ac(),this.Oc=new jf(this.Fc,this.rs,this.persistence.Pc()),this.Go=t.gc(),this.Dc.Mc(this.Oc)}return t.prototype._r=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Rr(n,e.Cc)})},t}();function pp(t,e,n,r){return new dp(t,e,n,r)}function mp(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return n=Gu(t),r=n.rs,i=n.Oc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.rs.Mr(t).next(function(o){return s=o,r=n.persistence.mc(e),i=new jf(n.Fc,r,n.persistence.Pc()),r.Mr(t)}).next(function(e){for(var n=[],r=[],o=Mc(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i._s(t,o).next(function(t){return{kc:t,$c:n,Lc:r}})})})];case 1:return s=o.sent(),[2,(n.rs=r,n.Oc=i,n.Dc.Mc(n.Oc),s)]}})})}function gp(t,e){var n=Gu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Fc.Xr({Zr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Cf.resolve();return s.forEach(function(t){o=o.next(function(){return r.Jn(e,t)}).next(function(e){var s=e,o=n.Sn.get(t);Ku(null!==o),(!s||s.version.F(o)<0)&&(s=i.yn(t,s,n))&&r.jn(s,n.bn)})}),o.next(function(){return t.rs.$r(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}function yp(t){var e=Gu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.jo.To(t)})}function bp(t,e){var n=Gu(t),r=e.ft,i=n.Cc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Fc.Xr({Zr:!0});i=n.Cc;var o=[];e.re.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.jo.Co(t,e.de,s).next(function(){return n.jo.So(t,e._e,s)}));var u=e.resumeToken;if(u.ht()>0){var c=a.wt(u,r).dt(t.Fo);i=i.Tt(s,c),function(t,e,n){return Ku(e.resumeToken.ht()>0),0===t.resumeToken.ht()||e.ft.O()-t.ft.O()>=3e8||n._e.size+n.fe.size+n.de.size>0}(a,c,e)&&o.push(n.jo.yo(t,c))}}});var a=Rc();if(e.ce.forEach(function(r,i){e.ue.has(r)&&o.push(n.persistence.Vr.Sc(t,r))}),o.push(function(t,e,n,r,i){var s=Mc();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var i=Rc();return n.forEach(function(n,s){var o=t.get(n),a=r;s instanceof Uh&&s.version.isEqual(oc.min())?(e.Hn(n,a),i=i.Tt(n,s)):null==o||s.version.F(o.version)>0||0===s.version.F(o.version)&&o.hasPendingWrites?(e.jn(s,a),i=i.Tt(n,s)):Uu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),i})}(t,s,e.ce,r).next(function(t){a=t})),!r.isEqual(oc.min())){var u=n.jo.To(t).next(function(e){return n.jo.mo(t,t.Fo,r)});o.push(u)}return Cf.qn(o).next(function(){return s.apply(t)}).next(function(){return n.Oc.fs(t,a)})}).then(function(t){return n.Cc=i,t})}function vp(t,e){var n=Gu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.rs.Fr(t,e)})}function _p(t,e){var n=Gu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.jo.bo(t,e).next(function(i){return i?Cf.resolve(r=i):n.jo.fo(t).next(function(i){return r=new Ec(e,i,0,t.Fo),n.jo.Ao(t,r).next(function(){return r})})})}).then(function(t){var r=n.Cc.get(t.targetId);return(null===r||t.ft.F(r.ft)>0)&&(n.Cc=n.Cc.Tt(t.targetId,t),n.Nc.set(e,t.targetId)),t})}function wp(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:r=Gu(t),i=r.Cc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Vr.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Vf(o=a.sent()))throw o;return Uu("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Cc=r.Cc.remove(e),r.Nc.delete(i.target),[2]}})})}function Op(t,e,n){var r=Gu(t),i=oc.min(),s=Mc();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Gu(t),i=r.Nc.get(n);return void 0!==i?Cf.resolve(r.Cc.get(i)):r.jo.bo(e,n)}(r,t,Xh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.jo.xo(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Dc.ws(t,e,n?i:oc.min(),n?s:Mc())}).next(function(t){return{documents:t,Bc:s}})})}function Ep(t,e){var n=Gu(t),r=Gu(n.jo),i=n.Cc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Ze(t,e).next(function(t){return t?t.target:null})})}function Cp(t){var e=Gu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Gu(t),i=Rc(),s=ud(n),o=Sd(e),a=IDBKeyRange.lowerBound(s,!0);return o._i({index:Vd.readTimeIndex,range:a},function(t,e){var n=od(r.serializer,e);i=i.Tt(n.key,n),s=e.readTime}).next(function(){return{qc:i,readTime:cd(s)}})}(e.Fc,t,e.xc)}).then(function(t){var n=t.qc;return e.xc=t.readTime,n})}function Sp(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){return[2,(e=Gu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Sd(t),n=oc.min();return e._i({index:Vd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=cd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.xc=t})]})})}function Tp(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){if(t.code!==Wu.FAILED_PRECONDITION||t.message!==Af)throw t;return Uu("LocalStore","Unexpectedly lost primary lease"),[2]})})}var xp=function(){function t(t,e,n,r,i,s){this.Cs=t,this.Uc=n,this.Qc=r,this.Kc=i,this.listener=s,this.state=0,this.Wc=0,this.jc=null,this.stream=null,this.Si=new Nf(t,e)}return t.prototype.Gc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.zc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Hc()},t.prototype.stop=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.Gc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Jc=function(){this.state=0,this.Si.reset()},t.prototype.Yc=function(){var t=this;this.zc()&&null===this.jc&&(this.jc=this.Cs.Us(this.Uc,6e4,function(){return t.Xc()}))},t.prototype.Zc=function(t){this.tu(),this.stream.send(t)},t.prototype.Xc=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return this.zc()?[2,this.close(0)]:[2]})})},t.prototype.tu=function(){this.jc&&(this.jc.cancel(),this.jc=null)},t.prototype.close=function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.tu(),this.Si.cancel(),this.Wc++,3!==t?this.Si.reset():e&&e.code===Wu.RESOURCE_EXHAUSTED?(qu(e.toString()),qu("Using maximum backoff delay to prevent overloading the backend."),this.Si.Ls()):e&&e.code===Wu.UNAUTHENTICATED&&this.Kc.m(),null!==this.stream&&(this.eu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.nu(e)];case 1:return n.sent(),[2]}})})},t.prototype.eu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.su(this.Wc),n=this.Wc;this.Kc.getToken().then(function(e){t.Wc===n&&t.iu(e)},function(n){e(function(){var e=new $u(Wu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.ru(e)})})},t.prototype.iu=function(t){var e=this,n=this.su(this.Wc);this.stream=this.ou(t),this.stream.cu(function(){n(function(){return e.state=2,e.listener.cu()})}),this.stream.nu(function(t){n(function(){return e.ru(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Hc=function(){var t=this;this.state=4,this.Si.Bs(function(){return Object(Ii.b)(t,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.ru=function(t){return Uu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.su=function(t){var e=this;return function(n){e.Cs.Ri(function(){return e.Wc===t?n():(Uu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ip=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return Object(Ii.c)(e,t),e.prototype.ou=function(t){return this.Qc.uu("Listen",t)},e.prototype.onMessage=function(t){this.Si.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Hu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.tn?(Ku(void 0===e||"string"==typeof e),_c.fromBase64String(e||"")):(Ku(void 0===e||e instanceof Uint8Array),_c.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?Wu.UNKNOWN:Tc(t.code);return new $u(e,t.message||"")}(o);n=new Qc(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=Ll(t,u.document.name),l=Pl(u.document.updateTime),h=new Dh({mapValue:{fields:u.document.fields}}),f=new Mh(c,l,h,{});n=new Wc(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=Ll(t,d.document),m=d.readTime?Pl(d.readTime):oc.min(),g=new Uh(p,m);n=new Wc([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){var y=e.documentRemove,b=Ll(t,y.document);n=new Wc([],y.removedTargetIds||[],b,null)}else{if(!("filter"in e))return Hu();var v=e.filter,_=new Cc(v.count||0);n=new $c(v.targetId,_)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return oc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?oc.min():e.readTime?Pl(e.readTime):oc.min()}(t);return this.listener.au(e,n)},e.prototype.hu=function(t){var e={};e.database=Ml(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=vc(r)?{documents:Hl(t,r)}:{query:Kl(t,r)}).targetId=e.targetId,e.resumeToken.ht()>0?n.resumeToken=kl(t,e.resumeToken):e.ft.F(oc.min())>0&&(n.readTime=Al(t,e.ft.M())),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Hu()}}(0,e._t);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.Zc(e)},e.prototype.lu=function(t){var e={};e.database=Ml(this.serializer),e.removeTarget=t,this.Zc(e)},e}(xp),Ap=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o._u=!1,o}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"fu",{get:function(){return this._u},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._u=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.eu=function(){this._u&&this.du([])},e.prototype.ou=function(t){return this.Qc.uu("Write",t)},e.prototype.onMessage=function(t){if(Ku(!!t.streamToken),this.lastStreamToken=t.streamToken,this._u){this.Si.reset();var e=function(t,e){return t&&t.length>0?(Ku(void 0!==e),t.map(function(t){return function(t,e){var n=Pl(t.updateTime?t.updateTime:e);n.isEqual(oc.min())&&(n=Pl(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new bh(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Pl(t.commitTime);return this.listener.wu(n,e)}return Ku(!t.writeResults||0===t.writeResults.length),this._u=!0,this.listener.Eu()},e.prototype.Tu=function(){var t={};t.database=Ml(this.serializer),this.Zc(t)},e.prototype.du=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return zl(e.serializer,t)})};this.Zc(n)},e}(xp),kp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qc=n,i.serializer=r,i.Iu=!1,i}return Object(Ii.c)(e,t),e.prototype.mu=function(){if(this.Iu)throw new $u(Wu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Au=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Au(t,e,n,i)}).catch(function(t){throw t.code===Wu.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.Ru=function(t,e,n){var r=this;return this.mu(),this.credentials.getToken().then(function(i){return r.Qc.Ru(t,e,n,i)}).catch(function(t){throw t.code===Wu.UNAUTHENTICATED&&r.credentials.m(),t})},e.prototype.terminate=function(){this.Iu=!1},e}(function(){}),jp=function(){function t(t,e){this.di=t,this.Pu=e,this.state="Unknown",this.gu=0,this.yu=null,this.Vu=!0}return t.prototype.pu=function(){var t=this;0===this.gu&&(this.vu("Unknown"),this.yu=this.di.Us("online_state_timeout",1e4,function(){return t.yu=null,t.bu("Backend didn't respond within 10 seconds."),t.vu("Offline"),Promise.resolve()}))},t.prototype.Su=function(t){"Online"===this.state?this.vu("Unknown"):(this.gu++,this.gu>=1&&(this.Du(),this.bu("Connection failed 1 times. Most recent error: "+t.toString()),this.vu("Offline")))},t.prototype.set=function(t){this.Du(),this.gu=0,"Online"===t&&(this.Vu=!1),this.vu(t)},t.prototype.vu=function(t){t!==this.state&&(this.state=t,this.Pu(t))},t.prototype.bu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vu?(qu(e),this.Vu=!1):Uu("OnlineStateTracker",e)},t.prototype.Du=function(){null!==this.yu&&(this.yu.cancel(),this.yu=null)},t}(),Pp=function(t,e,n,r,i){var s=this;this.Cu=t,this.Nu=e,this.di=n,this.xu={},this.Fu=[],this.Ou=new Map,this.Mu=new Set,this.ku=[],this.$u=i,this.$u.Lu(function(t){n.Ri(function(){return Object(Ii.b)(s,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return qp(this)?(Uu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(e=Gu(t)).Mu.add(4),[4,Np(e)];case 1:return n.sent(),e.Bu.set("Unknown"),e.Mu.delete(4),[4,Rp(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Bu=new jp(n,r)};function Rp(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:if(!qp(t))return[3,4];e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Np(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:e=0,n=t.ku,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Dp(t,e){var n=Gu(t);n.Ou.has(e.targetId)||(n.Ou.set(e.targetId,e),Up(n)?Mp(n):nm(n).zc()&&Fp(n,e))}function Lp(t,e){var n=Gu(t),r=nm(n);n.Ou.delete(e),r.zc()&&Vp(n,e),0===n.Ou.size&&(r.zc()?r.Yc():qp(n)&&n.Bu.set("Unknown"))}function Fp(t,e){t.qu.De(e.targetId),nm(t).hu(e)}function Vp(t,e){t.qu.De(e),nm(t).lu(e)}function Mp(t){t.qu=new Xc({Xe:function(e){return t.xu.Xe(e)},Ze:function(e){return t.Ou.get(e)||null}}),nm(t).start(),t.Bu.pu()}function Up(t){return qp(t)&&!nm(t).Gc()&&t.Ou.size>0}function qp(t){return 0===Gu(t).Mu.size}function zp(t){t.qu=void 0}function Bp(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return t.Ou.forEach(function(e,n){Fp(t,e)}),[2]})})}function Hp(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){return zp(t),Up(t)?(t.Bu.Su(e),Mp(t)):t.Bu.set("Unknown"),[2]})})}function Kp(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s;return Object(Ii.d)(this,function(o){switch(o.label){case 0:if(t.Bu.set("Online"),!(e instanceof Qc&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Ii.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ou.has(s=i[r])?[4,t.xu.Uu(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ou.delete(s),t.qu.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Uu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gp(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Wc?t.qu.$e(e):e instanceof $c?t.qu.je(e):t.qu.qe(e),n.isEqual(oc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,yp(t.Cu)];case 8:return i=o.sent(),n.F(i)>=0?[4,function(t,e){var n=t.qu.He(e);return n.re.forEach(function(n,r){if(n.resumeToken.ht()>0){var i=t.Ou.get(r);i&&t.Ou.set(r,i.wt(n.resumeToken,e))}}),n.oe.forEach(function(e){var n=t.Ou.get(e);if(n){t.Ou.set(e,n.wt(_c.lt,n.ft)),Vp(t,e);var r=new Ec(n.target,e,1,n.sequenceNumber);Fp(t,r)}}),t.xu.Qu(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Uu("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Gp(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Gp(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:if(!Vf(e))throw e;return t.Mu.add(1),[4,Np(t)];case 1:return i.sent(),t.Bu.set("Offline"),n||(n=function(){return yp(t.Cu)}),t.di.Mi(function(){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Uu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Mu.delete(1),[4,Rp(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Wp(t,e){return e().catch(function(n){return Gp(t,n,e)})}function $p(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Ii.d)(this,function(o){switch(o.label){case 0:e=Gu(t),n=rm(e),r=e.Fu.length>0?e.Fu[e.Fu.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return qp(t)&&t.Fu.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,vp(e.Cu,r)];case 3:return null===(i=o.sent())?(0===e.Fu.length&&n.Yc(),[3,7]):(r=i.batchId,function(t,e){t.Fu.push(e);var n=rm(t);n.zc()&&n.fu&&n.du(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Gp(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Qp(e)&&Yp(e),[2]}})})}function Qp(t){return qp(t)&&!rm(t).Gc()&&t.Fu.length>0}function Yp(t){rm(t).start()}function Xp(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return rm(t).Tu(),[2]})})}function Zp(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ii.d)(this,function(i){for(e=rm(t),n=0,r=t.Fu;n<r.length;n++)e.du(r[n].mutations);return[2]})})}function Jp(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return r=t.Fu.shift(),i=Of.from(r,e,n),[4,Wp(t,function(){return t.xu.Ku(i)})];case 1:return s.sent(),[4,$p(t)];case 2:return s.sent(),[2]}})})}function tm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e&&rm(t).fu?[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return Sc(r=e.code)&&r!==Wu.ABORTED?(n=t.Fu.shift(),rm(t).Jc(),[4,Wp(t,function(){return t.xu.Wu(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,$p(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qp(t)&&Yp(t),[2]}})})}function em(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return n=Gu(t),e?(n.Mu.delete(2),[4,Rp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Mu.add(2),[4,Np(n)]);case 3:r.sent(),n.Bu.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function nm(t){var e=this;return t.ju||(t.ju=function(t,e,n){var r=Gu(t);return r.mu(),new Ip(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Bp.bind(null,t),nu:Hp.bind(null,t),au:Kp.bind(null,t)}),t.ku.push(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return n?(t.ju.Jc(),Up(t)?Mp(t):t.Bu.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.ju.stop()];case 2:e.sent(),zp(t),e.label=3;case 3:return[2]}})})})),t.ju}function rm(t){var e=this;return t.Gu||(t.Gu=function(t,e,n){var r=Gu(t);return r.mu(),new Ap(e,r.Qc,r.credentials,r.serializer,n)}(t.Nu,t.di,{cu:Xp.bind(null,t),nu:tm.bind(null,t),Eu:Zp.bind(null,t),wu:Jp.bind(null,t)}),t.ku.push(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Gu.Jc(),[4,$p(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Gu.stop()];case 3:e.sent(),t.Fu.length>0&&(Uu("RemoteStore","Stopping write stream with "+t.Fu.length+" pending writes"),t.Fu=[]),e.label=4;case 4:return[2]}})})})),t.Gu}var im=function(){this.zu=void 0,this.listeners=[]},sm=function(){this.queries=new Ef(function(t){return tf(t)},Jh),this.onlineState="Unknown",this.Hu=new Set};function om(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:if(n=Gu(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new im),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.Ju(r)];case 2:return o.zu=c.sent(),[3,4];case 3:return a=c.sent(),u=$f(a,"Initialization of query '"+ef(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Yu(n.onlineState),s.zu&&e.Xu(s.zu)&&lm(n),[2]}})})}function am(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Ii.d)(this,function(a){return n=Gu(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Zu(r))]:[2]})})}function um(t,e){for(var n=Gu(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Xu(o)&&(r=!0);a.zu=o}}r&&lm(n)}function cm(t,e,n){var r=Gu(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function lm(t){t.Hu.forEach(function(t){t.next()})}var hm=function(){function t(t,e,n){this.query=t,this.ta=e,this.ea=!1,this.na=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Xu=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Hc(t.query,t.docs,t.te,e,t.ee,t.fromCache,t.ne,!0)}var s=!1;return this.ea?this.sa(t)&&(this.ta.next(t),s=!0):this.ia(t,this.onlineState)&&(this.ra(t),s=!0),this.na=t,s},t.prototype.onError=function(t){this.ta.error(t)},t.prototype.Yu=function(t){this.onlineState=t;var e=!1;return this.na&&!this.ea&&this.ia(this.na,t)&&(this.ra(this.na),e=!0),e},t.prototype.ia=function(t,e){return!t.fromCache||!(this.options.oa&&"Offline"!==e||t.docs.W()&&"Offline"!==e)},t.prototype.sa=function(t){return t.docChanges.length>0||!!(t.ne||this.na&&this.na.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ra=function(t){t=Hc.ie(t.query,t.docs,t.ee,t.fromCache),this.ea=!0,this.ta.next(t)},t}(),fm=function(){function t(){this.ca=new kc(dm.ua),this.aa=new kc(dm.ha)}return t.prototype.W=function(){return this.ca.W()},t.prototype.Do=function(t,e){var n=new dm(t,e);this.ca=this.ca.add(n),this.aa=this.aa.add(n)},t.prototype.la=function(t,e){var n=this;t.forEach(function(t){return n.Do(t,e)})},t.prototype.No=function(t,e){this._a(new dm(t,e))},t.prototype.fa=function(t,e){var n=this;t.forEach(function(t){return n.No(t,e)})},t.prototype.da=function(t){var e=this,n=new hc(new uc([])),r=new dm(n,t),i=new dm(n,t+1),s=[];return this.aa.Kt([r,i],function(t){e._a(t),s.push(t.key)}),s},t.prototype.wa=function(){var t=this;this.ca.forEach(function(e){return t._a(e)})},t.prototype._a=function(t){this.ca=this.ca.delete(t),this.aa=this.aa.delete(t)},t.prototype.Ea=function(t){var e=new hc(new uc([])),n=new dm(e,t),r=new dm(e,t+1),i=Mc();return this.aa.Kt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Qr=function(t){var e=new dm(t,0),n=this.ca.jt(e);return null!==n&&t.isEqual(n.key)},t}(),dm=function(){function t(t,e){this.key=t,this.Ta=e}return t.ua=function(t,e){return hc.$(t.key,e.key)||nc(t.Ta,e.Ta)},t.ha=function(t,e){return nc(t.Ta,e.Ta)||hc.$(t.key,e.key)},t}();function pm(t,e){return"firestore_clients_"+t+"_"+e}function mm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.u()&&(r+="_"+e.uid),r}function gm(t,e){return"firestore_targets_"+t+"_"+e}var ym=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ia=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new $u(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(qu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ia=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new $u(r.error.code,r.error.message)),i?new t(e,r.state,s):(qu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ma=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),vm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ia=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=qc(),o=0;i&&o<r.activeTargetIds.length;++o)i=pc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(qu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),_m=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ia=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(qu("SharedClientState","Failed to parse online state: "+e),null)},t}(),wm=function(){function t(){this.activeTargetIds=qc()}return t.prototype.Aa=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Ra=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ma=function(){var t={activeTargetIds:this.activeTargetIds.H(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Om=function(){function t(t,e,n,r,i){this.window=t,this.Cs=e,this.persistenceKey=n,this.Pa=r,this.ga=null,this.Pu=null,this.ps=null,this.ya=this.Va.bind(this),this.pa=new xc(nc),this.lr=!1,this.va=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ba=pm(this.persistenceKey,this.Pa),this.Sa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.pa=this.pa.Tt(this.Pa,new wm),this.Da=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ca=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Na=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.xa=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Fa=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.ya)}return t.Gs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(Ii.d)(this,function(h){switch(h.label){case 0:return[4,this.ga.Ic()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Pa&&(i=this.getItem(pm(this.persistenceKey,r)))&&(s=vm.Ia(r,i))&&(this.pa=this.pa.Tt(s.clientId,s));for(this.Oa(),(o=this.storage.getItem(this.xa))&&(a=this.Ma(o))&&this.ka(a),u=0,c=this.va;u<c.length;u++)this.Va(c[u]);return this.va=[],this.window.addEventListener("unload",function(){return l.fc()}),this.lr=!0,[2]}})})},t.prototype.Ss=function(t){this.setItem(this.Sa,JSON.stringify(t))},t.prototype.$a=function(){return this.La(this.pa)},t.prototype.Ba=function(t){var e=!1;return this.pa.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.qa=function(t){this.Ua(t,"pending")},t.prototype.Qa=function(t,e,n){this.Ua(t,e,n),this.Ka(t)},t.prototype.Wa=function(t){var e="not-current";if(this.Ba(t)){var n=this.storage.getItem(gm(this.persistenceKey,t));if(n){var r=bm.Ia(t,n);r&&(e=r.state)}}return this.ja.Aa(t),this.Oa(),e},t.prototype.Ga=function(t){this.ja.Ra(t),this.Oa()},t.prototype.za=function(t){return this.ja.activeTargetIds.has(t)},t.prototype.Ha=function(t){this.removeItem(gm(this.persistenceKey,t))},t.prototype.Ja=function(t,e,n){this.Ya(t,e,n)},t.prototype.Xa=function(t,e,n){var r=this;e.forEach(function(t){r.Ka(t)}),this.currentUser=t,n.forEach(function(t){r.qa(t)})},t.prototype.Za=function(t){this.th(t)},t.prototype.eh=function(){this.nh()},t.prototype.fc=function(){this.lr&&(this.window.removeEventListener("storage",this.ya),this.removeItem(this.ba),this.lr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Uu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Uu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Uu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Va=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Uu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ba)return void qu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Cs.Mi(function(){return Object(Ii.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Ii.d)(this,function(a){if(this.lr){if(null!==n.key)if(this.Da.test(n.key)){if(null==n.newValue)return t=this.sh(n.key),[2,this.ih(t,null)];if(e=this.rh(n.key,n.newValue))return[2,this.ih(e.clientId,e)]}else if(this.Ca.test(n.key)){if(null!==n.newValue&&(r=this.oh(n.key,n.newValue)))return[2,this.uh(r)]}else if(this.Na.test(n.key)){if(null!==n.newValue&&(i=this.ah(n.key,n.newValue)))return[2,this.hh(i)]}else if(n.key===this.xa){if(null!==n.newValue&&(s=this.Ma(n.newValue)))return[2,this.ka(s)]}else if(n.key===this.Sa)(o=function(t){var e=Rf.Ds;if(null!=t)try{var n=JSON.parse(t);Ku("number"==typeof n),e=n}catch(t){qu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Rf.Ds&&this.ps(o);else if(n.key===this.Fa)return[2,this.ga.lh()]}else this.va.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ja",{get:function(){return this.pa.get(this.Pa)},enumerable:!1,configurable:!0}),t.prototype.Oa=function(){this.setItem(this.ba,this.ja.ma())},t.prototype.Ua=function(t,e,n){var r=new ym(this.currentUser,t,e,n),i=mm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ma())},t.prototype.Ka=function(t){var e=mm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.th=function(t){this.storage.setItem(this.xa,JSON.stringify({clientId:this.Pa,onlineState:t}))},t.prototype.Ya=function(t,e,n){var r=gm(this.persistenceKey,t),i=new bm(t,e,n);this.setItem(r,i.ma())},t.prototype.nh=function(){this.setItem(this.Fa,"value-not-used")},t.prototype.sh=function(t){var e=this.Da.exec(t);return e?e[1]:null},t.prototype.rh=function(t,e){var n=this.sh(t);return vm.Ia(n,e)},t.prototype.oh=function(t,e){var n=this.Ca.exec(t),r=Number(n[1]);return ym.Ia(new Fu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ah=function(t,e){var n=this.Na.exec(t),r=Number(n[1]);return bm.Ia(r,e)},t.prototype.Ma=function(t){return _m.Ia(t)},t.prototype.uh=function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.ga._h(t.batchId,t.state,t.error)]:(Uu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.hh=function(t){return this.ga.fh(t.targetId,t.state,t.error)},t.prototype.ih=function(t,e){var n=this,r=e?this.pa.Tt(t,e):this.pa.remove(t),i=this.La(this.pa),s=this.La(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.ga.dh(o,a).then(function(){n.pa=r})},t.prototype.ka=function(t){this.pa.get(t.clientId)&&this.Pu(t.onlineState)},t.prototype.La=function(t){var e=qc();return t.forEach(function(t,n){e=e.Gt(n.activeTargetIds)}),e},t}(),Em=function(){function t(){this.wh=new wm,this.Eh={},this.Pu=null,this.ps=null}return t.prototype.qa=function(t){},t.prototype.Qa=function(t,e,n){},t.prototype.Wa=function(t){return this.wh.Aa(t),this.Eh[t]||"not-current"},t.prototype.Ja=function(t,e,n){this.Eh[t]=e},t.prototype.Ga=function(t){this.wh.Ra(t)},t.prototype.za=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.Ha=function(t){delete this.Eh[t]},t.prototype.$a=function(){return this.wh.activeTargetIds},t.prototype.Ba=function(t){return this.wh.activeTargetIds.has(t)},t.prototype.start=function(){return this.wh=new wm,Promise.resolve()},t.prototype.Xa=function(t,e,n){},t.prototype.Za=function(t){},t.prototype.fc=function(){},t.prototype.Ss=function(t){},t.prototype.eh=function(){},t}(),Cm=function(t){this.key=t},Sm=function(t){this.key=t},Tm=function(){function t(t,e){this.query=t,this.Th=e,this.Ih=null,this.le=!1,this.mh=Mc(),this.ee=Mc(),this.Ah=rf(t),this.Rh=new zc(this.Ah)}return Object.defineProperty(t.prototype,"Ph",{get:function(){return this.Th},enumerable:!1,configurable:!0}),t.prototype.gh=function(t,e){var n=this,r=e?e.yh:new Bc,i=e?e.Rh:this.Rh,s=e?e.ee:this.ee,o=i,a=!1,u=Kh(this.query)&&i.size===this.query.limit?i.last():null,c=Gh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Pt(function(t,e){var l=i.get(t),h=e instanceof Mh?e:null;h&&(h=nf(n.query,h)?h:null);var f=!!l&&n.ee.has(l.key),d=!!h&&(h.an||n.ee.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vh(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ah(h,u)>0||c&&n.Ah(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Kh(this.query)||Gh(this.query))for(;o.size>this.query.limit;){var l=Kh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Rh:o,yh:r,ph:a,ee:s}},t.prototype.Vh=function(t,e){return t.an&&e.hasCommittedMutations&&!e.an},t.prototype.Zn=function(t,e,n){var r=this,i=this.Rh;this.Rh=t.Rh,this.ee=t.ee;var s=t.yh.Zt();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Hu()}};return n(t)-n(e)}(t.type,e.type)||r.Ah(t.doc,e.doc)}),this.bh(n);var o=e?this.Sh():[],a=0===this.mh.size&&this.le?1:0,u=a!==this.Ih;return this.Ih=a,0!==s.length||u?{snapshot:new Hc(this.query,t.Rh,i,s,t.ee,0===a,u,!1),Dh:o}:{Dh:o}},t.prototype.Yu=function(t){return this.le&&"Offline"===t?(this.le=!1,this.Zn({Rh:this.Rh,yh:new Bc,ee:this.ee,ph:!1},!1)):{Dh:[]}},t.prototype.Ch=function(t){return!this.Th.has(t)&&!!this.Rh.has(t)&&!this.Rh.get(t).an},t.prototype.bh=function(t){var e=this;t&&(t._e.forEach(function(t){return e.Th=e.Th.add(t)}),t.fe.forEach(function(t){}),t.de.forEach(function(t){return e.Th=e.Th.delete(t)}),this.le=t.le)},t.prototype.Sh=function(){var t=this;if(!this.le)return[];var e=this.mh;this.mh=Mc(),this.Rh.forEach(function(e){t.Ch(e.key)&&(t.mh=t.mh.add(e.key))});var n=[];return e.forEach(function(e){t.mh.has(e)||n.push(new Sm(e))}),this.mh.forEach(function(t){e.has(t)||n.push(new Cm(t))}),n},t.prototype.Nh=function(t){this.Th=t.Bc,this.mh=Mc();var e=this.gh(t.documents);return this.Zn(e,!0)},t.prototype.xh=function(){return Hc.ie(this.query,this.Rh,this.ee,0===this.Ih)},t}(),xm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Im=function(t){this.key=t,this.Fh=!1},Am=function(){function t(t,e,n,r,i,s){this.Cu=t,this.Oh=e,this.Mh=n,this.kh=r,this.currentUser=i,this.$h=s,this.Lh={},this.Bh=new Ef(function(t){return tf(t)},Jh),this.qh=new Map,this.Uh=[],this.Qh=new xc(hc.$),this.Kh=new Map,this.Wh=new fm,this.jh={},this.Gh=new Map,this.zh=tp._o(),this.onlineState="Unknown",this.Hh=void 0}return Object.defineProperty(t.prototype,"Jh",{get:function(){return!0===this.Hh},enumerable:!1,configurable:!0}),t}();function km(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return n=sg(t),(i=n.Bh.get(e))?(n.kh.Wa(i.targetId),r=i.view.xh(),[3,4]):[3,1];case 1:return[4,_p(n.Cu,Xh(e))];case 2:return s=a.sent(),o=n.kh.Wa(s.targetId),[4,jm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Jh&&Dp(n.Oh,s),a.label=4;case 4:return[2,r]}})})}function jm(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(Ii.d)(this,function(l){switch(l.label){case 0:return t.Yh=function(e,n,r){return function(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return(i=e.view.gh(n)).ph?[4,Op(t.Cu,e.query,!1).then(function(t){return e.view.gh(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.re.get(e.targetId),o=e.view.Zn(i,t.Jh,s),[2,(Hm(t,e.targetId,o.Dh),o.snapshot)]}})})}(t,e,n,r)},[4,Op(t.Cu,e,!0)];case 1:return i=l.sent(),s=new Tm(e,i.Bc),o=s.gh(i.documents),a=Gc.he(n,r&&"Offline"!==t.onlineState),u=s.Zn(o,t.Jh,a),Hm(t,n,u.Dh),c=new xm(e,n,s),[2,(t.Bh.set(e,c),t.qh.has(n)?t.qh.get(n).push(e):t.qh.set(n,[e]),u.snapshot)]}})})}function Pm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return n=Gu(t),r=n.Bh.get(e),(i=n.qh.get(r.targetId)).length>1?[2,(n.qh.set(r.targetId,i.filter(function(t){return!Jh(t,e)})),void n.Bh.delete(e))]:n.Jh?(n.kh.Ga(r.targetId),n.kh.Ba(r.targetId)?[3,2]:[4,wp(n.Cu,r.targetId,!1).then(function(){n.kh.Ha(r.targetId),Lp(n.Oh,r.targetId),zm(n,r.targetId)}).catch(Tp)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return zm(n,r.targetId),[4,wp(n.Cu,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Rm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:r=og(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Gu(t),i=sc.now(),s=e.reduce(function(t,e){return t.add(e.key)},Mc());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Oc._s(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Ch(c,n.get(c.key));null!=l&&o.push(new Ih(c.key,l,Fh(l.proto.mapValue),vh.exists(!0)))}return r.rs.Sr(t,i,o,e)})}).then(function(t){var e=t.vn(n);return{batchId:t.batchId,Qn:e}})}(r.Cu,e)];case 2:return i=a.sent(),r.kh.qa(i.batchId),function(t,e,n){var r=t.jh[t.currentUser.h()];r||(r=new xc(nc)),r=r.Tt(e,n),t.jh[t.currentUser.h()]=r}(r,i.batchId,n),[4,Wm(r,i.Qn)];case 3:return a.sent(),[4,$p(r.Oh)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=$f(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function Nm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:n=Gu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bp(n.Cu,e)];case 2:return r=i.sent(),e.re.forEach(function(t,e){var r=n.Kh.get(e);r&&(Ku(t._e.size+t.fe.size+t.de.size<=1),t._e.size>0?r.Fh=!0:t.fe.size>0?Ku(r.Fh):t.de.size>0&&(Ku(r.Fh),r.Fh=!1))}),[4,Wm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Tp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Dm(t,e,n){var r=Gu(t);if(r.Jh&&0===n||!r.Jh&&1===n){var i=[];r.Bh.forEach(function(t,n){var r=n.view.Yu(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Gu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Yu(e)&&(r=!0)}),r&&lm(n)}(r.Mh,e),i.length&&r.Lh.au(i),r.onlineState=e,r.Jh&&r.kh.Za(e)}}function Lm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return(r=Gu(t)).kh.Ja(e,"rejected",n),i=r.Kh.get(e),(s=i&&i.key)?(o=(o=new xc(hc.$)).Tt(s,new Uh(s,oc.min())),a=Mc().add(s),u=new Kc(oc.min(),new Map,new kc(nc),o,a),[4,Nm(r,u)]):[3,2];case 1:return c.sent(),r.Qh=r.Qh.remove(s),r.Kh.delete(e),Gm(r),[3,4];case 2:return[4,wp(r.Cu,e,!1).then(function(){return zm(r,e,n)}).catch(Tp)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Fm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(s){switch(s.label){case 0:n=Gu(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,gp(n.Cu,e)];case 2:return i=s.sent(),qm(n,r,null),Um(n,r),n.kh.Qa(r,"acknowledged"),[4,Wm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Tp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Vm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(s){switch(s.label){case 0:r=Gu(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=Gu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.rs.Cr(t,e).next(function(e){return Ku(null!==e),r=e.keys(),n.rs.$r(t,e)}).next(function(){return n.rs.Ur(t)}).next(function(){return n.Oc._s(t,r)})})}(r.Cu,e)];case 2:return i=s.sent(),qm(r,e,n),Um(r,e),r.kh.Qa(e,"rejected",n),[4,Wm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Tp(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Mm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:qp((n=Gu(t)).Oh)||Uu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Gu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.rs.Or(t)})}(n.Cu)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Gh.get(r)||[]).push(e),n.Gh.set(r,i),[3,4]);case 3:return s=a.sent(),o=$f(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Um(t,e){(t.Gh.get(e)||[]).forEach(function(t){t.resolve()}),t.Gh.delete(e)}function qm(t,e,n){var r=Gu(t),i=r.jh[r.currentUser.h()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.jh[r.currentUser.h()]=i}}function zm(t,e,n){void 0===n&&(n=null),t.kh.Ga(e);for(var r=0,i=t.qh.get(e);r<i.length;r++){var s=i[r];t.Bh.delete(s),n&&t.Lh.Xh(s,n)}t.qh.delete(e),t.Jh&&t.Wh.da(e).forEach(function(e){t.Wh.Qr(e)||Bm(t,e)})}function Bm(t,e){var n=t.Qh.get(e);null!==n&&(Lp(t.Oh,n),t.Qh=t.Qh.remove(e),t.Kh.delete(n),Gm(t))}function Hm(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Cm?(t.Wh.Do(s.key,e),Km(t,s)):s instanceof Sm?(Uu("SyncEngine","Document no longer in limbo: "+s.key),t.Wh.No(s.key,e),t.Wh.Qr(s.key)||Bm(t,s.key)):Hu()}}function Km(t,e){var n=e.key;t.Qh.get(n)||(Uu("SyncEngine","New document in limbo: "+n),t.Uh.push(n),Gm(t))}function Gm(t){for(;t.Uh.length>0&&t.Qh.size<t.$h;){var e=t.Uh.shift(),n=t.zh.next();t.Kh.set(n,new Im(e)),t.Qh=t.Qh.Tt(e,n),Dp(t.Oh,new Ec(Xh(Hh(e.path)),n,2,Rf.Ds))}}function Wm(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return r=Gu(t),i=[],s=[],o=[],r.Bh.W()?[3,3]:(r.Bh.forEach(function(t,a){o.push(r.Yh(a,e,n).then(function(t){if(t){r.Jh&&r.kh.Ja(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Pf.Vs(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.Lh.au(i),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(Ii.d)(this,function(l){switch(l.label){case 0:n=Gu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Cf.forEach(e,function(e){return Cf.forEach(e.gs,function(r){return n.persistence.Vr.Do(t,e.targetId,r)}).next(function(){return Cf.forEach(e.ys,function(r){return n.persistence.Vr.No(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Vf(r=l.sent()))throw r;return Uu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Cc.get(a),c=u.Et(u.ft),n.Cc=n.Cc.Tt(a,c));return[2]}})})}(r.Cu,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function $m(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return(n=Gu(t)).currentUser.isEqual(e)?[3,3]:(Uu("SyncEngine","User change. New user:",e.h()),[4,mp(n.Cu,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Gh.forEach(function(t){t.forEach(function(t){t.reject(new $u(Wu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Gh.clear()}(n),n.kh.Xa(e,r.$c,r.Lc),[4,Wm(n,r.kc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Qm(t,e){var n=Gu(t),r=n.Kh.get(e);if(r&&r.Fh)return Mc().add(r.key);var i=Mc(),s=n.qh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Bh.get(a[o]);i=i.Gt(u.view.Ph)}return i}function Ym(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return[4,Op((n=Gu(t)).Cu,e.query,!0)];case 1:return r=s.sent(),i=e.view.Nh(r),[2,(n.Jh&&Hm(n,e.targetId,i.Dh),i)]}})})}function Xm(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){return[2,Cp((e=Gu(t)).Cu).then(function(t){return Wm(e,t)})]})})}function Zm(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,s;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=Gu(t),r=Gu(n.rs);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Nr(t,e).next(function(e){return e?n.Oc._s(t,e):Cf.resolve(null)})})}((i=Gu(t)).Cu,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,$p(i.Oh)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(qm(i,e,r||null),Um(i,e),function(t,e){Gu(Gu(t).rs).Br(e)}(i.Cu,e)):Hu(),o.label=4;case 4:return[4,Wm(i,s)];case 5:return o.sent(),[3,7];case 6:Uu("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Jm(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return sg(n=Gu(t)),og(n),!0!==e||!0===n.Hh?[3,3]:(r=n.kh.$a(),[4,tg(n,r.H())]);case 1:return i=c.sent(),n.Hh=!0,[4,em(n.Oh,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Dp(n.Oh,o[s]);return[3,7];case 3:return!1!==e||!1===n.Hh?[3,7]:(a=[],u=Promise.resolve(),n.qh.forEach(function(t,e){n.kh.za(e)?a.push(e):u=u.then(function(){return zm(n,e),wp(n.Cu,e,!0)}),Lp(n.Oh,e)}),[4,u]);case 4:return c.sent(),[4,tg(n,a)];case 5:return c.sent(),function(t){var e=Gu(t);e.Kh.forEach(function(t,n){Lp(e.Oh,n)}),e.Wh.wa(),e.Kh=new Map,e.Qh=new xc(hc.$)}(n),n.Hh=!1,[4,em(n.Oh,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function tg(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(Ii.d)(this,function(m){switch(m.label){case 0:n=Gu(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.qh.get(a=o[s]))&&0!==c.length?[4,_p(n.Cu,Xh(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.Bh.get(h[l]),[4,Ym(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ep(n.Cu,a)];case 8:return p=m.sent(),[4,_p(n.Cu,p)];case 9:return u=m.sent(),[4,jm(n,eg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Lh.au(i),r)]}})})}function eg(t){return Bh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ng(t){var e=Gu(t);return Gu(Gu(e.Cu).persistence).Ic()}function rg(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,s,o;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return(i=Gu(t)).Hh?(Uu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.qh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Cp(i.Cu)];case 3:return s=a.sent(),o=Kc.ae(e,"current"===n),[4,Wm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,wp(i.Cu,e,!0)];case 6:return a.sent(),zm(i,e,r),[3,8];case 7:Hu(),a.label=8;case 8:return[2]}})})}function ig(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(Ii.d)(this,function(f){switch(f.label){case 0:if(!(r=sg(t)).Hh)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.qh.has(o=s[i])?(Uu("SyncEngine","Adding an already active target "+o),[3,5]):[4,Ep(r.Cu,o)]:[3,6];case 2:return a=f.sent(),[4,_p(r.Cu,a)];case 3:return u=f.sent(),[4,jm(r,eg(a),u.targetId,!1)];case 4:f.sent(),Dp(r.Oh,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return r.qh.has(t)?[4,wp(r.Cu,t,!1).then(function(){Lp(r.Oh,t),zm(r,t)}).catch(Tp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function sg(t){var e=Gu(t);return e.Oh.xu.Qu=Nm.bind(null,e),e.Oh.xu.Xe=Qm.bind(null,e),e.Oh.xu.Uu=Lm.bind(null,e),e.Lh.au=um.bind(null,e.Mh),e.Lh.Xh=cm.bind(null,e.Mh),e}function og(t){var e=Gu(t);return e.Oh.xu.Ku=Fm.bind(null,e),e.Oh.xu.Wu=Vm.bind(null,e),e}var ag=function(){function t(){}return t.prototype.Mc=function(t){this.Zh=t},t.prototype.ws=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Tn.length||1===t.Tn.length&&t.Tn[0].field.tt())}(e)||n.isEqual(oc.min())?this.tl(t,e):this.Zh._s(t,r).next(function(s){var o=i.el(e,s);return(Kh(e)||Gh(e))&&i.ph(e.limitType,o,r,n)?i.tl(t,e):(Mu()<=ki.a.DEBUG&&Uu("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ef(e)),i.Zh.ws(t,e,n).next(function(t){return o.forEach(function(e){t=t.Tt(e.key,e)}),t}))})},t.prototype.el=function(t,e){var n=new kc(rf(t));return e.forEach(function(e,r){r instanceof Mh&&nf(t,r)&&(n=n.add(r))}),n},t.prototype.ph=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.F(r)>0)},t.prototype.tl=function(t,e){return Mu()<=ki.a.DEBUG&&Uu("IndexFreeQueryEngine","Using full collection scan to execute query:",ef(e)),this.Zh.ws(t,e,oc.min())},t}(),ug=function(){function t(t,e){this.os=t,this.Vr=e,this.rs=[],this.nl=1,this.sl=new kc(dm.ua)}return t.prototype.br=function(t){return Cf.resolve(0===this.rs.length)},t.prototype.Sr=function(t,e,n,r){var i=this.nl;this.nl++;var s=new wf(i,e,n,r);this.rs.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.sl=this.sl.add(new dm(u.key,i)),this.os.Dr(t,u.key.path.q())}return Cf.resolve(s)},t.prototype.Cr=function(t,e){return Cf.resolve(this.il(e))},t.prototype.Fr=function(t,e){var n=this.rl(e+1),r=n<0?0:n;return Cf.resolve(this.rs.length>r?this.rs[r]:null)},t.prototype.Or=function(){return Cf.resolve(0===this.rs.length?-1:this.nl-1)},t.prototype.Mr=function(t){return Cf.resolve(this.rs.slice())},t.prototype.us=function(t,e){var n=this,r=new dm(e,0),i=new dm(e,Number.POSITIVE_INFINITY),s=[];return this.sl.Kt([r,i],function(t){var e=n.il(t.Ta);s.push(e)}),Cf.resolve(s)},t.prototype.ds=function(t,e){var n=this,r=new kc(nc);return e.forEach(function(t){var e=new dm(t,0),i=new dm(t,Number.POSITIVE_INFINITY);n.sl.Kt([e,i],function(t){r=r.add(t.Ta)})}),Cf.resolve(this.ol(r))},t.prototype.Rs=function(t,e){var n=e.path,r=n.length+1,i=n;hc.ot(i)||(i=i.child(""));var s=new dm(new hc(i),0),o=new kc(nc);return this.sl.Wt(function(t){var e=t.key.path;return!!n.j(e)&&(e.length===r&&(o=o.add(t.Ta)),!0)},s),Cf.resolve(this.ol(o))},t.prototype.ol=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.il(t);null!==r&&n.push(r)}),n},t.prototype.$r=function(t,e){var n=this;Ku(0===this.cl(e.batchId,"removed")),this.rs.shift();var r=this.sl;return Cf.forEach(e.mutations,function(i){var s=new dm(i.key,e.batchId);return r=r.delete(s),n.Vr.qr(t,i.key)}).next(function(){n.sl=r})},t.prototype.Br=function(t){},t.prototype.Qr=function(t,e){var n=new dm(e,0),r=this.sl.jt(n);return Cf.resolve(e.isEqual(r&&r.key))},t.prototype.Ur=function(t){return Cf.resolve()},t.prototype.cl=function(t,e){return this.rl(t)},t.prototype.rl=function(t){return 0===this.rs.length?0:t-this.rs[0].batchId},t.prototype.il=function(t){var e=this.rl(t);return e<0||e>=this.rs.length?null:this.rs[e]},t}(),cg=function(){function t(t,e){this.os=t,this.ul=e,this.docs=new xc(hc.$),this.size=0}return t.prototype.jn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ul(e);return this.docs=this.docs.Tt(r,{zn:e,size:o,readTime:n}),this.size+=o-s,this.os.Dr(t,r.path.q())},t.prototype.Hn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Jn=function(t,e){var n=this.docs.get(e);return Cf.resolve(n?n.zn:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nc();return e.forEach(function(t){var e=n.docs.get(t);r=r.Tt(t,e?e.zn:null)}),Cf.resolve(r)},t.prototype.ws=function(t,e,n){for(var r=Lc(),i=new hc(e.path.child("")),s=this.docs.Vt(i);s.Nt();){var o=s.Ct(),a=o.value,u=a.zn,c=a.readTime;if(!e.path.j(o.key.path))break;c.F(n)<=0||u instanceof Mh&&nf(e,u)&&(r=r.Tt(u.key,u))}return Cf.resolve(r)},t.prototype.al=function(t,e){return Cf.forEach(this.docs,function(t){return e(t)})},t.prototype.Xr=function(t){return new lg(this)},t.prototype.eo=function(t){return Cf.resolve(this.size)},t}(),lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).no=e,n}return Object(Ii.c)(e,t),e.prototype.Zn=function(t){var e=this,n=[];return this.Qn.forEach(function(r,i){i&&i.zn?n.push(e.no.jn(t,i.zn,e.Wn(r))):e.no.Hn(r)}),Cf.qn(n)},e.prototype.Yn=function(t,e){return this.no.Jn(t,e)},e.prototype.Xn=function(t,e){return this.no.getEntries(t,e)},e}(Sf),hg=function(){function t(t){this.persistence=t,this.hl=new Ef(function(t){return yc(t)},bc),this.lastRemoteSnapshotVersion=oc.min(),this.highestTargetId=0,this.ll=0,this._l=new fm,this.targetCount=0,this.fl=tp.lo()}return t.prototype.Ue=function(t,e){return this.hl.forEach(function(t,n){return e(n)}),Cf.resolve()},t.prototype.To=function(t){return Cf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Io=function(t){return Cf.resolve(this.ll)},t.prototype.fo=function(t){return this.highestTargetId=this.fl.next(),Cf.resolve(this.highestTargetId)},t.prototype.mo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ll&&(this.ll=e),Cf.resolve()},t.prototype.Ro=function(t){this.hl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.fl=new tp(e),this.highestTargetId=e),t.sequenceNumber>this.ll&&(this.ll=t.sequenceNumber)},t.prototype.Ao=function(t,e){return this.Ro(e),this.targetCount+=1,Cf.resolve()},t.prototype.yo=function(t,e){return this.Ro(e),Cf.resolve()},t.prototype.Vo=function(t,e){return this.hl.delete(e.target),this._l.da(e.targetId),this.targetCount-=1,Cf.resolve()},t.prototype.mr=function(t,e,n){var r=this,i=0,s=[];return this.hl.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.hl.delete(o),s.push(r.po(t,a.targetId)),i++)}),Cf.qn(s).next(function(){return i})},t.prototype.vo=function(t){return Cf.resolve(this.targetCount)},t.prototype.bo=function(t,e){var n=this.hl.get(e)||null;return Cf.resolve(n)},t.prototype.So=function(t,e,n){return this._l.la(e,n),Cf.resolve()},t.prototype.Co=function(t,e,n){this._l.fa(e,n);var r=this.persistence.Vr,i=[];return r&&e.forEach(function(e){i.push(r.qr(t,e))}),Cf.qn(i)},t.prototype.po=function(t,e){return this._l.da(e),Cf.resolve()},t.prototype.xo=function(t,e){var n=this._l.Ea(e);return Cf.resolve(n)},t.prototype.Qr=function(t,e){return Cf.resolve(this._l.Qr(e))},t}(),fg=function(){function t(t){this.serializer=t,this.dl=new Map,this.wl=new Map}return t.prototype.ro=function(t,e){return Cf.resolve(this.dl.get(e))},t.prototype.oo=function(t,e){var n;return this.dl.set(e.id,{id:(n=e).id,version:n.version,createTime:Pl(n.createTime)}),Cf.resolve()},t.prototype.co=function(t,e){return Cf.resolve(this.wl.get(e))},t.prototype.uo=function(t,e){var n;return this.wl.set(e.name,{name:(n=e).name,query:md(n.bundledQuery),readTime:Pl(n.readTime)}),Cf.resolve()},t}(),dg=function(){function t(t,e){var n=this;this.El={},this.ko=new Rf(0),this.$o=!1,this.$o=!0,this.Vr=t(this),this.jo=new hg(this),this.os=new Id,this.ss=function(t,e){return new cg(t,function(t){return n.Vr.Tl(t)})}(this.os),this.serializer=new sd(e),this.Go=new fg(this.serializer)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.fc=function(){return this.$o=!1,Promise.resolve()},Object.defineProperty(t.prototype,"lr",{get:function(){return this.$o},enumerable:!1,configurable:!0}),t.prototype.tc=function(){},t.prototype.ec=function(){},t.prototype.Pc=function(){return this.os},t.prototype.mc=function(t){var e=this.El[t.h()];return e||(e=new ug(this.os,this.Vr),this.El[t.h()]=e),e},t.prototype.Ac=function(){return this.jo},t.prototype.Rc=function(){return this.ss},t.prototype.gc=function(){return this.Go},t.prototype.runTransaction=function(t,e,n){var r=this;Uu("MemoryPersistence","Starting transaction:",t);var i=new pg(this.ko.next());return this.Vr.Il(),n(i).next(function(t){return r.Vr.ml(i).next(function(){return t})}).Ln().then(function(t){return i.ns(),t})},t.prototype.Al=function(t,e){return Cf.Un(Object.values(this.El).map(function(n){return function(){return n.Qr(t,e)}}))},t}(),pg=function(t){function e(e){var n=this;return(n=t.call(this)||this).Fo=e,n}return Object(Ii.c)(e,t),e}(kf),mg=function(){function t(t){this.persistence=t,this.Rl=new fm,this.Pl=null}return t.gl=function(e){return new t(e)},Object.defineProperty(t.prototype,"yl",{get:function(){if(this.Pl)return this.Pl;throw Hu()},enumerable:!1,configurable:!0}),t.prototype.Do=function(t,e,n){return this.Rl.Do(n,e),this.yl.delete(n.toString()),Cf.resolve()},t.prototype.No=function(t,e,n){return this.Rl.No(n,e),this.yl.add(n.toString()),Cf.resolve()},t.prototype.qr=function(t,e){return this.yl.add(e.toString()),Cf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Rl.da(e.targetId).forEach(function(t){return n.yl.add(t.toString())});var r=this.persistence.Ac();return r.xo(t,e.targetId).next(function(t){t.forEach(function(t){return n.yl.add(t.toString())})}).next(function(){return r.Vo(t,e)})},t.prototype.Il=function(){this.Pl=new Set},t.prototype.ml=function(t){var e=this,n=this.persistence.Rc().Xr();return Cf.forEach(this.yl,function(r){var i=hc.st(r);return e.Vl(t,i).next(function(t){t||n.Hn(i)})}).next(function(){return e.Pl=null,n.apply(t)})},t.prototype.Sc=function(t,e){var n=this;return this.Vl(t,e).next(function(t){t?n.yl.delete(e.toString()):n.yl.add(e.toString())})},t.prototype.Tl=function(t){return 0},t.prototype.Vl=function(t,e){var n=this;return Cf.Un([function(){return Cf.resolve(n.Rl.Qr(e))},function(){return n.persistence.Ac().Qr(t,e)},function(){return n.persistence.Al(t,e)}])},t}(),gg=function(){function t(t){this.pl=t.pl,this.vl=t.vl}return t.prototype.cu=function(t){this.bl=t},t.prototype.nu=function(t){this.Sl=t},t.prototype.onMessage=function(t){this.Dl=t},t.prototype.close=function(){this.vl()},t.prototype.send=function(t){this.pl(t)},t.prototype.Cl=function(){this.bl()},t.prototype.Nl=function(t){this.Sl(t)},t.prototype.xl=function(t){this.Dl(t)},t}(),yg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},bg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Ii.c)(e,t),e.prototype.Ll=function(t,e,n,r){return new Promise(function(i,s){var o=new Ru;o.listenOnce(ku.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Au.NO_ERROR:var e=o.getResponseJson();Uu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Au.TIMEOUT:Uu("Connection",'RPC "'+t+'" timed out'),s(new $u(Wu.DEADLINE_EXCEEDED,"Request time out"));break;case Au.HTTP_ERROR:var n=o.getStatus();if(Uu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Wu).indexOf(e)>=0?e:Wu.UNKNOWN}(r.status);s(new $u(a,r.message))}else s(new $u(Wu.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new $u(Wu.UNAVAILABLE,"Connection failed."));break;default:Hu()}}finally{Uu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.uu=function(t,e){var n=[this.Ol,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Cu,i=xo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.$l(s.initMessageHeaders,e),Object(ji.l)()||Object(ji.n)()||Object(ji.j)()||Object(ji.k)()||Object(ji.o)()||Object(ji.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Uu("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new gg({pl:function(t){c?Uu("Connection","Not sending because WebChannel is closed:",t):(u||(Uu("Connection","Opening WebChannel transport."),a.open(),u=!0),Uu("Connection","WebChannel sending:",t),a.send(t))},vl:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Pu.EventType.OPEN,function(){c||Uu("Connection","WebChannel transport opened.")}),h(a,Pu.EventType.CLOSE,function(){c||(c=!0,Uu("Connection","WebChannel transport closed"),l.Nl())}),h(a,Pu.EventType.ERROR,function(t){c||(c=!0,zu("Connection","WebChannel transport errored:",t),l.Nl(new $u(Wu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Pu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ku(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Uu("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=wc[t];if(void 0!==e)return Tc(e)}(i),o=r.message;void 0===s&&(s=Wu.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Nl(new $u(s,o)),a.close()}else Uu("Connection","WebChannel received:",n),l.xl(n)}}),h(i,ju.STAT_EVENT,function(t){10===t.stat?Uu("Connection","Detected buffering proxy"):11===t.stat&&Uu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Cl()},0),l},e}(function(){function t(t){this.Fl=t,this.t=t.t,this.Ol=(t.ssl?"https":"http")+"://"+t.host,this.Ml="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.Au=function(t,e,n,r){var i=this.kl(t,e);Uu("RestConnection","Sending: ",i,n);var s={};return this.$l(s,r),this.Ll(t,i,s,n).then(function(t){return Uu("RestConnection","Received: ",t),t},function(e){throw zu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ru=function(t,e,n,r){return this.Au(t,e,n,r)},t.prototype.$l=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.1.1",t["Content-Type"]="text/plain",e)for(var n in e.T)e.T.hasOwnProperty(n)&&(t[n]=e.T[n])},t.prototype.kl=function(t,e){return this.Ol+"/v1/"+e+":"+yg[t]},t}()),vg=function(){function t(){var t=this;this.Bl=function(){return t.ql()},this.Ul=function(){return t.Ql()},this.Kl=[],this.Wl()}return t.prototype.Lu=function(t){this.Kl.push(t)},t.prototype.fc=function(){window.removeEventListener("online",this.Bl),window.removeEventListener("offline",this.Ul)},t.prototype.Wl=function(){window.addEventListener("online",this.Bl),window.addEventListener("offline",this.Ul)},t.prototype.ql=function(){Uu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(0)},t.prototype.Ql=function(){Uu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Kl;t<e.length;t++)(0,e[t])(1)},t.Gs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_g=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype.fc=function(){},t}(),wg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return this.serializer=xf(t.Fl.t),this.kh=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Cu=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return pp(this.persistence,new ag,t.Yl,this.serializer)},t.prototype.Gl=function(t){return new dg(mg.gl,this.serializer)},t.prototype.jl=function(t){return new Em},t.prototype.terminate=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.kh.fc()];case 1:return t.sent(),[4,this.persistence.fc()];case 2:return t.sent(),[2]}})})},t}(),Og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ii.c)(e,t),e.prototype.initialize=function(e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Sp(this.Cu)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,og(this.Xl.ga)];case 4:return n.sent(),[4,$p(this.Xl.Oh)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return pp(this.persistence,new ag,t.Yl,this.serializer)},e.prototype.Hl=function(t){return new Jf(this.persistence.Vr.cr,t.di)},e.prototype.Gl=function(t){var e=fp(t.Fl.t,t.Fl.persistenceKey),n=void 0!==this.cacheSizeBytes?Zf.er(this.cacheSizeBytes):Zf.ir;return new ap(this.synchronizeTabs,e,t.clientId,n,t.di,Hf(),Kf(),this.serializer,this.kh,!!this.forceOwnership)},e.prototype.jl=function(t){return new Em},e}(wg),Eg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ii.c)(e,t),e.prototype.initialize=function(e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.ga,this.kh instanceof Om?(this.kh.ga={_h:Zm.bind(null,n),fh:rg.bind(null,n),dh:ig.bind(null,n),Ic:ng.bind(null,n),lh:Xm.bind(null,n)},[4,this.kh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Zo(function(t){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,Jm(this.Xl.ga,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.lr?this.zl.start(this.Cu):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Hf();if(!Om.Gs(e))throw new $u(Wu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=fp(t.Fl.t,t.Fl.persistenceKey);return new Om(e,t.di,n,t.clientId,t.Yl)},e}(Og),Cg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return this.Cu?[3,2]:(this.Cu=t.Cu,this.kh=t.kh,this.Nu=this.Zl(e),this.Oh=this.t_(e),this.Mh=this.e_(e),this.ga=this.n_(e,!t.synchronizeTabs),this.kh.Pu=function(t){return Dm(n.ga,t,1)},this.Oh.xu.s_=$m.bind(null,this.ga),[4,em(this.Oh,this.ga.Jh)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new sm},t.prototype.Zl=function(t){var e=xf(t.Fl.t),n=new bg(t.Fl);return function(t,e,n){return new kp(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Cu,n=this.Nu,r=t.di,i=function(t){return Dm(o.ga,t,0)},s=vg.Gs()?new vg:new _g,new Pp(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Am(t,e,n,r,i,s);return o&&(a.Hh=!0),a}(this.Cu,this.Oh,this.Mh,this.kh,t.Yl,t.$h,e)},t.prototype.terminate=function(){return function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=Gu(t),Uu("RemoteStore","RemoteStore shutting down."),e.Mu.add(5),[4,Np(e)];case 1:return n.sent(),e.$u.fc(),e.Bu.set("Unknown"),[2]}})})}(this.Oh)},t}(),Sg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Tg=function(t){this.o_=t};function xg(t,e,n){if(!n)throw new $u(Wu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ig(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $u(Wu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ag(t,e,n,r){if(!0===e&&!0===r)throw new $u(Wu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kg(t){if(!hc.ot(t))throw new $u(Wu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function jg(t){if(hc.ot(t))throw new $u(Wu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Pg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Hu()}function Rg(t,e){if(t instanceof Tg&&(t=t.o_),!(t instanceof e)){if(e.name===t.constructor.name)throw new $u(Wu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pg(t);throw new $u(Wu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ng(t,e){if(e<=0)throw new $u(Wu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Dg=function(t){this.c_=t},Lg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.u_=function(t){if(2!==t.a_)throw t.h_(1===t.a_?this.c_+"() can only appear at the top level of your update data":this.c_+"() cannot be used with set() unless you pass {merge:true}");return t.en.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Dg);function Fg(t,e,n){return new Uy({a_:3,l_:e.settings.l_,methodName:t.c_,__:n},e.t,e.serializer,e.ignoreUndefinedProperties)}var Vg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.u_=function(t){return new yh(t.path,new uh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Dg),Mg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Ii.c)(e,t),e.prototype.u_=function(t){var e=Fg(this,t,!0),n=this.f_.map(function(t){return Gy(t,e)}),r=new ch(n);return new yh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Dg),Ug=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).f_=n,r}return Object(Ii.c)(e,t),e.prototype.u_=function(t){var e=Fg(this,t,!0),n=this.f_.map(function(t){return Gy(t,e)}),r=new hh(n);return new yh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Dg),qg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).d_=n,r}return Object(Ii.c)(e,t),e.prototype.u_=function(t){var e=new dh(t.serializer,Il(t.serializer,this.d_));return new yh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Dg),zg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $u(Wu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $u(Wu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.w_=t,this.E_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.w_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.E_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.w_===t.w_&&this.E_===t.E_},t.prototype.toJSON=function(){return{latitude:this.w_,longitude:this.E_}},t.prototype.C=function(t){return nc(this.w_,t.w_)||nc(this.E_,t.E_)},t}(),Bg=function(){function t(t){this.T_=t}return t.fromBase64String=function(e){try{return new t(_c.fromBase64String(e))}catch(e){throw new $u(Wu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(_c.fromUint8Array(e))},t.prototype.toBase64=function(){return this.T_.toBase64()},t.prototype.toUint8Array=function(){return this.T_.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.T_.isEqual(t.T_)},t}(),Hg=new Map,Kg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $u(Wu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $u(Wu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ag("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gg=function(){function t(t,e){this.I_="(lite)",this.m_=new Kg({}),this.A_=!1,t instanceof Lu?(this.R_=t,this.P_=new Yu):(this.g_=t,this.R_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $u(Wu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(t.options.projectId)}(t),this.P_=new Xu(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.g_)throw new $u(Wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.g_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y_",{get:function(){return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"V_",{get:function(){return void 0!==this.p_},enumerable:!1,configurable:!0}),t.prototype.v_=function(t){if(this.A_)throw new $u(Wu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.m_=new Kg(t),void 0!==t.credentials&&(this.P_=function(t){if(!t)return new Yu;switch(t.type){case"gapi":var e=t.client;return Ku(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ju(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new $u(Wu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.b_=function(){return this.m_},t.prototype.S_=function(){return this.A_=!0,this.m_},t.prototype._delete=function(){return this.p_||(this.p_=this.D_()),this.p_},t.prototype.D_=function(){return function(t){var e=Hg.get(t);e&&(Uu("ComponentProvider","Removing Datastore"),Hg.delete(t),e.terminate())}(this),Promise.resolve()},t}();function Wg(){if("undefined"==typeof Uint8Array)throw new $u(Wu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $g(){if("undefined"==typeof atob)throw new $u(Wu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Qg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.fromBase64String=function(t){return $g(),new e(Bg.fromBase64String(t))},e.fromUint8Array=function(t){return Wg(),new e(Bg.fromUint8Array(t))},e.prototype.toBase64=function(){return $g(),this.o_.toBase64()},e.prototype.toUint8Array=function(){return Wg(),this.o_.toUint8Array()},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Tg),Yg=function(){function t(){}return t.prototype.C_=function(t,e){switch(void 0===e&&(e="none"),al(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ml(t.integerValue||t.doubleValue);case 3:return this.N_(t.timestampValue);case 4:return this.x_(t,e);case 5:return t.stringValue;case 6:return this.F_(gl(t.bytesValue));case 7:return this.O_(t.referenceValue);case 8:return this.M_(t.geoPointValue);case 9:return this.k_(t.arrayValue,e);case 10:return this.L_(t.mapValue,e);default:throw Hu()}},t.prototype.L_=function(t,e){var n=this,r={};return el(t.fields||{},function(t,i){r[t]=n.C_(i,e)}),r},t.prototype.M_=function(t){return new zg(ml(t.latitude),ml(t.longitude))},t.prototype.k_=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.C_(t,e)})},t.prototype.x_=function(t,e){switch(e){case"previous":var n=il(t);return null==n?null:this.C_(n,e);case"estimate":return this.N_(sl(t));default:return null}},t.prototype.N_=function(t){var e=pl(t);return new sc(e.seconds,e.nanos)},t.prototype.B_=function(t,e){var n=uc.Y(t);Ku(rh(n));var r=new Lu(n.get(1),n.get(3)),i=new hc(n.B(5));return r.isEqual(e)||qu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Xg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.F_=function(t){return new Qg(new Bg(t))},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return Cb.q_(e,this.firestore,null)},e}(Yg),Zg=function(){function t(t,e,n,r,i){this.U_=t,this.Q_=e,this.K_=n,this.W_=r,this.j_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new my(this.U_,this.j_,this.K_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.W_},t.prototype.data=function(){if(this.W_){if(this.j_){var t=new Jg(this.U_,this.Q_,this.K_,this.W_,null);return this.j_.fromFirestore(t)}return this.Q_.C_(this.W_.En())}},t.prototype.get=function(t){if(this.W_){var e=this.W_.data().field(ty("DocumentSnapshot.get",t));if(null!==e)return this.Q_.C_(e)}},t}(),Jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Zg);function ty(t,e){return"string"==typeof e?Zy(t,e):e instanceof Tg?e.o_.G_:e.G_}var ey=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $u(Wu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.G_=new lc(t)}return t.prototype.isEqual=function(t){return this.G_.isEqual(t.G_)},t}(),ny=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).z_=new Wf,r.I_="name"in e?e.name:"[DEFAULT]",r}return Object(Ii.c)(e,t),e.prototype.D_=function(){return this.H_||wb(this),this.H_.terminate()},e}(Gg);function ry(t,e,n){var r=this,i=new Tf;return t.di.enqueue(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,ib(t,n)];case 1:return s.sent(),[4,sb(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Wu.FAILED_PRECONDITION||t.code===Wu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function iy(t){if(t.y_||t.V_)throw new $u(Wu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var sy=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).U_=e,a.J_=e,a.metadata=s,a}return Object(Ii.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.W_){if(this.j_){var e=new oy(this.U_,this.Q_,this.K_,this.W_,this.metadata,null);return this.j_.fromFirestore(e,t)}return this.Q_.C_(this.W_.En(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.W_){var n=this.W_.data().field(ty("DocumentSnapshot.get",t));if(null!==n)return this.Q_.C_(n,e.serverTimestamps)}},e}(Zg),oy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(sy),ay=function(){function t(t,e,n,r){this.U_=t,this.Q_=e,this.Y_=r,this.metadata=new Ib(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Y_.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.Y_.docs.forEach(function(r){t.call(e,new oy(n.U_,n.Q_,r.key,r,new Ib(n.Y_.ee.has(r.key),n.Y_.fromCache),n.query.j_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.Y_.se)throw new $u(Wu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.X_&&this.Z_===e||(this.X_=function(t,e){if(t.Y_.te.W()){var n=0;return t.Y_.docChanges.map(function(e){return{type:"added",doc:new oy(t.U_,t.Q_,e.doc.key,e.doc,new Ib(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),oldIndex:-1,newIndex:n++}})}var r=t.Y_.te;return t.Y_.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new oy(t.U_,t.Q_,e.doc.key,e.doc,new Ib(t.Y_.ee.has(e.doc.key),t.Y_.fromCache),t.query.j_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:uy(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.Z_=e),this.X_},t}();function uy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Hu()}}function cy(t,e){return t instanceof sy&&e instanceof sy?t.U_===e.U_&&t.K_.isEqual(e.K_)&&(null===t.W_?null===e.W_:t.W_.isEqual(e.W_))&&t.j_===e.j_:t instanceof ay&&e instanceof ay&&t.U_===e.U_&&Ny(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.Y_.isEqual(e.Y_)}var ly=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.F_=function(t){return new Bg(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new my(this.firestore,null,e)},e}(Yg);function hy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s=Rg(t.firestore,ny),o=Dy(s);return e instanceof Tg&&(e=e.o_),dy(s,("string"==typeof e||e instanceof ey?Hy(o,"updateDoc",t.K_,e,n,r):By(o,"updateDoc",t.K_,e)).ef(t.K_,vh.exists(!0)))}function fy(t){for(var e,n,r,i=this,s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];var a={includeMetadataChanges:!1},u=0;"object"!=typeof s[u]||If(s[u])||(a=s[u],u++);var c,l,h,f={includeMetadataChanges:a.includeMetadataChanges};if(If(s[u])){var d=s[u];s[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),s[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),s[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof my)l=Rg(t.firestore,ny),h=Hh(t.K_.path),c={next:function(e){s[u]&&s[u](py(l,t,e))},error:s[u+1],complete:s[u+2]};else{l=Rg(t.firestore,ny),h=t.tf;var p=new ly(l);c={next:function(e){s[u]&&s[u](new ay(l,p,t,e))},error:s[u+1],complete:s[u+2]},Iy(t.tf)}var m=_b(l),g=new Sg(c),y=new hm(h,g,f);return l.z_.Ri(function(){return Object(Ii.b)(i,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t=om,[4,fb(m)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}})})}),function(){g.r_(),l.z_.Ri(function(){return Object(Ii.b)(i,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t=am,[4,fb(m)];case 1:return[2,t.apply(void 0,[e.sent(),y])]}})})})}}function dy(t,e){return function(t,e){var n=this,r=new Tf;return t.di.Ri(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=Rm,[4,hb(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(_b(t),e)}function py(t,e,n){var r=n.docs.get(e.K_),i=new ly(t);return new sy(t,i,e.K_,r,new Ib(n.hasPendingWrites,n.fromCache),e.j_)}var my=function(){function t(t,e,n){this.j_=e,this.K_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"nf",{get:function(){return this.K_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.K_.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.K_.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ay(this.firestore,this.j_,this.K_.path.q())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.K_)},t}(),gy=function(){function t(t,e,n){this.j_=e,this.tf=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.tf)},t}(),yy=function(){};function by(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.sf(t)}return t}var vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).rf=e,i.cf=n,i.uf=r,i.type="where",i}return Object(Ii.c)(e,t),e.prototype.sf=function(t){var e=Dy(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.tt()){if("array-contains"===s||"array-contains-any"===s)throw new $u(Wu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Ty(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Sy(r,t,l[c]));a={arrayValue:{values:u}}}else a=Sy(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ty(o,s),a=Ky(n,"where",o,"in"===s||"not-in"===s);var h=sf.create(i,s,a);return function(t,e){if(e.An()){var n=$h(t);if(null!==n&&!n.isEqual(e.field))throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Wh(t);null!==r&&xy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new $u(Wu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.tf,0,e,t.firestore.R_,this.rf,this.cf,this.uf);return new gy(t.firestore,t.j_,function(t,e){var n=t.filters.concat([e]);return new zh(t.path,t.collectionGroup,t.Tn.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,n))},e}(yy),_y=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.af=n,r.type="orderBy",r}return Object(Ii.c)(e,t),e.prototype.sf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new bf(e,n);return function(t,e){if(null===Wh(t)){var n=$h(t);null!==n&&xy(0,n,e.field)}}(t,r),r}(t.tf,this.rf,this.af);return new gy(t.firestore,t.j_,function(t,e){var n=t.Tn.concat([e]);return new zh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.tf,e))},e}(yy),wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.hf=n,i.lf=r,i}return Object(Ii.c)(e,t),e.prototype.sf=function(t){return new gy(t.firestore,t.j_,Zh(t.tf,this.hf,this.lf))},e}(yy),Oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Ii.c)(e,t),e.prototype.sf=function(t){var e=Cy(t,this.type,this._f,this.ff);return new gy(t.firestore,t.j_,function(t,e){return new zh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.tf,e))},e}(yy),Ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i._f=n,i.ff=r,i}return Object(Ii.c)(e,t),e.prototype.sf=function(t){var e=Cy(t,this.type,this._f,this.ff);return new gy(t.firestore,t.j_,function(t,e){return new zh(t.path,t.collectionGroup,t.Tn.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.tf,e))},e}(yy);function Cy(t,e,n,r){if(n[0]instanceof Tg&&(n[0]=n[0].o_),n[0]instanceof Zg)return function(t,e,n,r,i){if(!r)throw new $u(Wu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Yh(t);o<a.length;o++){var u=a[o];if(u.field.tt())s.push(yl(e,r.key));else{var c=r.field(u.field);if(rl(c))throw new $u(Wu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.J();throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new pf(s,i)}(t.tf,t.firestore.R_,e,n[0].W_,r);var i=Dy(t.firestore);return function(t,e,n,r,i,s){var o=t.Tn;if(i.length>o.length)throw new $u(Wu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.tt()){if("string"!=typeof c)throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qh(t)&&-1!==c.indexOf("/"))throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(uc.Y(c));if(!hc.ot(l))throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new hc(l);a.push(yl(e,h))}else{var f=Ky(n,r,c);a.push(f)}}return new pf(a,s)}(t.tf,t.firestore.R_,i,e,n,r)}function Sy(t,e,n){if(n instanceof Tg&&(n=n.o_),"string"==typeof n){if(""===n)throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qh(e)&&-1!==n.indexOf("/"))throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(uc.Y(n));if(!hc.ot(r))throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yl(t,new hc(r))}if(n instanceof my)return yl(t,n.K_);throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pg(n)+".")}function Ty(t,e){if(!Array.isArray(t)||0===t.length)throw new $u(Wu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $u(Wu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xy(t,e,n){if(!n.isEqual(e))throw new $u(Wu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Iy(t){if(Gh(t)&&0===t.Tn.length)throw new $u(Wu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ay=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Hh(r))||this).firestore=e,i.nf=r,i.type="collection",i}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.tf.path.K()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.tf.path.J()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.nf.q();return t.W()?null:new my(this.firestore,null,new hc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.nf)},e}(gy);function ky(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(xg("collection","path",e),t instanceof Gg){var i=uc.Y.apply(uc,Object(Ii.g)([e],n));return jg(i),new Ay(t,null,i)}if(!(t instanceof my||t instanceof Ay))throw new $u(Wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=uc.Y.apply(uc,Object(Ii.g)([t.path],n)).child(uc.Y(e));return jg(s),new Ay(t.firestore,null,s)}function jy(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(1===arguments.length&&(e=ec.D()),xg("doc","path",e),t instanceof Gg){var i=uc.Y.apply(uc,Object(Ii.g)([e],n));return kg(i),new my(t,null,new hc(i))}if(!(t instanceof my||t instanceof Ay))throw new $u(Wu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var s=t.nf.child(uc.Y.apply(uc,Object(Ii.g)([e],n)));return kg(s),new my(t.firestore,t instanceof Ay?t.j_:null,new hc(s))}var Py=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.F_=function(t){return new Bg(t)},e.prototype.O_=function(t){var e=this.B_(t,this.firestore.R_);return new my(this.firestore,null,e)},e}(Yg);function Ry(t,e){return(t instanceof my||t instanceof Ay)&&(e instanceof my||e instanceof Ay)&&t.firestore===e.firestore&&t.path===e.path&&t.j_===e.j_}function Ny(t,e){return t instanceof gy&&e instanceof gy&&t.firestore===e.firestore&&Jh(t.tf,e.tf)&&t.j_===e.j_}function Dy(t){var e=t.S_(),n=xf(t.R_);return new qy(t.R_,!!e.ignoreUndefinedProperties,n)}var Ly=/^__.*__$/,Fy=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[];return n.push(null!==this.en?new Ih(t,this.data,this.en,e):new xh(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new kh(t,this.fieldTransforms)),n},t}(),Vy=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.ef=function(t,e){var n=[new Ih(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new kh(t,this.fieldTransforms)),n},t}();function My(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Hu()}}var Uy=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.df(),this.fieldTransforms=i||[],this.en=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"a_",{get:function(){return this.settings.a_},enumerable:!1,configurable:!0}),t.prototype.wf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.en)},t.prototype.Ef=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.Tf(t),r},t.prototype.If=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.wf({path:n,__:!1});return r.df(),r},t.prototype.mf=function(t){return this.wf({path:void 0,__:!0})},t.prototype.h_=function(t){return Jy(t,this.settings.methodName,this.settings.Af||!1,this.path,this.settings.l_)},t.prototype.contains=function(t){return void 0!==this.en.find(function(e){return t.j(e)})||void 0!==this.fieldTransforms.find(function(e){return t.j(e.field)})},t.prototype.df=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Tf(this.path.get(t))},t.prototype.Tf=function(t){if(0===t.length)throw this.h_("Document fields must not be empty");if(My(this.a_)&&Ly.test(t))throw this.h_('Document fields cannot begin and end with "__"')},t}(),qy=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.serializer=n||xf(t)}return t.prototype.Rf=function(t,e,n,r){return void 0===r&&(r=!1),new Uy({a_:t,methodName:e,l_:n,path:lc.X(),__:!1,Af:r},this.t,this.serializer,this.ignoreUndefinedProperties)},t}();function zy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Rf(s.merge||s.mergeFields?2:0,e,n,i);Qy("Data must be an object, but it was:",o,r);var a,u,c=Wy(r,o);if(s.merge)a=new gh(o.en),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Yy(e,f[h],n);if(!o.contains(d))throw new $u(Wu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");tb(l,d)||l.push(d)}a=new gh(l),u=o.fieldTransforms.filter(function(t){return a.un(t.field)})}else a=null,u=o.fieldTransforms;return new Fy(new Dh(c),a,u)}function By(t,e,n,r){var i=t.Rf(1,e,n);Qy("Data must be an object, but it was:",i,r);var s=[],o=new Lh;el(r,function(t,r){var a=Zy(e,t,n);r instanceof Tg&&(r=r.o_);var u=i.If(a);if(r instanceof Lg)s.push(a);else{var c=Gy(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new gh(s);return new Vy(o.hn(),a,i.fieldTransforms)}function Hy(t,e,n,r,i,s){var o=t.Rf(1,e,n),a=[Yy(e,r,n)],u=[i];if(s.length%2!=0)throw new $u(Wu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Yy(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Lh,f=a.length-1;f>=0;--f)if(!tb(l,a[f])){var d=a[f],p=u[f];p instanceof Tg&&(p=p.o_);var m=o.If(d);if(p instanceof Lg)l.push(d);else{var g=Gy(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new gh(l);return new Vy(h.hn(),y,o.fieldTransforms)}function Ky(t,e,n,r){return void 0===r&&(r=!1),Gy(n,t.Rf(r?4:3,e))}function Gy(t,e){if(t instanceof Tg&&(t=t.o_),$y(t))return Qy("Unsupported field value:",e,t),Wy(t,e);if(t instanceof Dg)return function(t,e){if(!My(e.a_))throw e.h_(t.c_+"() can only be used with update() and set()");if(!e.path)throw e.h_(t.c_+"() is not currently supported inside arrays");var n=t.u_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.settings.__&&4!==e.a_)throw e.h_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Gy(s[i],e.mf(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Tg&&(t=t.o_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Il(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=sc.fromDate(t);return{timestampValue:Al(e.serializer,n)}}if(t instanceof sc){var r=new sc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Al(e.serializer,r)}}if(t instanceof zg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bg)return{bytesValue:kl(e.serializer,t.T_)};if(t instanceof my){var i=e.t,s=t.firestore.R_;if(!s.isEqual(i))throw e.h_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Rl(t.firestore.R_||e.t,t.K_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.h_("Unsupported field value: "+Pg(t))}(t,e)}function Wy(t,e){var n={};return nl(t)?e.path&&e.path.length>0&&e.en.push(e.path):el(t,function(t,r){var i=Gy(r,e.Ef(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function $y(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof sc||t instanceof zg||t instanceof Bg||t instanceof my||t instanceof Dg)}function Qy(t,e,n){if(!$y(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Pg(n);throw e.h_("an object"===r?t+" a custom object":t+" "+r)}}function Yy(t,e,n){if(e instanceof Tg&&(e=e.o_),e instanceof ey)return e.G_;if("string"==typeof e)return Zy(t,e);throw Jy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Xy=new RegExp("[~\\*/\\[\\]]");function Zy(t,e,n){if(e.search(Xy)>=0)throw Jy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ey.bind.apply(ey,Object(Ii.g)([void 0],e.split("."))))).G_}catch(r){throw Jy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Jy(t,e,n,r,i){var s=r&&!r.W(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new $u(Wu.INVALID_ARGUMENT,(a+=". ")+t+u)}function tb(t,e){return t.some(function(t){return t.isEqual(e)})}var eb=function(){function t(t){this.Nu=t,this.Pf=new Map,this.mutations=[],this.gf=!1,this.yf=null,this.Vf=new Set}return t.prototype.pf=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:if(this.vf(),this.mutations.length>0)throw new $u(Wu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return n=Gu(t),r=Ml(n.serializer)+"/documents",i={documents:e.map(function(t){return Dl(n.serializer,t)})},[4,n.Ru("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ku(!!e.found);var n=Ll(t,e.found.name),r=Pl(e.found.updateTime),i=new Dh({mapValue:{fields:e.found.fields}});return new Mh(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ku(!!e.missing),Ku(!!e.readTime);var n=Ll(t,e.missing),r=Pl(e.readTime);return new Uh(n,r)}(t,e):Hu()}(n.serializer,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Ku(!!e),a.push(e)}),a)]}})})}(this.Nu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Uh||t instanceof Mh?n.bf(t):Hu()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.ef(t,this.rn(t))),this.Vf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.ef(t,this.Sf(t)))}catch(t){this.yf=t}this.Vf.add(t.toString())},t.prototype.delete=function(t){this.write([new Rh(t,this.rn(t))]),this.Vf.add(t.toString())},t.prototype.commit=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ii.d)(this,function(n){switch(n.label){case 0:if(this.vf(),this.yf)throw this.yf;return t=this.Pf,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=hc.st(n);e.mutations.push(new Nh(r,e.rn(r)))}),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return n=Gu(t),r=Ml(n.serializer)+"/documents",i={writes:e.map(function(t){return zl(n.serializer,t)})},[4,n.Au("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Nu,this.mutations)];case 1:return n.sent(),this.gf=!0,[2]}})})},t.prototype.bf=function(t){var e;if(t instanceof Mh)e=t.version;else{if(!(t instanceof Uh))throw Hu();e=oc.min()}var n=this.Pf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $u(Wu.ABORTED,"Document version changed between two reads.")}else this.Pf.set(t.key.toString(),e)},t.prototype.rn=function(t){var e=this.Pf.get(t.toString());return!this.Vf.has(t.toString())&&e?vh.updateTime(e):vh.on()},t.prototype.Sf=function(t){var e=this.Pf.get(t.toString());if(!this.Vf.has(t.toString())&&e){if(e.isEqual(oc.min()))throw new $u(Wu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vh.updateTime(e)}return vh.exists(!0)},t.prototype.write=function(t){this.vf(),this.mutations=this.mutations.concat(t)},t.prototype.vf=function(){},t}(),nb=function(){function t(t,e,n,r){this.di=t,this.Nu=e,this.updateFunction=n,this.Ti=r,this.Df=5,this.Si=new Nf(this.di,"transaction_retry")}return t.prototype.run=function(){this.Cf()},t.prototype.Cf=function(){var t=this;this.Si.Bs(function(){return Object(Ii.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ii.d)(this,function(r){return t=new eb(this.Nu),(e=this.Nf(t))&&e.then(function(e){n.di.Ri(function(){return t.commit().then(function(){n.Ti.resolve(e)}).catch(function(t){n.xf(t)})})}).catch(function(t){n.xf(t)}),[2]})})})},t.prototype.Nf=function(t){try{var e=this.updateFunction(t);return!fc(e)&&e.catch&&e.then?e:(this.Ti.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ti.reject(t),null}},t.prototype.xf=function(t){var e=this;this.Df>0&&this.Ff(t)?(this.Df-=1,this.di.Ri(function(){return e.Cf(),Promise.resolve()})):this.Ti.reject(t)},t.prototype.Ff=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Sc(e)}return!1},t}(),rb=function(){function t(t,e,n){var r=this;this.credentials=t,this.di=e,this.Fl=n,this.user=Fu.UNAUTHENTICATED,this.clientId=ec.D(),this.Of=function(){},this.g=new Tf,this.credentials.A(function(t){Uu("FirestoreClient","Received user=",t.uid),r.user.isEqual(t)||(r.user=t,r.Of(t)),r.g.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,this.g.promise];case 1:return[2,(t.sent(),{di:this.di,Fl:this.Fl,clientId:this.clientId,credentials:this.credentials,Yl:this.user,$h:100})]}})})},t.prototype.Mf=function(t){var e=this;this.Of=t,this.g.promise.then(function(){return e.Of(e.user)})},t.prototype.kf=function(){if(this.di.Ci)throw new $u(Wu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.di.Oi();var e=new Tf;return this.di.Ni(function(){return Object(Ii.b)(t,void 0,void 0,function(){var t,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.$f?[4,this.$f.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.Lf?[4,this.Lf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.R(),e.resolve(),[3,6];case 5:return t=r.sent(),n=$f(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ib(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),Uu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=i.sent(),[4,e.initialize(n)];case 2:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,mp(e.Cu,n)];case 1:return t.sent(),[2]}})})})}),e.persistence.tc(function(){return t.terminate()}),t.Lf=e,[2]}})})}function sb(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return t.di.Li(),[4,ob(t)];case 1:return n=i.sent(),Uu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.Mf(function(n){return t.di.Mi(function(){return function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return(n=Gu(t)).di.Li(),Uu("RemoteStore","RemoteStore received new credentials"),r=qp(n),n.Mu.add(3),[4,Np(n)];case 1:return i.sent(),r&&n.Bu.set("Unknown"),[4,n.xu.s_(e)];case 2:return i.sent(),n.Mu.delete(3),[4,Rp(n)];case 3:return i.sent(),[2]}})})}(e.Oh,n)})}),t.$f=e,[2]}})})}function ob(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t.Lf?[3,2]:(Uu("FirestoreClient","Using default OfflineComponentProvider"),[4,ib(t,new wg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.Lf]}})})}function ab(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t.$f?[3,2]:(Uu("FirestoreClient","Using default OnlineComponentProvider"),[4,sb(t,new Cg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.$f]}})})}function ub(t){return ob(t).then(function(t){return t.persistence})}function cb(t){return ob(t).then(function(t){return t.Cu})}function lb(t){return ab(t).then(function(t){return t.Oh})}function hb(t){return ab(t).then(function(t){return t.ga})}function fb(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,ab(t)];case 1:return e=r.sent(),[2,((n=e.Mh).Ju=km.bind(null,e.ga),n.Zu=Pm.bind(null,e.ga),n)]}})})}function db(t,e,n,r,i){var s=new Sg({next:function(s){e.Ri(function(){return am(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new $u(Wu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new $u(Wu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new hm(Hh(n.path),s,{includeMetadataChanges:!0,oa:!0});return om(t,o)}function pb(t,e,n,r,i){var s=new Sg({next:function(n){e.Ri(function(){return am(t,o)}),n.fromCache&&"server"===r.source?i.reject(new $u(Wu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new hm(n,s,{includeMetadataChanges:!0,oa:!0});return om(t,o)}var mb=function(){function t(t,e){this.U_=t,this.Bf=e,this.qf=[],this.Uf=!1,this.Qf=Dy(t)}return t.prototype.set=function(t,e,n){this.Kf();var r=gb(t,this.U_),i=Lb(r.j_,e,n),s=zy(this.Qf,"WriteBatch.set",r.K_,i,null!==r.j_,n);return this.qf=this.qf.concat(s.ef(r.K_,vh.on())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Kf();var s,o=gb(t,this.U_);return e instanceof Tg&&(e=e.o_),s="string"==typeof e||e instanceof ey?Hy(this.Qf,"WriteBatch.update",o.K_,e,n,r):By(this.Qf,"WriteBatch.update",o.K_,e),this.qf=this.qf.concat(s.ef(o.K_,vh.exists(!0))),this},t.prototype.delete=function(t){this.Kf();var e=gb(t,this.U_);return this.qf=this.qf.concat(new Rh(e.K_,vh.on())),this},t.prototype.commit=function(){return this.Kf(),this.Uf=!0,this.qf.length>0?this.Bf(this.qf):Promise.resolve()},t.prototype.Kf=function(){if(this.Uf)throw new $u(Wu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function gb(t,e){if(t instanceof Tg&&(t=t.o_),t.firestore!==e)throw new $u(Wu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var yb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).U_=e,r}return Object(Ii.c)(e,t),e.prototype.get=function(e){var n=this,r=gb(e,this.U_),i=new ly(this.U_);return t.prototype.get.call(this,e).then(function(t){return new sy(n.U_,i,r.K_,t.W_,new Ib(!1,!1),r.j_)})},e}(function(){function t(t,e){this.U_=t,this.Wf=e,this.Qf=Dy(t)}return t.prototype.get=function(t){var e=this,n=gb(t,this.U_),r=new Py(this.U_);return this.Wf.pf([n.K_]).then(function(t){if(!t||1!==t.length)return Hu();var i=t[0];if(i instanceof Uh)return new Zg(e.U_,r,n.K_,null,n.j_);if(i instanceof Mh)return new Zg(e.U_,r,i.key,i,n.j_);throw Hu()})},t.prototype.set=function(t,e,n){var r=gb(t,this.U_),i=Lb(r.j_,e,n),s=zy(this.Qf,"Transaction.set",r.K_,i,null!==r.j_,n);return this.Wf.set(r.K_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=gb(t,this.U_);return e instanceof Tg&&(e=e.o_),s="string"==typeof e||e instanceof ey?Hy(this.Qf,"Transaction.update",o.K_,e,n,r):By(this.Qf,"Transaction.update",o.K_,e),this.Wf.update(o.K_,s),this},t.prototype.delete=function(t){var e=gb(t,this.U_);return this.Wf.delete(e.K_),this},t}()),bb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){iy(t);var n=_b(t),r=t.S_(),i=new Cg;return ry(n,i,new Og(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.o_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){iy(t);var e=_b(t),n=t.S_(),r=new Cg;return ry(e,r,new Eg(r,n.cacheSizeBytes))}(t.o_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.y_&&!t.V_)throw new $u(Wu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Tf;return t.z_.Ni(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Df.Gs()?[4,Df.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(fp(t.R_,t.I_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.o_)},t}(),vb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).jf=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Lu||(i.Gf=e),i}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"R_",{get:function(){return this.o_.R_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.o_.b_()),t)).merge,this.o_.v_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this.o_.b_().host&&zu("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,ub(t)];case 1:return e=r.sent(),[4,lb(t)];case 2:return n=r.sent(),[2,(e.ec(!0),function(t){var e=Gu(t);return e.Mu.delete(0),Rp(e)}(n))]}})})})}(_b(this.o_))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.di.enqueue(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,ub(t)];case 1:return e=r.sent(),[4,lb(t)];case 2:return n=r.sent(),[2,(e.ec(!1),function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(e=Gu(t)).Mu.add(0),[4,Np(e)];case 1:return n.sent(),e.Bu.set("Offline"),[2]}})})}(n))]}})})})}(_b(this.o_))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ag("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.jf.enableMultiTabIndexedDbPersistence(this):this.jf.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.jf.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this.o_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Tf;return t.di.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return e=Mm,[4,hb(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(_b(this.o_))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){var n=this,r=_b(t),i=If(e)?e:{next:e},s=new Sg(i);return t.z_.Ri(function(){return Object(Ii.b)(n,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Gu(t).Hu.add(e),e.next()},[4,fb(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}})})}),function(){s.r_(),t.z_.Ri(function(){return Object(Ii.b)(n,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t=function(t,e){Gu(t).Hu.delete(e)},[4,fb(r)];case 1:return t.apply(void 0,[e.sent(),s]),[2]}})})})}}(this.o_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Gf)throw new $u(Wu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Gf},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nb(this,ky(this.o_,t))}catch(t){throw Sb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Cb(this,jy(this.o_,t))}catch(t){throw Sb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new jb(this,function(t,e){if(xg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $u(Wu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new gy(t,null,function(t){return new zh(uc.X(),t)}(e))}(this.o_,t))}catch(t){throw Sb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Tf;return t.di.Ri(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ab(t).then(function(t){return t.Nu})}(t)];case 1:return n=i.sent(),new nb(t.di,n,e,r).run(),[2]}})})}),r.promise}(_b(t),function(n){return e(new yb(t,n))})}(this.o_,function(n){return t(new Ob(e,n))})},e.prototype.batch=function(){var t=this;return _b(this.o_),new Eb(new mb(this.o_,function(e){return dy(t.o_,e)}))},e}(Tg);function _b(t){return t.H_||wb(t),t.H_.kf(),t.H_}function wb(t){var e=t.S_(),n=function(t,e,n){return new Du(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.R_,t.I_,e);t.H_=new rb(t.P_,t.z_,n)}var Ob=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ii.c)(e,t),e.prototype.get=function(t){var e=this,n=Db(t);return this.o_.get(n).then(function(t){return new Ab(e.U_,t)})},e.prototype.set=function(t,e,n){var r=Db(t);return n?(Ig("Transaction.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Db(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Ii.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Db(t);return this.o_.delete(e),this},e}(Tg),Eb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.set=function(t,e,n){var r=Db(t);return n?(Ig("WriteBatch.set",n),this.o_.set(r,e,n)):this.o_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Db(t);return 2===arguments.length?this.o_.update(o,e):(r=this.o_).update.apply(r,Object(Ii.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Db(t);return this.o_.delete(e),this},e.prototype.commit=function(){return this.o_.commit()},e}(Tg),Cb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Q_=new Xg(e),r}return Object(Ii.c)(e,t),e.zf=function(t,n,r){if(t.length%2!=0)throw new $u(Wu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.J()+" has "+t.length);return new e(n,new my(n.o_,r,new hc(t)))},e.q_=function(t,n,r){return new e(n,new my(n.o_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Nb(this.firestore,this.o_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Nb(this.firestore,ky(this.o_,t))}catch(t){throw Sb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Tg&&(t=t.o_),t instanceof my&&Ry(this.o_,t)},e.prototype.set=function(t,e){e=Ig("DocumentReference.set",e);try{return function(t,e,n){var r=Rg(t.firestore,ny),i=Lb(t.j_,e,n);return dy(r,zy(Dy(r),"setDoc",t.K_,i,null!==t.j_,n).ef(t.K_,vh.on()))}(this.o_,t,e)}catch(t){throw Sb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?hy(this.o_,t):hy.apply(void 0,Object(Ii.g)([this.o_,t,e],n))}catch(t){throw Sb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dy(Rg((t=this.o_).firestore,ny),[new Rh(t.K_,vh.on())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tb(e),i=xb(e,function(e){return new Ab(t.firestore,new sy(t.firestore.o_,t.Q_,e.K_,e.W_,e.metadata,t.o_.j_))});return fy(this.o_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Rg(t.firestore,ny),r=_b(n),i=new ly(n),s=new Tf;return n.z_.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,cb(r)];case 1:return[4,function(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Gu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Oc.cs(t,e)})}(t,e)];case 1:return(r=o.sent())instanceof Mh?n.resolve(r):r instanceof Uh?n.resolve(null):n.reject(new $u(Wu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=$f(i,"Failed to get document '"+e+" from cache"),n.reject(s),[3,3];case 3:return[2]}})})}(e.sent(),t.K_,s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new sy(n,i,t.K_,e,new Ib(e instanceof Mh&&e.an,!0),t.j_)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Rg(t.firestore,ny),r=_b(n),i=new Tf;return n.z_.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,fb(r)];case 1:return[4,db(e.sent(),n.z_,t.K_,{source:"server"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return py(n,t,e)})}(this.o_):function(t){var e=this,n=Rg(t.firestore,ny),r=_b(n),i=new Tf;return n.z_.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,fb(r)];case 1:return[4,db(e.sent(),n.z_,t.K_,{source:"default"},i)];case 2:return e.sent(),[2]}})})}),i.promise.then(function(e){return py(n,t,e)})}(this.o_)).then(function(t){return new Ab(e.firestore,new sy(e.firestore.o_,e.Q_,t.K_,t.W_,t.metadata,e.o_.j_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Tg);function Sb(t,e,n){return t.message=t.message.replace(e,n),t}function Tb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!If(r))return r}return{}}function xb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=If(t[0])?t[0]:If(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ib=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cb(this.U_,this.o_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.o_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.o_.data(t)},e.prototype.get=function(t,e){return this.o_.get(t,e)},e.prototype.isEqual=function(t){return cy(this.o_,t.o_)},e}(Tg),kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(t){return this.o_.data(t)},e}(Ab),jb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r}return Object(Ii.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,by(this.o_,function(t,e,n){var r=e,i=ty("where",t);return new vy(i,r,n)}(t,n,r)))}catch(t){throw Sb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,by(this.o_,function(t,e){void 0===e&&(e="asc");var n=e,r=ty("orderBy",t);return new _y(r,n)}(t,n)))}catch(t){throw Sb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,by(this.o_,function(t){return Ng("limit",t),new wy("limit",t,"F")}(t)))}catch(t){throw Sb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,by(this.o_,function(t){return Ng("limitToLast",t),new wy("limitToLast",t,"L")}(t)))}catch(t){throw Sb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,by(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Oy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Sb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,by(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Oy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Sb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,by(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ey("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Sb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,by(this.o_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ey("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Sb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Ny(this.o_,t.o_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=this,n=Rg(t.firestore,ny),r=_b(n),i=new ly(n),s=new Tf;return n.z_.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,cb(r)];case 1:return[4,function(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Op(t,e,!0)];case 1:return r=c.sent(),i=new Tm(e,r.Bc),s=i.gh(r.documents),o=i.Zn(s,!1),n.resolve(o.snapshot),[3,3];case 2:return a=c.sent(),u=$f(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})}(e.sent(),t.tf,s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new ay(n,i,t,e)})}(this.o_):"server"===(null==t?void 0:t.source)?function(t){var e=this,n=Rg(t.firestore,ny),r=_b(n),i=new ly(n),s=new Tf;return n.z_.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,fb(r)];case 1:return[4,pb(e.sent(),n.z_,t.tf,{source:"server"},s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new ay(n,i,t,e)})}(this.o_):function(t){var e=this,n=Rg(t.firestore,ny),r=_b(n),i=new ly(n);Iy(t.tf);var s=new Tf;return n.z_.Ri(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,fb(r)];case 1:return[4,pb(e.sent(),n.z_,t.tf,{source:"default"},s)];case 2:return e.sent(),[2]}})})}),s.promise.then(function(e){return new ay(n,i,t,e)})}(this.o_)).then(function(t){return new Rb(e.firestore,t)})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Tb(e),i=xb(e,function(e){return new Rb(t.firestore,e)});return fy(this.o_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(Tg),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.o_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new kb(this.U_,this.o_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.o_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.o_.newIndex},enumerable:!1,configurable:!0}),e}(Tg),Rb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).U_=e,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new jb(this.U_,this.o_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.o_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.o_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.o_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.o_.docs.map(function(e){return new kb(t.U_,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.o_.docChanges(t).map(function(t){return new Pb(e.U_,t)})},e.prototype.forEach=function(t,e){var n=this;this.o_.forEach(function(r){t.call(e,new kb(n.U_,r))})},e.prototype.isEqual=function(t){return cy(this.o_,t.o_)},e}(Tg),Nb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.o_=n,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.o_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.o_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.o_.parent;return t?new Cb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cb(this.firestore,void 0===t?jy(this.o_):jy(this.o_,t))}catch(t){throw Sb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Rg(t.firestore,ny),r=jy(t),i=Lb(t.j_,e);return dy(n,zy(Dy(t.firestore),"addDoc",r.K_,i,null!==t.j_,{}).ef(r.K_,vh.exists(!1))).then(function(){return r})}(this.o_,t).then(function(t){return new Cb(e.firestore,t)})},e.prototype.isEqual=function(t){return Ry(this.o_,t.o_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.o_.withConverter(t))},e}(jb);function Db(t){return t instanceof Tg&&(t=t.o_),Rg(t,my)}function Lb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Fb,Vb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ey.bind.apply(ey,Object(Ii.g)([void 0],e))))||this}return Object(Ii.c)(e,t),e.documentId=function(){return new e(lc.et().J())},e.prototype.isEqual=function(t){return t instanceof Tg&&(t=t.o_),t instanceof ey&&this.o_.G_.isEqual(t.G_)},e}(Tg),Mb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.serverTimestamp=function(){var t=new Vg("serverTimestamp");return t.c_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Lg("deleteField");return t.c_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mg("arrayUnion",t)}).apply(void 0,t);return r.c_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ug("arrayRemove",t)}).apply(void 0,t);return r.c_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new qg("increment",t)}(t);return n.c_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.o_.isEqual(t.o_)},e}(Tg),Ub={Firestore:vb,GeoPoint:zg,Timestamp:sc,Blob:Qg,Transaction:Ob,WriteBatch:Eb,DocumentReference:Cb,DocumentSnapshot:Ab,Query:jb,QueryDocumentSnapshot:kb,QuerySnapshot:Rb,CollectionReference:Nb,FieldPath:Vb,FieldValue:Mb,setLogLevel:function(t){Vu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Nu.a("firestore",function(t){return function(t,e){return new vb(t,new ny(t,e),new bb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Ub)))})(Fb=Ai.a),Fb.registerVersion("@firebase/firestore","2.0.4");var qb=n("Jgta"),zb=n("VRyK"),Bb=n("qgXg"),Hb=n("Ylt2");class Kb extends Ot.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Gb(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Et.a;if(this.isStopped||this.hasError?s=Ee.a.EMPTY:(this.observers.push(t),s=new Hb.a(this,t)),r&&t.add(t=new Ti.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||Bb.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Gb{constructor(t,e){this.time=t,this.value=e}}function Wb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new Kb(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const $b=new r.q("angularfire2.auth.use-emulator"),Qb=new r.q("angularfire2.auth.settings"),Yb=new r.q("angularfire2.auth.tenant-id"),Xb=new r.q("angularfire2.auth.langugage-code"),Zb=new r.q("angularfire2.auth.use-device-language"),Jb=new r.q("angularfire.auth.persistence");let tv=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new xi.d(i),f=Object(xi.h)(h),d=new Ot.a,p=Object(_t.a)(void 0).pipe(Object(Ti.b)(h.outsideAngular),se(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Ut.a)(()=>Object(xi.g)(t,i,e)),Object(Ut.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(xi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Wb({bufferSize:1,refCount:!1}));return q(r)?this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(_t.a)(null):(p.pipe(we()).subscribe(),this.authState=p.pipe(se(t=>t.getRedirectResult().then(()=>t,()=>t)),se(t=>i.runOutsideAngular(()=>new jt.a(t.onAuthStateChanged.bind(t)))),f,Wb(1)),this.user=p.pipe(se(t=>t.getRedirectResult().then(()=>t,()=>t)),se(t=>i.runOutsideAngular(()=>new jt.a(t.onIdTokenChanged.bind(t)))),f,Wb(1)),this.idToken=this.user.pipe(se(t=>t?Object(wt.a)(t.getIdToken()):Object(_t.a)(null))),this.idTokenResult=this.user.pipe(se(t=>t?Object(wt.a)(t.getIdTokenResult()):Object(_t.a)(null))),this.credential=p.pipe(se(t=>Object(zb.a)(t.getRedirectResult().then(t=>t,()=>null),d,this.authState.pipe(Bt(t=>!t)))),Object(Ut.a)(t=>(null==t?void 0:t.user)?t:null),f,Wb(1))),Object(xi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xi.c),r.Tb(xi.b,8),r.Tb(r.B),r.Tb(r.z),r.Tb($b,8),r.Tb(Qb,8),r.Tb(Yb,8),r.Tb(Xb,8),r.Tb(Zb,8),r.Tb(Jb,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(xi.c),Object(r.Tb)(xi.b,8),Object(r.Tb)(r.B),Object(r.Tb)(r.z),Object(r.Tb)($b,8),Object(r.Tb)(Qb,8),Object(r.Tb)(Yb,8),Object(r.Tb)(Xb,8),Object(r.Tb)(Zb,8),Object(r.Tb)(Jb,8))},token:t,providedIn:"any"}),t})();function ev(t,e){return function(t,e=Si.b){return new jt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function nv(t,e){return ev(t,e).pipe(Object(Ut.a)(t=>({payload:t,type:"query"})))}function rv(t,e){return nv(t,e).pipe(Object(Ut.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function iv(t,e,n){return nv(t,n).pipe(Object(Ut.a)(t=>t.payload.docChanges()),de((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(Ut.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function sv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(xi.e)(tv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class ov{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?rv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Bt(t=>t.length>0),this.afs.keepUnstableUntilFirst):rv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(de((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sv(t);return iv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return nv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new av(this.ref.doc(t),this.afs)}}class av{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=dv(n,e);return new ov(r,i,this.afs)}snapshotChanges(){return ev(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ut.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(wt.a)(this.ref.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}}class uv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?rv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Bt(t=>t.length>0),this.afs.keepUnstableUntilFirst):rv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(de((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=sv(t);return iv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return nv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(Ti.b)(this.afs.schedulers.insideAngular))}}const cv=new r.q("angularfire2.enableFirestorePersistence"),lv=new r.q("angularfire2.firestore.persistenceSettings"),hv=new r.q("angularfire2.firestore.settings"),fv=new r.q("angularfire2.firestore.use-emulator");function dv(t,e=(t=>t)){return{query:e(t),ref:t}}let pv=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new xi.d(s),this.keepUnstableUntilFirst=Object(xi.h)(this.schedulers);const c=Object(xi.g)(t,s,e);!qb.a.auth&&u&&Object(xi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(xi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!q(i)){const e=()=>{try{return Object(wt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(_t.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(_t.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=dv(n,e),s=this.schedulers.ngZone.run(()=>r);return new ov(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new uv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new av(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(xi.c),r.Tb(xi.b,8),r.Tb(cv,8),r.Tb(hv,8),r.Tb(r.B),r.Tb(r.z),r.Tb(lv,8),r.Tb(fv,8),r.Tb($b,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(xi.c),Object(r.Tb)(xi.b,8),Object(r.Tb)(cv,8),Object(r.Tb)(hv,8),Object(r.Tb)(r.B),Object(r.Tb)(r.z),Object(r.Tb)(lv,8),Object(r.Tb)(fv,8),Object(r.Tb)($b,8))},token:t,providedIn:"any"}),t})(),mv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:cv,useValue:!0},{provide:lv,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[pv]}),t})(),gv=(()=>{class t{constructor(t){this.firedatabase=t}getAllMovies(){return this.firedatabase.collection("movies").snapshotChanges()}queryMoviesById(t){return this.firedatabase.firestore.collection("movies").doc(t).get()}setMovie(t){return this.firedatabase.firestore.collection("movies").doc().set(t)}queryMovies(t){return this.firedatabase.firestore.collection("movies").where("movie_title",">=",t).where("movie_title","<=",t+"\uf8ff")}highestGrossingMovies(){return this.firedatabase.firestore.collection("movies").orderBy("gross","desc").limit(3)}highestRatedMovies(){return this.firedatabase.firestore.collection("movies").orderBy("imdb_score","desc").limit(3)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(pv))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yv=(()=>{class t{constructor(){this.movie={id:"",movie_title:"",gross:0,ratings:0,color:"",director_name:"",num_critic_for_reviews:0,duration:0,durationCalculated:"",director_facebook_likes:0,actor_3_facebook_likes:0,actor_2_name:"",actor_1_facebook_likes:0,genres:"",actor_1_name:"",num_voted_users:0,cast_total_facebook_likes:0,actor_3_name:"",facenumber_in_poster:0,plot_keywords:"",movie_imdb_link:"",num_user_for_reviews:0,language:"",country:"",content_rating:"",budget:0,budgetCurrency:"",grossingCurrency:"",title_year:0,actor_2_facebook_likes:0,aspect_ratio:0,movie_facebook_likes:0,imdb_score:0}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-movie-card"]],inputs:{movie:"movie"},decls:37,vars:14,consts:[[1,"card"],[1,"card-header","movie-title","text-white","bg-dark","mb-3"],[1,"movie-year"],[1,"extra-info"],[1,"movie-rating"],[1,"material-icons"],[1,"card-body"],[1,"card-text"],[1,"btn","btn-secondary","btn-sm",3,"href"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"h5",1),r.mc(2),r.Pb(3,"div",2),r.mc(4),r.Ob(),r.Pb(5,"div",3),r.Pb(6,"div"),r.mc(7),r.Ob(),r.Pb(8,"div"),r.mc(9),r.Ob(),r.Pb(10,"div",4),r.Pb(11,"i",5),r.mc(12,"star"),r.Ob(),r.mc(13),r.Ob(),r.Ob(),r.Ob(),r.Pb(14,"div",6),r.Pb(15,"p",7),r.Pb(16,"b"),r.mc(17,"Director: "),r.Ob(),r.mc(18),r.Ob(),r.Pb(19,"p",7),r.Pb(20,"b"),r.mc(21,"Actors: "),r.Ob(),r.mc(22),r.Ob(),r.Pb(23,"p",7),r.Pb(24,"b"),r.mc(25,"Country: "),r.Ob(),r.mc(26),r.Ob(),r.Pb(27,"p",7),r.Pb(28,"b"),r.mc(29,"Movie expenses: "),r.Ob(),r.mc(30),r.Ob(),r.Pb(31,"p",7),r.Pb(32,"b"),r.mc(33,"Movie grossing: "),r.Ob(),r.mc(34),r.Ob(),r.Pb(35,"a",8),r.mc(36,"Go to detail page"),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(2),r.oc(" ",e.movie.movie_title," "),r.Ab(2),r.nc(e.movie.title_year),r.Ab(3),r.nc(e.movie.content_rating),r.Ab(2),r.pc(""," | ","",e.movie.durationCalculated,""),r.Ab(4),r.oc(" ",e.movie.imdb_score," "),r.Ab(5),r.oc(" ",e.movie.director_name,""),r.Ab(4),r.qc(" ",e.movie.actor_1_name,", ",e.movie.actor_2_name,", ",e.movie.actor_3_name," "),r.Ab(4),r.oc(" ",e.movie.country,""),r.Ab(4),r.oc(" ",e.movie.budgetCurrency,""),r.Ab(4),r.oc(" ",e.movie.grossingCurrency," "),r.Ab(1),r.bc("href","/detail/"+e.movie.id,r.gc))},styles:[".movie-title[_ngcontent-%COMP%]{height:100px;padding:20px}.movie-title[_ngcontent-%COMP%]   .movie-year[_ngcontent-%COMP%]{display:inline-flex;color:#bfbfbf;margin-left:7px}.movie-title[_ngcontent-%COMP%]   .extra-info[_ngcontent-%COMP%]{display:flex;margin-top:15px;justify-content:space-between;width:98%}.movie-rating[_ngcontent-%COMP%]{display:inline-flex;justify-content:flex-end}.movie-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff0;margin-right:10px;font-size:18px}.btn[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();function bv(t,e){1&t&&r.Lb(0,"app-movie-card",2),2&t&&r.bc("movie",e.$implicit)}let vv=(()=>{class t{constructor(t){this.moviesService=t,this.moviesList=[],this.getHighestGrossingMovies=()=>{this.moviesService.highestRatedMovies().onSnapshot(t=>{t.forEach(t=>{const e=t.data();e.id=t.id,e.durationCalculated=Oi(e.duration),e.plot_keywords=Ei(e.plot_keywords),e.genres=Ei(e.genres),e.budgetCurrency=Ci(e.budget),e.grossingCurrency=Ci(e.gross),this.moviesList.push(e)})})}}ngOnInit(){this.getHighestGrossingMovies()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-highest-rated-movies"]],decls:2,vars:1,consts:[[1,"row","col-12"],["class","col-sm-4",3,"movie",4,"ngFor","ngForOf"],[1,"col-sm-4",3,"movie"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.lc(1,bv,1,1,"app-movie-card",1),r.Ob()),2&t&&(r.Ab(1),r.bc("ngForOf",e.moviesList))},directives:[P,yv],styles:[""]}),t})();function _v(t,e){1&t&&r.Lb(0,"app-movie-card",2),2&t&&r.bc("movie",e.$implicit)}let wv=(()=>{class t{constructor(t){this.moviesService=t,this.moviesList=[],this.getHighestGrossingMovies=()=>{this.moviesService.highestGrossingMovies().onSnapshot(t=>{t.forEach(t=>{const e=t.data();e.id=t.id,e.durationCalculated=Oi(e.duration),e.plot_keywords=Ei(e.plot_keywords),e.genres=Ei(e.genres),e.budgetCurrency=Ci(e.budget),e.grossingCurrency=Ci(e.gross),this.moviesList.push(e)})})}}ngOnInit(){this.getHighestGrossingMovies()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-highest-grossing-movies"]],decls:2,vars:1,consts:[[1,"row","col-12"],["class","col-sm-4",3,"movie",4,"ngFor","ngForOf"],[1,"col-sm-4",3,"movie"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.lc(1,_v,1,1,"app-movie-card",1),r.Ob()),2&t&&(r.Ab(1),r.bc("ngForOf",e.moviesList))},directives:[P,yv],styles:[""]}),t})(),Ov=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-start-page"]],decls:7,vars:0,consts:[[1,"container"],[1,"row","mt-5"],["title","Top 3 highest rated movies",1,"col-12"],["title","Top 3 highest grossing movies",1,"col-12"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"app-card-container",2),r.Lb(3,"app-highest-rated-movies"),r.Ob(),r.Ob(),r.Pb(4,"div",1),r.Pb(5,"app-card-container",3),r.Lb(6,"app-highest-grossing-movies"),r.Ob(),r.Ob(),r.Ob())},directives:[wi,vv,wv],styles:[""]}),t})(),Ev=(()=>{class t{constructor(t,e,n){this.route=t,this.movieService=e,this.location=n,this.movie={}}ngOnInit(){this.getMovie()}getMovie(){var t;const e=null!==(t=this.route.snapshot.paramMap.get("id"))&&void 0!==t?t:"";e?this.movieService.queryMoviesById(e).then(t=>{this.movie=t.data(),this.movie.durationCalculated=Oi(this.movie.duration),this.movie.plot_keywords=Ei(this.movie.plot_keywords),this.movie.genres=Ei(this.movie.genres),this.movie.budgetCurrency=Ci(this.movie.budget),this.movie.grossingCurrency=Ci(this.movie.gross)}):this.location.back()}goBack(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Rn),r.Kb(gv),r.Kb(O))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-detail-page"]],decls:44,vars:20,consts:[[1,"container"],[1,"card","mt-5"],[1,"card-header","movie-title","text-white","bg-dark","mb-3"],[1,"movie-year"],[1,"movie-rating"],[1,"material-icons"],[1,"extra-info"],[1,"card-body"],[1,"card-text"],["target","_blank",1,"btn","btn-secondary","btn-sm",3,"href"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"h5",2),r.mc(3),r.Pb(4,"div",3),r.mc(5),r.Ob(),r.Pb(6,"div",4),r.Pb(7,"i",5),r.mc(8,"star"),r.Ob(),r.mc(9),r.Ob(),r.Pb(10,"div",6),r.Pb(11,"div"),r.mc(12),r.Ob(),r.Pb(13,"div"),r.mc(14),r.Ob(),r.Pb(15,"div"),r.mc(16),r.Ob(),r.Pb(17,"div"),r.mc(18),r.Ob(),r.Pb(19,"div"),r.mc(20),r.Ob(),r.Ob(),r.Ob(),r.Pb(21,"div",7),r.Pb(22,"p",8),r.Pb(23,"b"),r.mc(24,"Director: "),r.Ob(),r.mc(25),r.Ob(),r.Pb(26,"p",8),r.Pb(27,"b"),r.mc(28,"Actors: "),r.Ob(),r.mc(29),r.Ob(),r.Pb(30,"p",8),r.Pb(31,"b"),r.mc(32,"Country: "),r.Ob(),r.mc(33),r.Ob(),r.Pb(34,"p",8),r.Pb(35,"b"),r.mc(36,"Movie expenses: "),r.Ob(),r.mc(37),r.Ob(),r.Pb(38,"p",8),r.Pb(39,"b"),r.mc(40,"Movie grossing: "),r.Ob(),r.mc(41),r.Ob(),r.Pb(42,"a",9),r.mc(43,"Go to imdb page"),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(3),r.oc(" ",e.movie.movie_title," "),r.Ab(2),r.nc(e.movie.title_year),r.Ab(4),r.oc(" ",e.movie.imdb_score," "),r.Ab(3),r.nc(e.movie.content_rating),r.Ab(2),r.pc(""," | ","",e.movie.durationCalculated,""),r.Ab(2),r.pc(""," | ","",e.movie.genres,""),r.Ab(2),r.pc(""," | ","",e.movie.plot_keywords,""),r.Ab(2),r.pc(""," | ","A ",e.movie.director_name," movie"),r.Ab(5),r.oc(" ",e.movie.director_name,""),r.Ab(4),r.qc(" ",e.movie.actor_1_name,", ",e.movie.actor_2_name,", ",e.movie.actor_3_name," "),r.Ab(4),r.oc(" ",e.movie.country,""),r.Ab(4),r.oc(" ",e.movie.budgetCurrency," "),r.Ab(4),r.oc(" ",e.movie.grossingCurrency," "),r.Ab(1),r.bc("href",e.movie.movie_imdb_link,r.gc))},styles:[".movie-title[_ngcontent-%COMP%]{height:130px;font-size:36px;padding:35px}.movie-title[_ngcontent-%COMP%]   .movie-year[_ngcontent-%COMP%]{font-size:18px;display:inline-flex;color:#bfbfbf;margin-left:7px}.movie-title[_ngcontent-%COMP%]   .extra-info[_ngcontent-%COMP%]{display:flex;font-size:16px;margin-top:15px;justify-content:space-between;width:98%}.movie-rating[_ngcontent-%COMP%]{display:inline-flex;justify-content:flex-end;width:81%}.movie-rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff0;margin-right:10px}.btn[_ngcontent-%COMP%]{margin-top:10px}"]}),t})();var Cv=n("XoHu");function Sv(t,e){return new jt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(wt.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Tv=new r.q("NgValueAccessor"),xv={provide:Tv,useExisting:Object(r.U)(()=>Iv),multi:!0};let Iv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([xv])]}),t})();const Av={provide:Tv,useExisting:Object(r.U)(()=>jv),multi:!0},kv=new r.q("CompositionEventMode");let jv=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(kv,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([Av])]}),t})();function Pv(t){return null==t||0===t.length}function Rv(t){return null!=t&&"number"==typeof t.length}const Nv=new r.q("NgValidators"),Dv=new r.q("NgAsyncValidators"),Lv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fv{static min(t){return e=>{if(Pv(e.value)||Pv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Pv(e.value)||Pv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Pv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Pv(t.value)||Lv.test(t.value)?null:{email:!0}}static minLength(t){return e=>Pv(e.value)||!Rv(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Rv(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Fv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Pv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Vv);return 0==e.length?null:function(t){return Uv(qv(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Vv);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Tt.a)(e))return Sv(e,null);if(Object(Cv.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Sv(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Sv(t=1===t.length&&Object(Tt.a)(t[0])?t[0]:t,null).pipe(Object(Ut.a)(t=>e(...t)))}return Sv(t,null)}(qv(t,e).map(Mv)).pipe(Object(Ut.a)(Uv))}}}function Vv(t){return null!=t}function Mv(t){const e=Object(r.sb)(t)?Object(wt.a)(t):t;return Object(r.rb)(e),e}function Uv(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function qv(t,e){return e.map(e=>e(t))}function zv(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Bv(t){return null!=t?Fv.compose(zv(t)):null}function Hv(t){return null!=t?Fv.composeAsync(zv(t)):null}function Kv(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gv(t){return t._rawValidators}function Wv(t){return t._rawAsyncValidators}let $v=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Bv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),Qv=(()=>{class t extends $v{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Yv(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.xb]}),t})();const Yv=r.Rb(Qv);class Xv extends $v{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zv{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Jv=(()=>{class t extends Zv{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Xv,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),t_=(()=>{class t extends Zv{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Qv,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const e_={provide:Tv,useExisting:Object(r.U)(()=>n_),multi:!0};let n_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([e_])]}),t})();const r_={provide:Tv,useExisting:Object(r.U)(()=>s_),multi:!0};let i_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),s_=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Xv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l),r.Kb(i_),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([r_])]}),t})();const o_={provide:Tv,useExisting:Object(r.U)(()=>a_),multi:!0};let a_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([o_])]}),t})();const u_={provide:Tv,useExisting:Object(r.U)(()=>l_),multi:!0};function c_(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let l_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=c_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([u_])]}),t})(),h_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(c_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.E),r.Kb(l_,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const f_={provide:Tv,useExisting:Object(r.U)(()=>p_),multi:!0};function d_(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let p_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.E),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([f_])]}),t})(),m_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(d_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(d_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.E),r.Kb(p_,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function g_(t,e){b_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&__(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&__(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function y_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function b_(t,e,n){const r=Gv(t);null!==e.validator?t.setValidators(Kv(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Wv(t);if(null!==e.asyncValidator?t.setAsyncValidators(Kv(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();y_(e._rawValidators,n),y_(e._rawAsyncValidators,n)}}function v_(t,e,n){if(null!==t){if(null!==e.validator){const n=Gv(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Wv(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};y_(e._rawValidators,t),y_(e._rawAsyncValidators,t)}}function __(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function w_(t,e){b_(t,e,!1)}function O_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}const E_=[Iv,a_,n_,l_,p_,s_];function C_(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function S_(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===jv?n=t:(e=t,E_.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}function T_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function x_(t,e,n,i){Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const I_="VALID",A_="INVALID",k_="PENDING",j_="DISABLED";function P_(t){return(L_(t)?t.validators:t)||null}function R_(t){return Array.isArray(t)?Bv(t):t||null}function N_(t,e){return(L_(e)?e.asyncValidators:t)||null}function D_(t){return Array.isArray(t)?Hv(t):t||null}function L_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class F_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=R_(this._rawValidators),this._composedAsyncValidatorFn=D_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===I_}get invalid(){return this.status===A_}get pending(){return this.status==k_}get disabled(){return this.status===j_}get enabled(){return this.status!==j_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=R_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=D_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=k_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=j_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=I_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==I_&&this.status!==k_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?j_:I_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=k_,this._hasOwnPendingAsyncValidator=!0;const e=Mv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof M_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof U_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?j_:this.errors?A_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(k_)?k_:this._anyControlsHaveStatus(A_)?A_:I_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){L_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class V_ extends F_{constructor(t=null,e,n){super(P_(e),N_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){T_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){T_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class M_ extends F_{constructor(t,e,n){super(P_(e),N_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof V_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class U_ extends F_{constructor(t,e,n){super(P_(e),N_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof V_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const q_={provide:Qv,useExisting:Object(r.U)(()=>B_)},z_=(()=>Promise.resolve(null))();let B_=(()=>{class t extends Qv{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new M_({},Bv(t),Hv(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){z_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),g_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){z_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),T_(this._directives,t)})}addFormGroup(t){z_.then(()=>{const e=this._findContainer(t.path),n=new M_({});w_(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){z_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){z_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,C_(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Nv,10),r.Kb(Dv,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([q_]),r.xb]}),t})(),H_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const K_=new r.q("NgModelWithFormControlWarning"),G_={provide:Xv,useExisting:Object(r.U)(()=>W_)};let W_=(()=>{class t extends Xv{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=S_(0,n)}set isDisabled(t){}ngOnChanges(e){this._isControlChanged(e)&&(g_(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),O_(e,this.viewModel)&&(x_(0,t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Nv,10),r.Kb(Dv,10),r.Kb(Tv,10),r.Kb(K_,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.zb([G_]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const $_={provide:Qv,useExisting:Object(r.U)(()=>Q_)};let Q_=(()=>{class t extends Qv{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return g_(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){T_(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);w_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);w_(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,C_(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),v_(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&g_(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){b_(this.form,this,!1),this._oldForm&&v_(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Nv,10),r.Kb(Dv,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([$_]),r.xb,r.yb]}),t})();const Y_={provide:Xv,useExisting:Object(r.U)(()=>X_)};let X_=(()=>{class t extends Xv{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=S_(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),O_(e,this.viewModel)&&(x_(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Qv,13),r.Kb(Nv,10),r.Kb(Dv,10),r.Kb(Tv,10),r.Kb(K_,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([Y_]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})();const Z_={provide:Nv,useExisting:Object(r.U)(()=>J_),multi:!0};let J_=(()=>{class t{constructor(){this._validator=Fv.nullValidator}ngOnChanges(t){"maxlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null!=this.maxlength?this._validator(t):null}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Fv.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("maxlength",e.maxlength?e.maxlength:null)},inputs:{maxlength:"maxlength"},features:[r.zb([Z_]),r.yb]}),t})(),tw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),ew=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new M_(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new V_(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new U_(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof V_||t instanceof M_||t instanceof U_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),nw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[i_],imports:[tw]}),t})(),rw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:K_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[ew,i_],imports:[tw]}),t})(),iw=(()=>{class t{constructor(t,e,n){this.moviesService=t,this.formBuilder=e,this.location=n,this.movieForm=this.formBuilder.group({director_name:"",duration:0,movie_title:"",genres:"",language:"",country:"",Title_year:"",imdb_score:0,budget:0})}ngOnInit(){}onSubmit(t){this.movieForm.reset(),this.moviesService.setMovie(t),this.location.go("/")}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gv),r.Kb(ew),r.Kb(O))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-add-movie"]],decls:60,vars:1,consts:[[1,"border-bottom","border-danger","pb-1"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputAddress"],["type","text","id","movie_title","placeholder","Movie title","formControlName","movie_title",1,"form-control"],["type","text","id","director_name","placeholder","Name of Director","formControlName","director_name",1,"form-control"],[1,"form-group","col-md-4"],["type","number","step","1","id","duration","placeholder","Movie duration","formControlName","duration",1,"form-control"],["for","budget"],["type","number","id","budget","placeholder","Movie budget","formControlName","budget",1,"form-control"],["for","imdb_score"],["type","number","step","0.1","id","imdb_score","placeholder","Score on IMDB","formControlName","imdb_score",1,"form-control"],["for","Title_year"],["type","date","id","Title_year","placeholder","Date of release","formControlName","Title_year",1,"form-control"],["for","country"],["type","text","maxlength","3","id","country","placeholder","Country","formControlName","country",1,"form-control"],["for","language"],["id","language","formControlName","language",1,"form-control"],["selected",""],["value","English"],["value","Spanish"],["value","German"],["value","Russian"],["value","Chinese"],["value","French"],["value","Portuguese"],[1,"form-group"],["for","genres"],["type","text","id","genres","placeholder","Sci-Fi, Adventure, Humor","formControlName","genres",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Pb(0,"h1",0),r.mc(1,"Add a movie"),r.Ob(),r.Pb(2,"form",1),r.Wb("ngSubmit",function(){return e.onSubmit(e.movieForm.value)}),r.Pb(3,"div",2),r.Pb(4,"div",3),r.Pb(5,"label",4),r.mc(6,"Movie title"),r.Ob(),r.Lb(7,"input",5),r.Ob(),r.Pb(8,"div",3),r.Pb(9,"label",4),r.mc(10,"Director"),r.Ob(),r.Lb(11,"input",6),r.Ob(),r.Ob(),r.Pb(12,"div",2),r.Pb(13,"div",7),r.Pb(14,"label",4),r.mc(15,"Movie duration (in minutes)"),r.Ob(),r.Lb(16,"input",8),r.Ob(),r.Pb(17,"div",7),r.Pb(18,"label",9),r.mc(19,"Movie budget"),r.Ob(),r.Lb(20,"input",10),r.Ob(),r.Pb(21,"div",7),r.Pb(22,"label",11),r.mc(23,"Score on IMDB"),r.Ob(),r.Lb(24,"input",12),r.Ob(),r.Ob(),r.Pb(25,"div",2),r.Pb(26,"div",7),r.Pb(27,"label",13),r.mc(28,"Release date"),r.Ob(),r.Lb(29,"input",14),r.Ob(),r.Pb(30,"div",7),r.Pb(31,"label",15),r.mc(32,"Country"),r.Ob(),r.Lb(33,"input",16),r.Ob(),r.Pb(34,"div",7),r.Pb(35,"label",17),r.mc(36,"Spoken language"),r.Ob(),r.Pb(37,"select",18),r.Pb(38,"option",19),r.mc(39,"Choose..."),r.Ob(),r.Pb(40,"option",20),r.mc(41,"English"),r.Ob(),r.Pb(42,"option",21),r.mc(43,"Spanish"),r.Ob(),r.Pb(44,"option",22),r.mc(45,"German"),r.Ob(),r.Pb(46,"option",23),r.mc(47,"Russian"),r.Ob(),r.Pb(48,"option",24),r.mc(49,"Chinese"),r.Ob(),r.Pb(50,"option",25),r.mc(51,"French"),r.Ob(),r.Pb(52,"option",26),r.mc(53,"Portuguese"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(54,"div",27),r.Pb(55,"label",28),r.mc(56,"Movie genres (comma separated)"),r.Ob(),r.Lb(57,"input",29),r.Ob(),r.Pb(58,"button",30),r.mc(59,"Save movie"),r.Ob(),r.Ob()),2&t&&(r.Ab(2),r.bc("formGroup",e.movieForm))},directives:[H_,t_,Q_,jv,Jv,X_,n_,J_,l_,h_,m_],styles:[""]}),t})();const sw=[{path:"",component:Ov},{path:"detail/:id",component:Ev},{path:"add",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-add-movie-page"]],decls:2,vars:0,consts:[[1,"container","mt-5"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Lb(1,"app-add-movie"),r.Ob())},directives:[iw],styles:[""]}),t})()}];let ow=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[hi.forRoot(sw)],hi]}),t})();function aw(t,e=Si.a){return n=>n.lift(new uw(t,e))}class uw{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new cw(t,this.dueTime,this.scheduler))}}class cw extends xt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function lw(t){t.debouncedNext()}function hw(t){return null!=t&&""+t!="false"}function fw(t){return Array.isArray(t)?t:[t]}function dw(t){return null==t?"":"string"==typeof t?t:t+"px"}function pw(t){return t instanceof r.l?t.nativeElement:t}let mw,gw=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),yw=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=pw(t);return new jt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Ot.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(gw))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(gw))},token:t,providedIn:"root"}),t})(),bw=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=hw(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(aw(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(yw),r.Kb(r.l),r.Kb(r.z))},t.\u0275dir=r.Fb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),vw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[gw]}),t})();try{mw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Gx){mw=!1}let _w,ww=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!mw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.B))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(r.B))},token:t,providedIn:"root"}),t})(),Ow=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();const Ew=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Cw(){if(_w)return _w;if("object"!=typeof document||!document)return _w=new Set(Ew),_w;let t=document.createElement("input");return _w=new Set(Ew.filter(e=>(t.setAttribute("type",e),t.type===e))),_w}let Sw,Tw;function xw(t){return function(){if(null==Sw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sw=!0}))}finally{Sw=Sw||!1}return Sw}()?t:!!t.capture}function Iw(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Aw extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ot.a,this._typeaheadSubscription=Ee.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ot.a,this.change=new Ot.a,t instanceof r.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Oe.a)(t=>this._pressedLetters.push(t)),aw(t),Bt(()=>this._pressedLetters.length>0),Object(Ut.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Iw(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.D?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const kw="cdk-high-contrast-black-on-white",jw="cdk-high-contrast-white-on-black",Pw="cdk-high-contrast-active";let Rw=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Pw),t.remove(kw),t.remove(jw);const e=this.getHighContrastMode();1===e?(t.add(Pw),t.add(kw)):2===e&&(t.add(Pw),t.add(jw))}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ww),r.Tb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(ww),Object(r.Tb)(a))},token:t,providedIn:"root"}),t})();const Nw=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let Dw=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Nw,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(Nw,8))},token:t,providedIn:"root"}),t})(),Lw=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();const Fw=new r.P("11.0.1");class Vw{}const Mw="*";function Uw(t,e){return{type:7,name:t,definitions:e,options:{}}}function qw(t,e=null){return{type:4,styles:e,timings:t}}function zw(t,e=null){return{type:2,steps:t,options:e}}function Bw(t){return{type:6,styles:t,offset:null}}function Hw(t,e,n){return{type:0,name:t,styles:e,options:n}}function Kw(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Gw(t){Promise.resolve(null).then(t)}class Ww{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Gw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class $w{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Gw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Qw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yw(t){switch(t.length){case 0:return new Ww;case 1:return t[0];default:return new $w(t)}}function Xw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Mw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Zw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Jw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Jw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Jw(n,"destroy",t)))}}function Jw(t,e,n){const r=n.totalTime,i=tO(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function tO(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function eO(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function nO(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let rO=(t,e)=>!1,iO=(t,e)=>!1,sO=(t,e,n)=>[];const oO=Qw();(oO||"undefined"!=typeof Element)&&(rO=(t,e)=>t.contains(e),iO=(()=>{if(oO||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):iO}})(),sO=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let aO=null,uO=!1;function cO(t){aO||(aO=("undefined"!=typeof document?document.body:null)||{},uO=!!aO.style&&"WebkitAppearance"in aO.style);let e=!0;return aO.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in aO.style,!e&&uO)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in aO.style),e}const lO=iO,hO=rO,fO=sO;function dO(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let pO=(()=>{class t{validateStyleProperty(t){return cO(t)}matchesElement(t,e){return lO(t,e)}containsElement(t,e){return hO(t,e)}query(t,e,n){return fO(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Ww(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),mO=(()=>{class t{}return t.NOOP=new pO,t})();const gO="ng-enter",yO="ng-leave",bO="ng-trigger",vO=".ng-trigger",_O="ng-animating",wO=".ng-animating";function OO(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:EO(parseFloat(e[1]),e[2])}function EO(t,e){switch(e){case"s":return 1e3*t;default:return t}}function CO(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=EO(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=EO(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function SO(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function TO(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else SO(t,n);return n}function xO(t,e,n){return n?e+":"+n+";":""}function IO(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=xO(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=xO(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function AO(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=FO(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Qw()&&IO(t))}function kO(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=FO(e);t.style[n]=""}),Qw()&&IO(t))}function jO(t){return Array.isArray(t)?1==t.length?t[0]:zw(t):t}const PO=new RegExp("{{\\s*(.+?)\\s*}}","g");function RO(t){let e=[];if("string"==typeof t){let n;for(;n=PO.exec(t);)e.push(n[1]);PO.lastIndex=0}return e}function NO(t,e,n){const r=t.toString(),i=r.replace(PO,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function DO(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const LO=/-+([a-z0-9])/g;function FO(t){return t.replace(LO,(...t)=>t[1].toUpperCase())}function VO(t,e){return 0===t||0===e}function MO(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=qO(t,e)})}}return e}function UO(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function qO(t,e){return window.getComputedStyle(t)[e]}const zO="*";function BO(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(GO(i,o)),"<"!=s[0]||i==zO&&o==zO||e.push(GO(o,i))}(t,n,e)):n.push(t),n}const HO=new Set(["true","1"]),KO=new Set(["false","0"]);function GO(t,e){const n=HO.has(t)||KO.has(t),r=HO.has(e)||KO.has(e);return(i,s)=>{let o=t==zO||t==i,a=e==zO||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?HO.has(t):KO.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?HO.has(e):KO.has(e)),o&&a}}const WO=new RegExp("s*:selfs*,?","g");function $O(t,e,n){return new QO(t).build(e,n)}class QO{constructor(t){this._driver=t}build(t,e){const n=new YO(e);return this._resetContextStyleTimingState(n),UO(this,jO(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(XO(t)){const e=t;Object.keys(e).forEach(t=>{RO(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=DO(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=UO(this,jO(t.animation),e);return{type:1,matchers:BO(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ZO(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>UO(this,t,e)),options:ZO(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=UO(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:ZO(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return JO(CO(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=JO(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||CO(r,e),JO(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Bw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Bw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Mw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(XO(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=RO(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(XO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(XO(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:UO(this,jO(t.animation),e),options:ZO(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ZO(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ZO(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(WO,"")),[t=t.replace(/@\*/g,vO).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,wO),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,eO(e.collectedStyles,e.currentQuerySelector,{});const o=UO(this,jO(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:ZO(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:CO(t.timings,e.errors,!0);return{type:12,animation:UO(this,jO(t.animation),e),timings:n,options:null}}}class YO{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function XO(t){return!Array.isArray(t)&&"object"==typeof t}function ZO(t){var e;return t?(t=SO(t)).params&&(t.params=(e=t.params)?SO(e):null):t={},t}function JO(t,e,n){return{duration:t,delay:e,easing:n}}function tE(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class eE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const nE=new RegExp(":enter","g"),rE=new RegExp(":leave","g");function iE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new sE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class sE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new eE;const l=new aE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),UO(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[tE(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?OO(n.duration):null,s=null!=n.delay?OO(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),UO(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=oE);const t=OO(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>UO(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?OO(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),UO(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return CO(e.params?NO(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?OO(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=oE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),UO(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;UO(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const oE={};class aE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new uE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=OO(n.duration)),null!=n.delay&&(r.delay=OO(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=NO(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new aE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=oE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new cE(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(nE,"."+this._enterClassName)).replace(rE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class uE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Mw,this._currentKeyframe[t]=Mw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Mw})):TO(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=NO(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Mw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=TO(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Mw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?DO(t.values()):[],s=e.size?DO(e.values()):[];if(n){const t=r[0],e=SO(t);t.offset=0,e.offset=1,r=[t,e]}return tE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class cE extends uE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=TO(t[0],!1);a.offset=0,i.push(a);const u=TO(t[0],!1);u.offset=lE(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=TO(t[r],!1);o.offset=lE((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return tE(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function lE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class hE{}class fE extends hE{normalizePropertyName(t,e){return FO(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(dE[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const dE=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pE(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const mE={};class gE{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||mE,f=this.buildStyles(n,o&&o.params||mE,l),d=a&&a.params||mE,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),d)},_=c?[]:iE(t,e,this.ast.animation,i,s,f,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return pE(e,this._triggerName,n,r,b,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=eO(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=eO(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const O=DO(m.values());return pE(e,this._triggerName,n,r,b,f,p,_,O,g,y,w)}}class yE{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=SO(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=NO(s,r,e)),n[t]=s})}}),n}}class bE{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new yE(t.style,t.options&&t.options.params||{})}),vE(this.states,"true","1"),vE(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new gE(t,e,this.states))}),this.fallbackTransition=new gE(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function vE(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const _E=new eE;class wE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=$O(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Xw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=iE(this._driver,e,i,gO,yO,{},{},n,_E,r),s.forEach(t=>{const e=eO(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Mw)})});const a=Yw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=tO(e,"","","");return Zw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const OE="ng-animate-queued",EE="ng-animate-disabled",CE=".ng-animate-disabled",SE=[],TE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class IE{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=SO(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const AE="void",kE=new IE(AE);class jE{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,VE(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=eO(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=eO(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(VE(t,bO),VE(t,"ng-trigger-"+e),a[e]=kE),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new RE(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(VE(t,bO),VE(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new IE(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=kE),u.value!==AE&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{kO(t,n),AO(t,r)})}return}const c=eO(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(VE(t,OE),s.onStart(()=>{ME(t,OE)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,vO,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,AE,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Yw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||kE,o=new IE(AE),a=new RE(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==TE||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){VE(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=tO(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Zw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class PE{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new jE(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(NE(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!NE(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),VE(t,EE)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ME(t,EE))}removeNode(t,e,n,r){if(NE(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return NE(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,vO,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,wO,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=TE,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,CE)&&this.markElementAsDisabled(t,!1),this.driver.query(t,CE,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)VE(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Yw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new eE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=FE(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=gO+p++;d.set(e,n),t.forEach(t=>VE(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=FE(h,Array.from(g));v.forEach((t,e)=>{const n=yO+p++;b.set(e,n),t.forEach(t=>VE(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>ME(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>ME(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>kO(i,p.fromStyles)),e.onDestroy(()=>AO(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>kO(i,p.fromStyles)),e.onDestroy(()=>AO(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>eO(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{eO(O,e,[]).push(t),t.destroy()})});const C=m.filter(t=>zE(t,a,u)),S=new Map;LE(S,this.driver,y,u,Mw).forEach(t=>{zE(t,a,u)&&C.push(t)});const T=new Map;f.forEach((t,e)=>{LE(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=S.get(t),n=T.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>AO(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,T,S);if(s.setRealPlayer(n),t===A)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Yw(e)),r.push(s)}}else kO(e,o.fromStyles),s.onDestroy(()=>AO(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Yw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(ME(t,yO),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,wO,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?UE(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==AE;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=eO(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}kO(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Ww(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return qE(t,e),e}((n.get(h)||SE).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Xw(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new RE(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{eO(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>VE(t,_O));const f=Yw(h);return f.onDestroy(()=>{c.forEach(t=>ME(t,_O)),AO(a,e.toStyles)}),l.forEach(t=>{eO(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ww(t.duration,t.delay)}}class RE{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Ww,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Zw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){eO(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function NE(t){return t&&1===t.nodeType}function DE(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function LE(t,e,n,r,i){const s=[];n.forEach(t=>s.push(DE(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=xE,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>DE(t,s[a++])),o}function FE(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function VE(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function ME(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function UE(t,e,n){Yw(n).onDone(()=>t.processLeaveNode(e))}function qE(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof $w?qE(r.players,e):e.push(r)}}function zE(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class BE{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new PE(t,e,n),this._timelineEngine=new wE(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=$O(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new bE(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=nO(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=nO(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function HE(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=GE(e[0]),e.length>1&&(r=GE(e[e.length-1]))):e&&(n=GE(e)),n||r?new KE(t,n,r):null}let KE=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&AO(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(AO(this._element,this._initialStyles),this._endStyles&&(AO(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(kO(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kO(this._element,this._endStyles),this._endStyles=null),AO(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function GE(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];WE(i)&&(e=e||{},e[i]=t[i])}return e}function WE(t){return"display"===t||"position"===t}const $E="animation",QE="animationend";class YE{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=nC(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),eC(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),tC(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){XE(this._element,this._name,"paused")}resume(){XE(this._element,this._name,"running")}setPosition(t){const e=ZE(this._element,this._name);this._position=t*this._duration,eC(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),tC(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=nC(t,"").split(","),r=JE(n,e);r>=0&&(n.splice(r,1),eC(t,"",n.join(",")))}(this._element,this._name))}}function XE(t,e,n){eC(t,"PlayState",n,ZE(t,e))}function ZE(t,e){const n=nC(t,"");return n.indexOf(",")>0?JE(n.split(","),e):JE([n],e)}function JE(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function tC(t,e,n){n?t.removeEventListener(QE,e):t.addEventListener(QE,e)}function eC(t,e,n,r){const i=$E+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function nC(t,e){return t.style[$E+e]}class rC{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new YE(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:qO(this.element,n))})}this.currentSnapshot=t}}class iC extends Ww{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=dO(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class sC{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return cO(t)}matchesElement(t,e){return lO(t,e)}containsElement(t,e){return hO(t,e)}query(t,e,n){return fO(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>dO(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof rC),u={};VO(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=MO(t,e,u));if(0==n)return new iC(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=HE(t,e),d=new rC(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class oC{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:qO(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class aC{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(uC().toString()),this._cssKeyframesDriver=new sC}validateStyleProperty(t){return cO(t)}matchesElement(t,e){return lO(t,e)}containsElement(t,e){return hO(t,e)}query(t,e,n){return fO(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof oC);VO(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=HE(t,e=MO(t,e=e.map(t=>TO(t,!1)),u));return new oC(t,e,a,l)}}function uC(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let cC=(()=>{class t extends Vw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?zw(t):t;return fC(this._renderer,null,e,"register",[n]),new lC(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.F),r.Tb(a))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class lC extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hC(this._id,t,e||{},this._renderer)}}class hC{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return fC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function fC(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const dC="@",pC="@.disabled";let mC=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new gC("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new yC(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.F),r.Tb(BE),r.Tb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class gC{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==dC&&e==pC?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class yC extends gC{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==dC?"."==e.charAt(1)&&e==pC?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==dC){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=dC&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let bC=(()=>{class t extends BE{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(mO),r.Tb(hE))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const vC=new r.q("AnimationModuleType"),_C=[{provide:mO,useFactory:function(){return"function"==typeof uC()?new aC:new sC}},{provide:vC,useValue:"BrowserAnimations"},{provide:Vw,useClass:cC},{provide:hE,useFactory:function(){return new fE}},{provide:BE,useClass:bC},{provide:r.F,useFactory:function(t,e,n){return new mC(t,e,n)},deps:[ot,BE,r.z]}];let wC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:_C,imports:[vt]}),t})();function OC(t,e){if(1&t&&r.Lb(0,"mat-pseudo-checkbox",3),2&t){const t=r.Yb();r.bc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const EC=["*"],CC=new r.P("11.0.1"),SC=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let TC,xC=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&CC.full!==Fw.full&&console.warn("The Angular Material version ("+CC.full+") does not match the Angular CDK version ("+Fw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Tb(Rw),r.Tb(SC,8),r.Tb(a))},imports:[[Lw],Lw]}),t})();function IC(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=hw(t)}}}function AC(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}}function kC(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=hw(t)}}}function jC(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Ot.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{TC="undefined"!=typeof Intl}catch(Gx){TC=!1}let PC=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class RC{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NC={enterDuration:450,exitDuration:400},DC=xw({passive:!0}),LC=["mousedown","touchstart"],FC=["mouseup","mouseleave","touchend","touchcancel"];class VC{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pw(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},NC),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=u+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new RC(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},NC),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=pw(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(LC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(FC),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,DC)})})}_removeTriggerEvents(){this._triggerElement&&(LC.forEach(t=>{this._triggerElement.removeEventListener(t,this,DC)}),this._pointerUpEventsRegistered&&FC.forEach(t=>{this._triggerElement.removeEventListener(t,this,DC)}))}}const MC=new r.q("mat-ripple-global-options");let UC=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new VC(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z),r.Kb(ww),r.Kb(MC,8),r.Kb(vC,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Cb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),qC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[xC,Ow],xC]}),t})(),zC=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(vC,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Cb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),BC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[xC]]}),t})();class HC{}const KC=IC(HC);let GC=0,WC=(()=>{class t extends KC{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+GC++}}return t.\u0275fac=function(e){return $C(e||t)},t.\u0275dir=r.Fb({type:t,inputs:{label:"label"},features:[r.xb]}),t})();const $C=r.Rb(WC),QC=new r.q("MatOptgroup");let YC=0;class XC{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const ZC=new r.q("MAT_OPTION_PARENT_COMPONENT");let JC=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+YC++,this.onSelectionChange=new r.n,this._stateChanges=new Ot.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=hw(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Iw(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new XC(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.h),r.Kb(void 0),r.Kb(WC))},t.\u0275dir=r.Fb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),tS=(()=>{class t extends JC{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.h),r.Kb(ZC,8),r.Kb(QC,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.Wb("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Sb("id",e.id),r.Bb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Cb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.xb],ngContentSelectors:EC,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.ac(),r.lc(0,OC,1,2,"mat-pseudo-checkbox",0),r.Pb(1,"span",1),r.Zb(2),r.Ob(),r.Lb(3,"div",2)),2&t&&(r.bc("ngIf",e.multiple),r.Ab(3),r.bc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[N,UC,zC],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})(),eS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[qC,U,xC,BC]]}),t})();var nS=n("n6bG");function rS(t,e,n,r){return Object(nS.a)(n)&&(r=n,n=void 0),r?rS(t,e,n).pipe(Object(Ut.a)(t=>Object(Tt.a)(t)?r(...t):r(t))):new jt.a(r=>{iS(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function iS(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)iS(t[s],e,n,r,i)}r.add(s)}function sS(t){return e=>e.lift(new oS(t))}class oS{constructor(t){this.notifier=t}call(t,e){const n=new aS(t),r=Object(ie.c)(this.notifier,new ie.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class aS extends ie.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const uS=["underline"],cS=["connectionContainer"],lS=["inputContainer"],hS=["label"];function fS(t,e){1&t&&(r.Nb(0),r.Pb(1,"div",14),r.Lb(2,"div",15),r.Lb(3,"div",16),r.Lb(4,"div",17),r.Ob(),r.Pb(5,"div",18),r.Lb(6,"div",15),r.Lb(7,"div",16),r.Lb(8,"div",17),r.Ob(),r.Mb())}function dS(t,e){1&t&&(r.Pb(0,"div",19),r.Zb(1,1),r.Ob())}function pS(t,e){if(1&t&&(r.Nb(0),r.Zb(1,2),r.Pb(2,"span"),r.mc(3),r.Ob(),r.Mb()),2&t){const t=r.Yb(2);r.Ab(3),r.nc(t._control.placeholder)}}function mS(t,e){1&t&&r.Zb(0,3,["*ngSwitchCase","true"])}function gS(t,e){1&t&&(r.Pb(0,"span",23),r.mc(1," *"),r.Ob())}function yS(t,e){if(1&t){const t=r.Qb();r.Pb(0,"label",20,21),r.Wb("cdkObserveContent",function(){return r.fc(t),r.Yb().updateOutlineGap()}),r.lc(2,pS,4,1,"ng-container",12),r.lc(3,mS,1,0,"ng-content",12),r.lc(4,gS,2,0,"span",22),r.Ob()}if(2&t){const t=r.Yb();r.Cb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.bc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Bb("for",t._control.id)("aria-owns",t._control.id),r.Ab(2),r.bc("ngSwitchCase",!1),r.Ab(1),r.bc("ngSwitchCase",!0),r.Ab(1),r.bc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function bS(t,e){1&t&&(r.Pb(0,"div",24),r.Zb(1,4),r.Ob())}function vS(t,e){if(1&t&&(r.Pb(0,"div",25,26),r.Lb(2,"span",27),r.Ob()),2&t){const t=r.Yb();r.Ab(2),r.Cb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function _S(t,e){if(1&t&&(r.Pb(0,"div"),r.Zb(1,5),r.Ob()),2&t){const t=r.Yb();r.bc("@transitionMessages",t._subscriptAnimationState)}}function wS(t,e){if(1&t&&(r.Pb(0,"div",31),r.mc(1),r.Ob()),2&t){const t=r.Yb(2);r.bc("id",t._hintLabelId),r.Ab(1),r.nc(t.hintLabel)}}function OS(t,e){if(1&t&&(r.Pb(0,"div",28),r.lc(1,wS,2,2,"div",29),r.Zb(2,6),r.Lb(3,"div",30),r.Zb(4,7),r.Ob()),2&t){const t=r.Yb();r.bc("@transitionMessages",t._subscriptAnimationState),r.Ab(1),r.bc("ngIf",t.hintLabel)}}const ES=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],CS=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],SS=new r.q("MatError"),TS={transitionMessages:Uw("transitionMessages",[Hw("enter",Bw({opacity:1,transform:"translateY(0%)"})),Kw("void => enter",[Bw({opacity:0,transform:"translateY(-100%)"}),qw("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})();const IS=new r.q("MatHint");let AS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["mat-label"]]}),t})(),kS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["mat-placeholder"]]}),t})();const jS=new r.q("MatPrefix"),PS=new r.q("MatSuffix");let RS=0;class NS{constructor(t){this._elementRef=t}}const DS=AC(NS,"primary"),LS=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FS=new r.q("MatFormField");let VS=(()=>{class t extends DS{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ot.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+RS++,this._labelId="mat-form-field-label-"+RS++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=hw(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(fe(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(sS(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(sS(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(zb.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(fe(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(fe(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(sS(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,rS(this._label.nativeElement,"transitionend").pipe(ue(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let u=0;for(let t=0;t<o.length;t++)u+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=u>0?.75*u+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.h),r.Kb(r.l),r.Kb(Dw,8),r.Kb(LS,8),r.Kb(ww),r.Kb(r.z),r.Kb(vC,8))},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,xS,!0),r.ic(n,xS,!0),r.Db(n,AS,!0),r.ic(n,AS,!0),r.Db(n,kS,!0),r.Db(n,SS,!0),r.Db(n,IS,!0),r.Db(n,jS,!0),r.Db(n,PS,!0)),2&t){let t;r.dc(t=r.Xb())&&(e._controlNonStatic=t.first),r.dc(t=r.Xb())&&(e._controlStatic=t.first),r.dc(t=r.Xb())&&(e._labelChildNonStatic=t.first),r.dc(t=r.Xb())&&(e._labelChildStatic=t.first),r.dc(t=r.Xb())&&(e._placeholderChild=t.first),r.dc(t=r.Xb())&&(e._errorChildren=t),r.dc(t=r.Xb())&&(e._hintChildren=t),r.dc(t=r.Xb())&&(e._prefixChildren=t),r.dc(t=r.Xb())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.rc(uS,!0),r.jc(cS,!0),r.rc(lS,!0),r.rc(hS,!0)),2&t){let t;r.dc(t=r.Xb())&&(e.underlineRef=t.first),r.dc(t=r.Xb())&&(e._connectionContainerRef=t.first),r.dc(t=r.Xb())&&(e._inputContainerRef=t.first),r.dc(t=r.Xb())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Cb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.zb([{provide:FS,useExisting:t}]),r.xb],ngContentSelectors:CS,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.ac(ES),r.Pb(0,"div",0),r.Pb(1,"div",1,2),r.Wb("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.lc(3,fS,9,0,"ng-container",3),r.lc(4,dS,2,0,"div",4),r.Pb(5,"div",5,6),r.Zb(7),r.Pb(8,"span",7),r.lc(9,yS,5,16,"label",8),r.Ob(),r.Ob(),r.lc(10,bS,2,0,"div",9),r.Ob(),r.lc(11,vS,3,4,"div",10),r.Pb(12,"div",11),r.lc(13,_S,2,1,"div",12),r.lc(14,OS,5,2,"div",13),r.Ob(),r.Ob()),2&t&&(r.Ab(3),r.bc("ngIf","outline"==e.appearance),r.Ab(1),r.bc("ngIf",e._prefixChildren.length),r.Ab(5),r.bc("ngIf",e._hasFloatingLabel()),r.Ab(1),r.bc("ngIf",e._suffixChildren.length),r.Ab(1),r.bc("ngIf","outline"!=e.appearance),r.Ab(1),r.bc("ngSwitch",e._getDisplayedMessages()),r.Ab(1),r.bc("ngSwitchCase","error"),r.Ab(1),r.bc("ngSwitchCase","hint"))},directives:[N,V,M,bw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[TS.transitionMessages]},changeDetection:0}),t})(),MS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[U,xC,vw],xC]}),t})();class US{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new qS(t,this.durationSelector))}}class qS extends ie.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(ie.c)(n,new ie.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var zS=n("Y7HM");function BS(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function HS(t,e=Si.a){return n=()=>function(t=0,e,n){let r=-1;return Object(zS.a)(e)?r=Number(e)<1?1:Number(e):Object(St.a)(e)&&(n=e),Object(St.a)(n)||(n=Si.a),new jt.a(e=>{const i=Object(zS.a)(t)?t:+t-n.now();return n.schedule(BS,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new US(n))};var n}const KS=xw({passive:!0});let GS=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Vt.a;const e=pw(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Ot.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,KS),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,KS)}}),r}stopMonitoring(t){const e=pw(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ww),r.Tb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(ww),Object(r.Tb)(r.z))},token:t,providedIn:"root"}),t})(),WS=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Ow]]}),t})();const $S=new r.q("MAT_INPUT_VALUE_ACCESSOR"),QS=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let YS=0;class XS{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const ZS=jC(XS);let JS=(()=>{class t extends ZS{constructor(t,e,n,r,i,s,o,a,u,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+YS++,this.focused=!1,this.stateChanges=new Ot.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Cw().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=hw(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=hw(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Cw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=hw(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){QS.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(ww),r.Kb(Xv,10),r.Kb(B_,8),r.Kb(Q_,8),r.Kb(PC),r.Kb($S,10),r.Kb(GS),r.Kb(r.z),r.Kb(FS,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.Wb("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Sb("disabled",e.disabled)("required",e.required),r.Bb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Cb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.zb([{provide:xS,useExisting:t}]),r.xb,r.yb]}),t})(),tT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[PC],imports:[[WS,MS,xC],WS,MS]}),t})();n("3N8a"),n("IjjT"),n("7Hc7");let eT=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Ot.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new jt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(HS(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(_t.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Bt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rS(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(r.z),r.Tb(ww),r.Tb(a,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(r.z),Object(r.Tb)(ww),Object(r.Tb)(a,8))},token:t,providedIn:"root"}),t})(),nT=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Ot.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HS(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(ww),r.Tb(r.z),r.Tb(a,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(ww),Object(r.Tb)(r.z),Object(r.Tb)(a,8))},token:t,providedIn:"root"}),t})(),rT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),iT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[Lw,Ow,rT],Lw,rT]}),t})();class sT{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class oT extends sT{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class aT extends sT{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class uT extends sT{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class cT extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof oT?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof aT?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof uT?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let lT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();class hT{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dw(-this._previousScrollPosition.left),t.style.top=dw(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class fT{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class dT{enable(){}disable(){}attach(){}}function pT(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function mT(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class gT{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();pT(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yT=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new dT,this.close=t=>new fT(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new hT(this._viewportRuler,this._document),this.reposition=t=>new gT(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(eT),r.Tb(nT),r.Tb(r.z),r.Tb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(eT),Object(r.Tb)(nT),Object(r.Tb)(r.z),Object(r.Tb)(a))},token:t,providedIn:"root"}),t})();class bT{constructor(t){if(this.scrollStrategy=new dT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class vT{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class _T{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let wT=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(a))},token:t,providedIn:"root"}),t})(),OT=(()=>{class t extends wT{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(a))},token:t,providedIn:"root"}),t})(),ET=(()=>{class t extends wT{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(ww))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(a),Object(r.Tb)(ww))},token:t,providedIn:"root"}),t})();const CT=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let ST=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||CT){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),CT?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(ww))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(a),Object(r.Tb)(ww))},token:t,providedIn:"root"}),t})();class TT{constructor(t,e,n,r,i,s,o,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new Ot.a,this._attachments=new Ot.a,this._detachments=new Ot.a,this._locationChanges=Ee.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Ot.a,this._outsidePointerEvents=new Ot.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ue(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dw(this._config.width),t.height=dw(this._config.height),t.minWidth=dw(this._config.minWidth),t.minHeight=dw(this._config.minHeight),t.maxWidth=dw(this._config.maxWidth),t.maxHeight=dw(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;fw(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(sS(Object(zb.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const xT="cdk-overlay-connected-position-bounding-box",IT=/([A-Za-z%]+)$/;class AT{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.a,this._resizeSubscription=Ee.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(xT),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kT(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,c=s+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=jT(this._overlayRef.getConfig().minHeight),o=jT(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),s=Math.max(t.y+e.height-r.height,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,c=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,c=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new _T(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,c;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=dw(n.height),r.top=dw(n.top),r.bottom=dw(n.bottom),r.width=dw(n.width),r.left=dw(n.left),r.right=dw(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=dw(t)),i&&(r.maxWidth=dw(i))}this._lastBoundingBoxSize=n,kT(this._boundingBox.style,r)}_resetBoundingBoxStyles(){kT(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kT(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();kT(n,this._getExactOverlayY(e,t,r)),kT(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=dw(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=dw(s.maxWidth):i&&(n.maxWidth="")),kT(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=dw(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=dw(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mT(t,n),isOriginOutsideView:pT(t,n),isOverlayClipped:mT(e,n),isOverlayOutsideView:pT(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&fw(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function kT(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function jT(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(IT);return n&&"px"!==n?null:parseFloat(e)}return t||null}class PT{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new AT(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new vT(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const RT="cdk-global-overlay-wrapper";class NT{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(RT),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(RT),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let DT=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new NT}connectedTo(t,e,n){return new PT(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new AT(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(nT),r.Tb(a),r.Tb(ww),r.Tb(ST))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Tb)(nT),Object(r.Tb)(a),Object(r.Tb)(ww),Object(r.Tb)(ST))},token:t,providedIn:"root"}),t})(),LT=0,FT=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new bT(t);return i.direction=i.direction||this._directionality.value,new TT(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+LT++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new cT(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(yT),r.Tb(ST),r.Tb(r.j),r.Tb(DT),r.Tb(OT),r.Tb(r.r),r.Tb(r.z),r.Tb(a),r.Tb(Dw),r.Tb(O),r.Tb(ET))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const VT={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[FT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let MT=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[FT,VT],imports:[[Lw,lT,iT],iT]}),t})();var UT=n("WMd4");class qT{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new zT(t,this.delay,this.scheduler))}}class zT extends xt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(zT.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new BT(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(UT.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(UT.a.createComplete()),this.unsubscribe()}}class BT{constructor(t,e){this.time=t,this.notification=e}}const HT=["panel"];function KT(t,e){if(1&t&&(r.Pb(0,"div",0,1),r.Zb(2),r.Ob()),2&t){const t=r.Yb();r.bc("id",t.id)("ngClass",t._classList)}}const GT=["*"];let WT=0;class $T{constructor(t,e){this.source=t,this.option=e}}class QT{}const YT=kC(QT),XT=new r.q("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let ZT=(()=>{class t extends YT{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=Ee.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new r.n,this.opened=new r.n,this.closed=new r.n,this.optionActivated=new r.n,this._classList={},this.id="mat-autocomplete-"+WT++,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=hw(t)}set classList(t){this._classList=t&&t.length?function(t,e=/\s+/){const n=[];if(null!=t){const r=Array.isArray(t)?t:(""+t).split(e);for(const t of r){const e=(""+t).trim();e&&n.push(e)}}return n}(t).reduce((t,e)=>(t[e]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Aw(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new $T(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.h),r.Kb(r.l),r.Kb(XT))},t.\u0275dir=r.Fb({type:t,viewQuery:function(t,e){if(1&t&&(r.jc(r.L,!0),r.rc(HT,!0)),2&t){let t;r.dc(t=r.Xb())&&(e.template=t.first),r.dc(t=r.Xb())&&(e.panel=t.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[r.xb]}),t})(),JT=(()=>{class t extends ZT{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return t.\u0275fac=function(e){return tx(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,QC,!0),r.Db(n,tS,!0)),2&t){let t;r.dc(t=r.Xb())&&(e.optionGroups=t),r.dc(t=r.Xb())&&(e.options=t)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[r.zb([{provide:ZC,useExisting:t}]),r.xb],ngContentSelectors:GT,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(r.ac(),r.lc(0,KT,3,2,"ng-template"))},directives:[k],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})();const tx=r.Rb(JT),ex=new r.q("mat-autocomplete-scroll-strategy"),nx={provide:ex,deps:[FT],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},rx={provide:Tv,useExisting:Object(r.U)(()=>sx),multi:!0};let ix=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=r,this._changeDetectorRef=i,this._dir=o,this._formField=a,this._document=u,this._viewportRuler=c,this._defaults=l,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ee.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Ot.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Mt(()=>this.autocomplete&&this.autocomplete.options?Object(zb.a)(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.pipe(ue(1),se(()=>this.optionSelections))),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=hw(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(zb.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Bt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Bt(()=>this._overlayAttached)):Object(_t.a)()).pipe(Object(Ut.a)(t=>t instanceof XC?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(zb.a)(rS(this._document,"click"),rS(this._document,"touchend")).pipe(Bt(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null,r=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&(!r||!r.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27!==e||Iw(t)||t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,r=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):r&&this._canOpen()&&this.openPanel(),(r||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe(ue(1)),e=this.autocomplete.options.changes.pipe(Object(Oe.a)(()=>this._positionStrategy.reapplyLastPosition()),function(t,e=Si.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new qT(r,e))}(0));return Object(zb.a)(t,e).pipe(se(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),ue(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!==t&&e.selected&&e.deselect()})}_attachOverlay(){null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!function(t){if(function(){if(null==Tw){const t="undefined"!=typeof document?document.head:null;Tw=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Tw}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(this._element.nativeElement));let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new aT(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode&&!Iw(t)||38===t.keyCode&&Iw(t,"altKey"))&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new bT({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let i;i="above"===this.position?r:"below"===this.position?e:[...e,...r],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const e=this.autocomplete,n=function(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}(t,e.options,e.optionGroups);if(0===t&&1===n)e._setScrollTop(0);else{const n=e.options.toArray()[t];if(n){const t=n._getHostElement(),a=(r=t.offsetTop,i=t.offsetHeight,s=e._getScrollTop(),o=e.panel.nativeElement.offsetHeight,r<s?r:r+i>s+o?Math.max(0,r-o+i):s);e._setScrollTop(a)}}var r,i,s,o}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(FT),r.Kb(r.Q),r.Kb(r.z),r.Kb(r.h),r.Kb(ex),r.Kb(Dw,8),r.Kb(FS,9),r.Kb(a,8),r.Kb(nT),r.Kb(XT,8))},t.\u0275dir=r.Fb({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[r.yb]}),t})(),sx=(()=>{class t extends ix{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return t.\u0275fac=function(e){return ox(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&r.Wb("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(t){return e._handleInput(t)})("keydown",function(t){return e._handleKeydown(t)}),2&t&&r.Bb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[r.zb([rx]),r.xb]}),t})();const ox=r.Rb(sx);let ax=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[nx],imports:[[MT,eS,xC,U],rT,eS,xC]}),t})();function ux(t,e){1&t&&(r.Pb(0,"mat-option",5),r.mc(1,"Loading..."),r.Ob())}function cx(t,e){if(1&t&&(r.Pb(0,"mat-option",7),r.Pb(1,"span"),r.Pb(2,"b"),r.mc(3),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.cc("routerLink","/detail/",t.id,""),r.bc("value",t.movie_title),r.Ab(3),r.pc("",t.movie_title," (",t.gross,")")}}function lx(t,e){if(1&t&&(r.Nb(0),r.lc(1,cx,4,4,"mat-option",6),r.Mb()),2&t){const t=r.Yb();r.Ab(1),r.bc("ngForOf",t.filteredMovies)}}let hx=(()=>{class t{constructor(t){this.moviesService=t,this.searchMoviesCtrl=new V_,this.filteredMovies=[],this.isLoading=!1}ngOnInit(){this.searchMoviesCtrl.valueChanges.pipe(aw(1e3),Object(Oe.a)(()=>{this.filteredMovies=[],this.isLoading=!0}),se(t=>t.length>0?this.moviesService.queryMovies(t).get():(this.isLoading=!1,Vt.a))).subscribe(t=>{t?(this.isLoading=!1,t.forEach(t=>{this.filteredMovies.push({id:t.id,movie_title:t.data().movie_title,gross:t.data().gross})})):this.filteredMovies=[]})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(gv))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-autocomplete"]],decls:6,vars:4,consts:[[1,"w-100"],["matInput","","placeholder","Search movies...","type","text","aria-label","State",3,"matAutocomplete","formControl"],["auto","matAutocomplete"],["class","is-loading",4,"ngIf"],[4,"ngIf"],[1,"is-loading"],[3,"value","routerLink",4,"ngFor","ngForOf"],[3,"value","routerLink"]],template:function(t,e){if(1&t&&(r.Pb(0,"mat-form-field",0),r.Lb(1,"input",1),r.Pb(2,"mat-autocomplete",null,2),r.lc(4,ux,2,0,"mat-option",3),r.lc(5,lx,2,1,"ng-container",4),r.Ob(),r.Ob()),2&t){const t=r.ec(3);r.Ab(1),r.bc("matAutocomplete",t)("formControl",e.searchMoviesCtrl),r.Ab(3),r.bc("ngIf",e.isLoading),r.Ab(1),r.bc("ngIf",!e.isLoading)}},directives:[VS,JS,sx,jv,Jv,W_,JT,N,tS,P,Jr],styles:[""]}),t})(),fx=(()=>{class t{constructor(){this.title="moviedatabase"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:20,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-pink"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["href","/add",1,"nav-link"],[1,"w-50"]],template:function(t,e){1&t&&(r.Pb(0,"header"),r.Pb(1,"nav",0),r.Pb(2,"div",1),r.Pb(3,"a",2),r.mc(4,"Movie database"),r.Ob(),r.Pb(5,"button",3),r.Lb(6,"span",4),r.Ob(),r.Pb(7,"div",5),r.Pb(8,"ul",6),r.Pb(9,"li",7),r.Pb(10,"a",8),r.mc(11,"Home "),r.Pb(12,"span",9),r.mc(13,"(current)"),r.Ob(),r.Ob(),r.Ob(),r.Pb(14,"li",10),r.Pb(15,"a",11),r.mc(16,"Add movie"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Lb(17,"app-autocomplete",12),r.Ob(),r.Ob(),r.Ob(),r.Pb(18,"main"),r.Lb(19,"router-outlet"),r.Ob())},directives:[hx,ei],styles:[".bg-pink[_ngcontent-%COMP%]{background-color:#ee6e73}"]}),t})();class dx{}class px{}class mx{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mx?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mx;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mx?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class gx{encodeKey(t){return yx(t)}encodeValue(t){return yx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function yx(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class bx{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new gx,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new bx({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function vx(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function _x(t){return"undefined"!=typeof Blob&&t instanceof Blob}function wx(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Ox{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new mx),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new bx,this.urlWithParams=e}serializeBody(){return null===this.body?null:vx(this.body)||_x(this.body)||wx(this.body)||"string"==typeof this.body?this.body:this.body instanceof bx?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wx(this.body)?null:_x(this.body)?this.body.type||null:vx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bx?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new Ox(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Ex=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Cx{constructor(t,e=200,n="OK"){this.headers=t.headers||new mx,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Sx extends Cx{constructor(t={}){super(t),this.type=Ex.ResponseHeader}clone(t={}){return new Sx({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tx extends Cx{constructor(t={}){super(t),this.type=Ex.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Tx({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xx extends Cx{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ix(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ax=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof Ox)r=t;else{let i=void 0;i=n.headers instanceof mx?n.headers:new mx(n.headers);let s=void 0;n.params&&(s=n.params instanceof bx?n.params:new bx({fromObject:n.params})),r=new Ox(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(_t.a)(r).pipe(_e(t=>this.handler.handle(t)));if(t instanceof Ox||"events"===n.observe)return i;const s=i.pipe(Bt(t=>t instanceof Tx));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Ut.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Ut.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Ut.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Ut.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new bx).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ix(n,e))}post(t,e,n={}){return this.request("POST",t,Ix(n,e))}put(t,e,n={}){return this.request("PUT",t,Ix(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(dx))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class kx{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const jx=new r.q("HTTP_INTERCEPTORS");let Px=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Rx=/^\)\]\}',?\n/;class Nx{}let Dx=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Lx=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new jt.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new mx(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Sx({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(Rx,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Tx({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new xx({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new xx({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Ex.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ex.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ex.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Nx))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Fx=new r.q("XSRF_COOKIE_NAME"),Vx=new r.q("XSRF_HEADER_NAME");class Mx{}let Ux=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(a),r.Tb(r.B),r.Tb(Fx))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),qx=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(Mx),r.Tb(Vx))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),zx=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(jx,[]);this.chain=t.reduceRight((t,e)=>new kx(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(px),r.Tb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Bx=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:qx,useClass:Px}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Fx,useValue:e.cookieName}:[],e.headerName?{provide:Vx,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[qx,{provide:jx,useExisting:qx,multi:!0},{provide:Mx,useClass:Ux},{provide:Fx,useValue:"XSRF-TOKEN"},{provide:Vx,useValue:"X-XSRF-TOKEN"}]}),t})(),Hx=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ax,{provide:dx,useClass:zx},Lx,{provide:px,useExisting:Lx},Dx,{provide:Nx,useExisting:Dx}],imports:[[Bx.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),Kx=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[fx]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[gv],imports:[[vt,ow,xi.a.initializeApp(i),mv,wC,Hx,nw,rw,tT,ax]]}),t})();Object(r.T)(),yt().bootstrapModule(Kx).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);